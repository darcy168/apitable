"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2182],{962182:function(e,n,t){t.r(n),t.d(n,{antdConfig:function(){return W},default:function(){return X}});var r=t(798788),i=t(347842),o=t(470865),c=t(996670),a=t(387394),s=t(745680),u=t(552322),d=t(323440),l=t(5693),f=t(885440),v=t(219779),A=t(789644),h=t.n(A),w=t(690758),g=t(996577),m=t.n(g),E=t(322907),p=t(451331),S=t(202784),b=t(531006),_=function(){var e=(0,S.useState)(!1),n=e[0],t=e[1];(0,S.useEffect)((function(){return window.addEventListener("newVersionRequired",r),function(){window.removeEventListener("newVersionRequired",r)}}),[]),(0,S.useEffect)((function(){n&&b.u_.error({title:(0,d.t)(d.Strings.front_version_error_title),content:(0,d.t)(d.Strings.front_version_error_desc),okText:(0,d.t)(d.Strings.refresh),onOk:function(){window.location.reload()}})}),[n]);var r=function(){t(!0)};return null},k=t(862218),R=t(864453),L=t(850930),x=t(914463),C=t(265462),N=t(829051),I="BLACK_SPACE_BANNER_ALERT",P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,C.a)({content:(0,d.t)(d.Strings.black_space_alert),upgrade:!0,destroyPrev:e,onBtnClick:x.goToUpgrade,id:I})},T=t(982008),Z=t(660059),y=t(178234),j=t(32889),M=t(585421),O=t(239821),B=t(42976),V=t(958979),K=t(907217),U={src:"/_next/static/media/workbench_account_nodata.04911888.png",height:540,width:720,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAMFBMVEVMaXHw7vnj4Pj7+v/39v/b1/T////39v/w7vvk4Pfi3vuxqOXi3vu8tOvg3fTd2vIg8rqpAAAAD3RSTlMA/ftGK0L8tRbHk42lxeKsIqchAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALklEQVQImT2ISRIAIAiAUMv2+v9vy0tcYIBPamvkiK4ix4CpLqcApi47DtXS0wUQZACilPT1JAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6};f.ZP.config({maxCount:1});var W={autoInsertSpaceInButton:!1,renderEmpty:function(){return(0,u.jsxs)("div",{className:"emptyPlaceholder",children:[(0,u.jsx)(m(),{alt:"no data",src:U,className:"img",width:160,height:120}),(0,u.jsx)("div",{className:"title",children:(0,d.t)(d.Strings.no_data)})]})}},X=function(e){var n=e.children,t=(0,S.useRef)({}),f=(0,N.useDispatch)(),A=(0,a.Z)(S.useState(),2),g=A[0],m=A[1];(0,l.Z)((0,r.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,O.w8)()];case 1:return e=n.sent(),m(e),[2]}}))}))),(0,S.useEffect)((function(){f(d.StoreActions.setRecordVision((0,B.cF)(B.mL.RecordVision)||d.RecordVision.Center))}),[f]),(0,S.useEffect)((function(){var e=navigator.userAgent.toLowerCase().indexOf("lark")>-1,n=function(n){for(var t=new RegExp("^(".concat(window.location.origin,"|(http|https)://vika.cn)")),r=n.target;r&&"A"!==r.tagName;)r=r.parentNode;var i=null===r||void 0===r?void 0:r.href;i&&e&&"A"===r.tagName&&t.test(i)&&(["/user","/login","/org","/workbench","/notify","/management","/invite","/template","/share"].some((function(e){return i.includes(e)}))||(n.preventDefault(),(0,p.S)(i,{method:"_self"===(n.target.target||"_self")?E.n.Push:E.n.NewTab})))};return window.addEventListener("click",n),function(){var e,t;window.removeEventListener("click",n),null===(e=V.g.proxy)||void 0===e||e[w.Yy](),null===(t=V.g.worker)||void 0===t||t.terminate()}}),[]),(0,S.useEffect)((function(){var e;if(null===(e=(0,M.Sy)())||void 0===e?void 0:e.FORCE_HTTPS){var n="https:",t=new URL(window.location.href);t.protocol!==n&&(t.protocol=n,window.location.href=t.href)}}),[]),(0,R.i)(),function(){var e=(0,N.useSelector)((function(e){var n,t;return null===(n=e.billing)||void 0===n||null===(t=n.subscription)||void 0===t?void 0:t.blackSpace}));(0,S.useEffect)((function(){if(e&&!location.href.includes("upgrade")){P();var n=new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)((function(e){e.forEach((function(e){e.target===document.body&&(0,L.Z)(e.removedNodes.values()).some((function(e){return e.id===I}))&&P();var n=document.getElementById(I);n&&e.removedNodes.length&&n.contains(e.target)&&P(!0)}))}));n.observe(document.body,{childList:!0,subtree:!0});var t=document.getElementById(I);t&&n.observe(t,{childList:!0,subtree:!0})}}),[e])}(),(0,S.useEffect)((function(){h().interceptors.request.use((function(e){return e.headers["X-XSRF-TOKEN"]=(0,y.ej)("XSRF-TOKEN"),e}),(function(e){return Promise.reject(e)}))}),[f]),(0,S.useEffect)((function(){var e=function(){f(d.StoreActions.setScreenWidth(window.innerWidth))};return f(d.StoreActions.setScreenWidth(window.innerWidth)),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[f]);var b=g?j.$:j.Q;return(0,u.jsx)(v.ZP,(0,c.Z)((0,o.Z)({},W),{children:(0,u.jsxs)(T.IO.Provider,{value:T.Zc.instance,children:[(0,u.jsx)(K.W,{manager:b,children:(0,u.jsx)(k.$C.Provider,{value:{cacheScrollMap:t,changeCacheScroll:function(e,n,r){if(Z.h){var a=Z.h.getState().pageParams,s=a.datasheetId,u=a.viewId,d="".concat(n||s,",").concat(r||u),l=t.current[d]||{},f=(0,c.Z)((0,o.Z)({},t.current),(0,i.Z)({},d,(0,o.Z)({},l,e)));t.current=f}}},children:n})}),(0,u.jsx)(_,{})]})}))}}}]);