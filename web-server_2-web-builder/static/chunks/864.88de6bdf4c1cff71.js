(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{836641:function(e,n,t){"use strict";t.d(n,{v:function(){return u}});var i=t(552322),r=(t(202784),t(495202)),s=t.n(r),o=t(528019),a=t(829051),l=t(72779),c=t.n(l),u=function(e){var n=e.className,t=e.hideTooltip,r=void 0!==t&&t,l=(0,a.useSelector)((function(e){var n;return null===(n=e.user.info)||void 0===n?void 0:n.spaceName}));return(0,i.jsx)("div",{className:c()(s().organization,n),children:r?(0,i.jsx)("h2",{className:s().orgName,children:l}):(0,i.jsx)(o.u,{title:l,textEllipsis:!0,children:(0,i.jsx)("h2",{className:s().orgName,children:l})})})}},690864:function(e,n,t){"use strict";t.r(n),t.d(n,{ManageAuth:function(){return l},default:function(){return c}});var i=t(552322),r=t(205632),s=t(47831),o=t(585421),a=t(829051),l=function(e){var n=e.children,t=(0,a.useSelector)((function(e){return e.spacePermissionManage.spaceResource})),l=(0,o.Sy)().SPACE_INTEGRATION_PAGE_VISIBLE,c=(0,r.useRouter)(),u=c.query.subPage;if(!t)return null;var d=t.mainAdmin,_=t.permissions,p=(0,s.k)(d,_,!l),g=function(e,n){var t,r=!0,s=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var d=a.value;if(d.key!==u||"boolean"!==typeof n||n||(t=(0,i.jsx)(i.Fragment,{children:c.replace("/management")})),d.children&&(t=g(d.children,d.valid)),d.key!==u||d.valid||(t=(0,i.jsx)(i.Fragment,{children:c.replace("/management")})),t)return t}}catch(_){s=!0,o=_}finally{try{r||null==l.return||l.return()}finally{if(s)throw o}}},m=g(p);return m||(0,i.jsx)(i.Fragment,{children:n})},c=l},47831:function(e,n,t){"use strict";t.d(n,{b:function(){return C},k:function(){return k}});var i=t(552322),r=t(351253),s=t(323440),o=t(165846),a=t(35126),l=t(914463),c=t(276635),u=t(205632),d=t(208155),_=t(836641),p=t(773941),g=t(864453),m=t(585421),y=t(202784),f=t(829051),S=t(968593),E=t.n(S),h=a.Z.TreeNode,v=a.Z.DirectoryTree,A="overview",k=function(e,n,t,r){return(0,c.compact)([{title:(0,s.t)(s.Strings.space_info),key:A,icon:(0,i.jsx)(o.DashboardOutlined,{}),valid:!0,routeAddress:"/overview"},l.Log&&{title:(0,s.t)(s.Strings.space_log_title),key:"log",icon:(0,i.jsx)(o.LogOutlined,{}),valid:e&&(0,m.Sy)().SPACE_LOGS_VISIBLE,routeAddress:"/log"},{title:(0,s.t)(s.Strings.view_permission_description),key:"workbench",icon:(0,i.jsx)(o.WorkbenchOutlined,{}),valid:(e||n.includes(s.ConfigConstant.PermissionCode.WORKBENCH))&&(0,m.Sy)().SPACE_PERMISSION_OVERVIEW_VISIBLE,routeAddress:"/workbench"},{title:(0,s.t)(s.Strings.upgrade_space),key:"upgrade",icon:(0,i.jsx)(o.RocketOutlined,{}),valid:Boolean(r&&!(0,m.k)()&&(0,m.Sy)().SPACE_UPGRADE_PAGE_VISIBLE),routeAddress:"/upgrade"},{title:(0,s.t)(s.Strings.organization_and_role),key:"addressManage",icon:(0,i.jsx)(o.DepartmentOutlined,{}),valid:e||n.includes(s.ConfigConstant.PermissionCode.TEAM)||n.includes(s.ConfigConstant.PermissionCode.MEMBER)||n.includes(s.ConfigConstant.PermissionCode.MANAGE_ROLE),children:[{routeAddress:"/managemember",title:(0,s.t)(s.Strings.members_setting),key:"managemember",valid:!0},{routeAddress:"/role",title:(0,s.t)(s.Strings.tab_role),key:"role",valid:n.includes(s.ConfigConstant.PermissionCode.MANAGE_ROLE)&&(0,m.Sy)().SPACE_ROLE_VISIBLE},{title:(0,s.t)(s.Strings.share_permisson_model_space_admin),key:"manager",valid:e,routeAddress:"/manager"}]},{title:(0,s.t)(s.Strings.permission_and_security),key:"security",icon:(0,i.jsx)(o.ShieldCheckOutlined,{}),valid:(e||n.includes(s.ConfigConstant.PermissionCode.SECURITY))&&(0,m.Sy)().SPACE_SECURITY_PAGE_VISIBLE,routeAddress:"/security"},{title:(0,s.t)(s.Strings.space_manage_menu_social),key:"marketing",icon:(0,i.jsx)(o.ManageApplicationOutlined,{}),valid:e&&!t&&!(0,m.k)()&&Boolean(l.Marketing),routeAddress:"/marketing"},{title:(0,s.t)(s.Strings.admin_test_function),key:"test-function",icon:(0,i.jsx)(o.TestOutlined,{}),routeAddress:"/test-function",valid:(0,m.Sy)().SPACE_EXPERIMENTAL_FEATURES_VISIBLE}])},C=function(){var e=(0,f.useSelector)((function(e){var n;return{spaceId:e.space.activeId||"",spaceResource:e.spacePermissionManage.spaceResource,userInfo:e.user.info,appType:null===(n=e.space.curSpaceInfo)||void 0===n?void 0:n.social.appType}}),f.shallowEqual),n=e.spaceId,t=e.spaceResource,a=e.userInfo,c=e.appType,S=(0,(0,g.Fs)().screenIsAtMost)(d._.md),C=(0,m.Sy)().SPACE_INTEGRATION_PAGE_VISIBLE,I=(0,y.useState)([]),x=I[0],T=I[1],P=function(e,n){var t=n.split("/"),i=t[t.length-1];return e.find((function(e){return e.key===i||e.children&&e.children.find((function(e){return e.key===i}))}))?[i]:["overview"]}(x,(0,u.useRouter)().pathname);(0,y.useEffect)((function(){if(t){var e=t.mainAdmin,n=t.permissions,i=k(e,n,!C,null==c);T(S?i.slice(0,1):i)}}),[t,C,c,S]);var N=function(e){return t&&e&&e.length?e.map((function(e){return!l.isEnterprise&&["upgrade","security"].includes(e.key)||a&&a.isDelSpace&&e.key!==A?[]:e.valid?e.children&&e.children.length?(0,i.jsx)(h,{title:e.title,selectable:!1,icon:e.icon,children:N(e.children)},e.key):(0,i.jsx)(h,{title:e.title,icon:e.icon,className:e.icon?E().noIcon:"",isLeaf:!0},e.key):[]})):null};return(0,i.jsxs)("div",{className:E().spaceMenuTree,children:[(0,i.jsx)(_.v,{}),(0,i.jsx)(r.Typography,{variant:"h8",className:E().spaceSubTitle,children:(0,s.t)(s.Strings.space_setting)}),t&&x.length>0&&(0,i.jsx)(v,{onSelect:function(e){p.F.push(s.Navigation.SPACE_MANAGE,{params:{spaceId:n,pathInSpace:e[0]}})},switcherIcon:(0,i.jsx)("div",{children:(0,i.jsx)(o.TriangleRightFilled,{size:12})}),showIcon:!0,expandAction:!1,selectedKeys:P,defaultExpandAll:!0,children:N(x)})]})}},495202:function(e){e.exports={antiEllipsis:"style_antiEllipsis__Y0Mir",noSelect:"style_noSelect__kX1qk",antSelectOptionCommon:"style_ant-select-option-common__ju7dP",flexCenter:"style_flexCenter__8nWoE",inputErrorMsg:"style_inputErrorMsg__KC_Py",tree:"style_tree__rcFtD",lightTree:"style_lightTree__hr5Ps",darkTree:"style_darkTree__w_7cA",organization:"style_organization__k_cqA",orgName:"style_orgName__F1qu3"}},968593:function(e){e.exports={antiEllipsis:"style_antiEllipsis__EkApo",noSelect:"style_noSelect__Z4cw8",antSelectOptionCommon:"style_ant-select-option-common__Y8kA3",flexCenter:"style_flexCenter__YnipJ",inputErrorMsg:"style_inputErrorMsg__P7oLg",tree:"style_tree__ff0Rt",lightTree:"style_lightTree__CY__2",darkTree:"style_darkTree__5TG5W",spaceSubTitle:"style_spaceSubTitle__524Wg",inviteBtn:"style_inviteBtn__Dzogv",spaceMenuTree:"style_spaceMenuTree__Ay1B4"}}}]);