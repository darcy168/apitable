(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5669],{985669:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var l=a(798788),s=a(745680),n=a(552322),r=a(323440),m=a(351253),u=a(165846),c=a(313054),o=a.n(c),i=a(996577),_=a.n(i),d=a(452341),A=a(451331),h=a(773941),b=a(178234),g=a(585421),C=a(202784),y=a(829051),j={src:"/_next/static/media/album_template_en.ba6da7c3.png",height:289,width:1400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAGFBMVEWEcu98Y7+ZjuRzWMJ+au+ckeaUg/GnmuGvDYc9AAAABHRSTlOKuYab8fyAWwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABdJREFUCJljYAABJkZmBjYWFhYWVlZ2AAD7AC60uVR5AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2},v={src:"/_next/static/media/album_template_zh.af66d90f.png",height:289,width:1400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEWMevB8ZL+YjeRzWMKAbO+kl+uaj+DxXQ62AAAABHRSTlOKuYab8fyAWwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABdJREFUCJljYAABJkZmBlYWFhYWVjZWAADzACzWTfdgAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2},x=a(717838),p=a.n(x),f=a(205632),N=new(o())({html:!0,breaks:!0}),R=function(){var e=(0,y.useSelector)((function(e){return e.pageParams.categoryId})),t=(0,y.useSelector)((function(e){return e.space.activeId})),a="zh-CN"===(0,r.getLanguage)(),c=(0,g.Sy)(),o=(0,f.useRouter)().query.album_id,i=(0,C.useState)(!0),x=i[0],R=i[1],T=(0,C.useState)(null),E=T[0],S=T[1];(0,C.useEffect)((function(){var e=function(){var e=(0,l.Z)((function(){var e,t,a,l,n,m,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,r.Api.getTemplateAlbum(o)];case 1:return e=s.sent(),[4,r.Api.getTemplateAlbumsRecommend(o,5)];case 2:return t=s.sent(),a=e.data,l=a.success,n=a.data,m=t.data,u=m.success,c=m.data,l&&u&&(R(!1),S({album:n,recommends:c})),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[o]);var B=function(){(0,b.eh)(location.href,(function(){d.v.success({content:(0,r.t)(r.Strings.template_album_share_success)})}))};if(x||!E)return(0,n.jsx)(m.Loading,{});var I=E.album,D=E.recommends;return(0,n.jsxs)("div",{className:p().albumDetail,children:[(0,n.jsxs)("header",{className:p().albumHeader,children:[(0,n.jsxs)("div",{className:p().goBack,onClick:function(){h.F.push(r.Navigation.TEMPLATE,{params:{spaceId:t,categoryId:e}})},children:[(0,n.jsx)(u.ChevronLeftOutlined,{color:"currentColor"}),(0,n.jsx)("span",{className:p().albumName,children:I.name})]}),(0,n.jsxs)("div",{className:p().shareBtn,onClick:B,children:[(0,n.jsx)(u.ShareOutlined,{currentColor:!0}),(0,r.t)(r.Strings.share)]})]}),(0,n.jsx)("div",{className:p().albumCover,children:(0,n.jsx)(_(),{src:I.cover,alt:"album cover",layout:"fill",objectFit:"cover"})}),(0,n.jsxs)("div",{className:p().albumContent,children:[(0,n.jsxs)("div",{className:p().albumContentLeft,children:[(0,n.jsxs)("div",{className:p().albumAuthor,children:[(0,n.jsxs)("header",{children:[(0,n.jsx)("div",{className:p().albumAuthorImg,children:(0,n.jsx)(_(),{src:I.authorLogo,alt:"author logo",layout:"fill",objectFit:"cover"})}),(0,n.jsxs)("div",{className:p().albumAuthorContent,children:[(0,n.jsx)("div",{className:p().albumAuthorTitle,children:(0,r.t)(r.Strings.album_publisher)}),(0,n.jsx)("h4",{children:I.authorName})]})]}),(0,n.jsxs)("div",{className:p().authorDesc,children:[(0,n.jsx)("span",{children:(0,n.jsx)(u.DescriptionOutlined,{currentColor:!0})}),(0,n.jsx)("div",{className:p().authorDescContent,children:I.authorDesc})]})]}),(0,n.jsx)("div",{className:p().albumTags,children:I.tags.map((function(e,t){return(0,n.jsx)("span",{className:p().albumTagItem,children:e},t)}))}),(0,n.jsxs)("div",{className:p().albumRecommends,children:[(0,n.jsx)("h3",{children:(0,r.t)(r.Strings.recommend_album)}),D.map((function(e){return(0,n.jsxs)("div",{className:p().albumRecommendItem,onClick:function(){return function(e){h.F.push(r.Navigation.TEMPLATE,{params:{spaceId:t,albumId:e,categoryId:"album"}})}(e.albumId)},children:[(0,n.jsx)("div",{className:p().albumRecommendImg,children:(0,n.jsx)(_(),{src:e.cover,alt:"recommend cover",layout:"fill",objectFit:"cover"})}),(0,n.jsxs)("div",{className:p().albumRecommendContent,children:[(0,n.jsx)(m.Typography,{variant:"h7",ellipsis:!0,children:e.name}),(0,n.jsx)(m.Typography,{variant:"body4",className:p().albumRecommendDesc,ellipsis:{rows:2},children:e.description})]})]},e.albumId)}))]})]}),(0,n.jsxs)("div",{className:p().albumContentRight,children:[(0,n.jsx)("div",{className:p().albumRightContent,dangerouslySetInnerHTML:{__html:N.render(I.content)}}),(0,n.jsx)("div",{className:p().bottomShare,children:(0,n.jsx)(m.Button,{shape:"round",variant:"fill",color:"primary",prefixIcon:(0,n.jsx)(u.ShareOutlined,{currentColor:!0}),onClick:B,children:(0,r.t)(r.Strings.share)})}),c.TEMPLATE_FEEDBACK_FORM_URL&&(0,n.jsx)("div",{className:p().albumAdvise,onClick:function(){return(0,A.S)("".concat(c.TEMPLATE_FEEDBACK_FORM_URL))},children:(0,n.jsx)(_(),{layout:"fill",objectFit:"contain",src:a?v:j,alt:""})})]})]}),(0,n.jsx)("div",{})]})}},717838:function(e){e.exports={antiEllipsis:"style_antiEllipsis__gGuYy",noSelect:"style_noSelect__iLVqs",antSelectOptionCommon:"style_ant-select-option-common__ihdrt",flexCenter:"style_flexCenter__f3Pbt",inputErrorMsg:"style_inputErrorMsg__F2XQ9",tree:"style_tree__JhzG_",lightTree:"style_lightTree__3TKKJ",darkTree:"style_darkTree__xLVUP",albumDetail:"style_albumDetail__wxzI_",albumHeader:"style_albumHeader__h47xf",shareBtn:"style_shareBtn__6bl_P",albumCover:"style_albumCover__JW05y",goBack:"style_goBack__2O64z",albumName:"style_albumName__VQmVm",albumContent:"style_albumContent__0ywe3",albumContentLeft:"style_albumContentLeft__JeeVN",albumAuthor:"style_albumAuthor__4ltYF",albumAuthorImg:"style_albumAuthorImg__lKb3t",albumAuthorContent:"style_albumAuthorContent__YVCZ6",albumAuthorTitle:"style_albumAuthorTitle__EyKTH",authorDesc:"style_authorDesc__bjeie",authorDescContent:"style_authorDescContent__Y8KvU",albumTags:"style_albumTags__Hw_ig",albumTagItem:"style_albumTagItem__sg8d2",albumRecommends:"style_albumRecommends__INdNh",albumRecommendItem:"style_albumRecommendItem__5tRGw",albumRecommendImg:"style_albumRecommendImg__CHacp",albumRecommendContent:"style_albumRecommendContent__L7Y4a",albumRecommendDesc:"style_albumRecommendDesc__aGnZo",albumContentRight:"style_albumContentRight__o8aZu",albumRightContent:"style_albumRightContent__aZcPq",albumAdvise:"style_albumAdvise__4tEtq",bottomShare:"style_bottomShare__QoUtB"}}}]);