"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6312],{610915:function(n,i,t){t.d(i,{t:function(){return e},w:function(){return a}});var e=32,a=8},496312:function(n,i,t){t.r(i);var e=t(552322),a=t(323440),u=t(5693),o=t(223258),r=t(773941),s=t(864453),c=t(202784),v=t(829051),d=t(610915),f=function(n,i){return null===n||void 0===n?void 0:n.substring(0,i)};i.default=function(){var n=(0,s.aM)(),i=(0,v.useDispatch)(),t=n.get("token"),k=n.get("inviteLinkToken"),p=f(n.get("inviteCode"),d.w),l=n.get("nodeId"),I=(0,c.useState)(""),g=I[0],h=I[1],N=(0,s.QT)((function(n,i){return a.Api.linkValid(n,i)}),{onSuccess:function(n){var t=n.data,e=t.success,u=t.code,o=t.data;if(i(a.StoreActions.updateInviteLinkInfo(n.data)),i(a.StoreActions.updateLinkToken(g)),e||201==u){if(o.isExist){var s=o.spaceId;r.F.push(a.Navigation.WORKBENCH,{params:{spaceId:s},clearQuery:!0})}o.isExist||r.F.push(a.Navigation.INVITE,{params:{invitePath:"link/confirm"},query:{inviteLinkToken:g,inviteCode:p,nodeId:l}})}else r.F.push(a.Navigation.INVITE,{params:{invitePath:"link/invalid"},query:{inviteLinkToken:g,inviteCode:p}})},manual:!0}).run;return(0,u.Z)((function(){var n=t||k;if(n){var i=f(n,d.t);i&&(h(i),N(i,l))}})),(0,e.jsx)(o.gb,{})}}}]);