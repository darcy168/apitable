"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7415],{217415:function(e,n,t){t.r(n);var r=t(798788),u=t(745680),i=t(552322),o=t(351253),s=t(323440),c=t(5693),a=t(42991),l=t(178234),f=t(202784),p=t(782812),d=t.n(p);n.default=function(e){var n=e.file,t=(0,f.useRef)(null),p=(0,f.useRef)(),v=(0,f.useRef)(!0),_=(0,f.useRef)(),h=function(){var e=(0,r.Z)((function(){var e,r;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return p.current=new(d())({el:t.current,url:(0,s.cellValueToImageSrc)(n),height:"100%",fitVideoSize:"fixHeight",videoInit:!0,errorTips:(0,s.t)(s.Strings.video_not_support_play),playsinline:!0,rotate:{innerRotate:!0},playbackRate:[.5,.75,1,1.5,2,2.5,3]}),(0,s.isPrivateDeployment)()?[3,2]:[4,s.Api.getAvInfo((0,l.DY)(n))];case 1:if(e=u.sent(),r=e.data.streams.reduce((function(e,n){return e.push(n.codec_name),e}),[]),!function(e,n){return!(!e.includes("mp4")||!n.includes("h264"))}(n.mimeType,r))return _.current=(0,o.showAlert)({content:(0,s.t)(s.Strings.preview_not_support_video_codecs),type:"warning",closable:!0,duration:0}),[2];u.label=2;case 2:return p.current.play(),v.current=!1,[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.Z)((function(){h()})),(0,a.Z)((function(){var e,n;null===(e=p.current)||void 0===e||e.destroy(),null===(n=_.current)||void 0===n||n.destroy()})),(0,i.jsx)("div",{ref:t,onMouseDown:o.stopPropagation,style:{minWidth:"100%"}})}}}]);