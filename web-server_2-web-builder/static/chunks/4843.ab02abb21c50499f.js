(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4843],{514843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var s=n(552322),i=n(351253),r=n(323440),a=n(996577),c=n.n(a),o=n(223258),l=n(736367),d=n(202784),m=n(829051),u=n(231396),A={src:"/_next/static/media/contacts_empty_light.085583dc.png",height:600,width:800,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAATlBMVEVMaXHe2fn29P+aivOcj+6woufQyvRgTunu7Pz09P/49//Oxvv19PqQf/OFc+/m4v5vV+Xq6/GrouT7+//6//ja2fXCuvZ7aOnX0/XEuecmTYBeAAAAFnRSTlMALz7u/Pr+Bv4KJq/g2GFU2m1ZoSvVCPwTmAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADhJREFUCJkVylsWwBAMQMFLQ0JL39T+N+p0vgdUVRNAXcoRbshra2GYYzeLItGD274u77+Sv86HCSnaAam2CN9vAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6},f={src:"/_next/static/media/contacts_empty_dark.8c0dd91e.png",height:600,width:800,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAASFBMVEVMaXGsnvZUUlumk92Tg/l1bKegkfZhV7nt6vr8/PZ/aO91dm+EdbF5Ze5RT1TT0vLW0fmWi9pAQjTr6/KAdctkXoZ9Z+aUka2GAtniAAAAF3RSTlMAYVmCz93zBw406dj69uCfzEcmbv2xh0jQGpAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA2SURBVAiZHcpJFoAgDETBHwU6wQFn7n9Tn9a6QJL4WEn1cTjunOcxnGGd+pXMgdiW0v6l/QxeIusBY8ANdgcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},g=n(208155),h=n(110899),_=n(158519),p=n(914463),v=n(862183),S=n(358610),x=n(372661),L=n(773941),b=n(304262),I=n(864453),j=n(354694),T=n(629120),E=n.n(T),N=n(872522),C=n(178314),y=function(e){var t=e.memberList,n=(0,l.T)(),a=(0,m.useSelector)((function(e){return e.pageParams.memberId})),c=(0,m.useSelector)((function(e){return e.space.activeId})),u=(0,m.useSelector)((function(e){return e.space.curSpaceInfo})),A=(0,d.useState)(""),f=A[0],g=A[1],_=(0,(0,I.Fs)().screenIsAtMost)(h._.md),v=(0,m.useSelector)((function(e){return e.addressList.memberListPageNo})),T=(0,m.useSelector)((function(e){return e.addressList.memberListTotal})),y=(0,m.useSelector)((function(e){return e.addressList.memberListLoading})),M=(0,m.useSelector)((function(e){return e.addressList.selectedTeamInfo})),R=(0,d.useState)(window.innerHeight-101),w=R[0],F=R[1];(0,d.useEffect)((function(){var e=function(){F(window.innerHeight-101)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var P=(0,C.Z)((function(){return n(r.StoreActions.updateMemberListPageNo(v+1)),void n(r.StoreActions.getMemberListPageData(v+1,M.teamId))}),{wait:500}).run;return(0,s.jsxs)("div",{className:E().memberListContainer,children:[(0,s.jsx)(x.ZP,{itemLayout:"horizontal",children:(0,s.jsx)(N.Z,{data:t,itemKey:"memberId",height:w,itemHeight:70,onScroll:function(e){var t=Math.ceil(T/r.ConfigConstant.MEMBER_LIST_PAGE_SIZE);e.currentTarget.scrollHeight-e.currentTarget.scrollTop===w&&v<t&&P()},className:E().memberListWrapper,children:function(e){var t=e.memberId,i=e.memberName,l=e.email,d=e.avatar,m=e.isActive,A=e.isMemberNameModified,h=e.avatarColor,v=e.nickName,I=(null===p.getSocialWecomUnitName||void 0===p.getSocialWecomUnitName?void 0:(0,p.getSocialWecomUnitName)({name:i,isModified:A,spaceInfo:u}))||i,T=(0,S.u)(e);return(0,s.jsx)(x.ZP.Item,{onClick:function(){return function(e){var t=e.memberId;g(t),L.F.push(r.Navigation.MEMBER_DETAIL,{params:{spaceId:c,memberId:t}}),_&&(0,j.z)(),n(r.StoreActions.updateMemberInfo(e))}(e)},className:f===t||a===t?E().selectItem:"",children:(0,s.jsx)("div",{className:E().listItem,children:(0,s.jsx)(o.rJ,{title:I||"",description:l&&!m?(0,r.t)(r.Strings.added_not_yet):l&&m?l:l?"":(0,r.t)(r.Strings.unbound),avatarProps:{id:t,avatarColor:h,title:v||(0,r.t)(r.Strings.added_not_yet),src:d},token:T?(0,s.jsx)(b.i,{type:T}):void 0})})},e.memberId)}})}),y&&(0,s.jsxs)("div",{className:E().lodingWrapper,children:[(0,s.jsx)(i.Loading,{currentColor:!0}),(0,s.jsx)("p",{children:(0,r.t)(r.Strings.data_loading)})]})]})},M=n(999416),R=n.n(M),w=u.Z,F=function(){var e=(0,l.T)(),t=(0,m.useSelector)((function(e){return{selectedTeamInfo:e.addressList.selectedTeamInfo,memberList:e.addressList.memberList,memberInfo:e.addressList.memberInfo,teamList:e.addressList.teamList,spaceInfo:e.space.curSpaceInfo,user:e.user.info,memberListTotal:e.addressList.memberListTotal}}),m.shallowEqual),n=t.selectedTeamInfo,a=t.memberList,u=t.memberInfo,x=t.spaceInfo,L=t.user,b=t.memberListTotal,I=(null===p.isSocialDingTalk||void 0===p.isSocialDingTalk?void 0:(0,p.isSocialDingTalk)(x))&&(null===p.isContactSyncing||void 0===p.isContactSyncing?void 0:(0,p.isContactSyncing)(x)),j=(0,m.useSelector)((function(e){return e.theme}))===i.ThemeName.Light?A:f;(0,d.useEffect)((function(){e(r.StoreActions.getTeamListData(L))}),[e,L]),(0,d.useEffect)((function(){n.teamId&&e(r.StoreActions.getMemberListData(n.teamId))}),[n,e]),(0,d.useEffect)((function(){e(r.StoreActions.spaceResource())}),[e,L.isAdmin,L.isMainAdmin]);var T=function(){return(0,s.jsxs)("div",{className:R().rightWrapper,children:[n&&n.teamId&&(0,s.jsxs)("div",{className:R().teamTitle,children:[(0,s.jsx)(g.d,{minWidthCompatible:h._.md,children:(0,s.jsx)(o.u,{title:n.teamTitle,placement:"bottomLeft",textEllipsis:!0,children:(0,s.jsx)("div",{className:R().title,children:n.teamTitle})})}),(0,s.jsx)(g.d,{maxWidthCompatible:h._.md,children:(0,s.jsx)("div",{className:R().title,children:n.teamTitle})}),(0,s.jsxs)("span",{children:["\uff08",b,(0,r.t)(r.Strings.person),"\uff09"]})]}),(0,s.jsx)("div",{className:R().memberWrapper,children:a.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:R().memberList,children:[I&&(0,s.jsx)("div",{style:{padding:"0 20px 24px"},children:(0,s.jsx)(i.Alert,{type:"default",content:(0,r.t)(r.Strings.dingtalk_admin_contact_syncing_tips)})}),(0,s.jsx)(y,{memberList:a})]}),(0,s.jsx)(g.d,{minWidthCompatible:h._.md,children:(0,s.jsx)("div",{className:R().memberInfo,children:u.memberId?(0,s.jsx)(S.b,{}):(0,s.jsx)("span",{className:R().emptyImage,children:(0,s.jsx)(c(),{src:j,alt:(0,r.t)(r.Strings.empty_data)})})})})]}):(0,s.jsx)("span",{className:R().emptyImage,children:(0,s.jsx)(c(),{src:j,alt:(0,r.t)(r.Strings.empty_data)})})})]})};return(0,s.jsxs)("div",{className:R().addressList,children:[(0,s.jsx)(g.d,{minWidthCompatible:h._.md,children:(0,s.jsxs)(w,{minSize:280,maxSize:800,defaultSize:280,children:[(0,s.jsx)("div",{className:R().splitLeft,children:(0,s.jsx)(_.q,{})}),(0,s.jsx)("div",{className:R().splitRight,children:T()})]})}),(0,s.jsxs)(g.d,{maxWidthCompatible:h._.md,children:[(0,s.jsx)(v.M,{}),T()]})]})},P=n(386303),W=n(667826),k=function(){return(0,s.jsx)(P.M,{children:(0,s.jsx)(W.f,{children:(0,s.jsx)(F,{})})})}},386303:function(e,t,n){"use strict";n.d(t,{M:function(){return x}});var s=n(552322),i=n(323440),r=n(205632),a=n(351253),c=n(996577),o=n.n(c),l=n(223258),d=n(773941),m=n(516026),u=n(38050),A=n.n(u),f=function(){var e=(0,a.useThemeMode)();return(0,s.jsxs)("div",{className:A().noAccess,children:[(0,s.jsx)("div",{className:A().logo,children:(0,s.jsx)(l.TR,{size:"large",theme:e})}),(0,s.jsx)("div",{className:A().noAccessImage,children:(0,s.jsx)(o(),{src:m.Z,alt:(0,i.t)(i.Strings.system_configuration_product_name)})}),(0,s.jsx)("h1",{children:(0,i.t)(i.Strings.space_not_access)}),(0,s.jsx)(a.Button,{color:"primary",onClick:function(){d.F.redirect(i.Navigation.HOME)},children:(0,i.t)(i.Strings.back_to_space)})]})},g=n(864453),h=n(982008),_=n(585421),p=n(202784),v=n(829051),S=n(834406),x=function(e){var t=e.children,n=(0,v.useSelector)((function(e){return i.Selectors.userStateSelector(e)}),v.shallowEqual),a=(0,v.useDispatch)(),c=(0,v.useSelector)((function(e){return e.space.activeId})),o=(0,g.QT)(i.Api.getLabsFeature,{manual:!0}).run,l=(0,r.useRouter)();if((0,g.N6)(),(0,p.useEffect)((function(){c&&o(c).then((function(e){var t,n,s;a(i.StoreActions.setLabs(null!==(s=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.keys)&&void 0!==s?s:[]))}))}),[a,o,c]),(0,p.useEffect)((function(){if(n.info){var e=n.info;e.isPaused&&d.F.push(i.Navigation.APPLY_LOGOUT),e.needCreate?d.F.push(i.Navigation.CREATE_SPACE):!e.isDelSpace||l.asPath.includes("/management")||d.F.push(i.Navigation.SPACE_MANAGE,{params:{spaceId:n.info.spaceId}})}}),[n.info,n.userInfoErr]),n.userInfoErr&&n.userInfoErr.code===i.StatusCode.MOVE_FORM_SPACE)return h.Zc.instance.destroy(),(0,s.jsx)(f,{});return n&&n.isLogin?n.info&&c?(0,s.jsx)(s.Fragment,{children:t}):null:(0,s.jsx)(s.Fragment,{children:function(){var e=(0,_.Sy)().LOGIN_ON_AUTHORIZATION_REDIRECT_TO_URL;if(e)return location.href=e+encodeURIComponent(location.href),null;var t=(S.env.SSR?{href:""}:location).href;return S.env.SSR||l.asPath.includes("login")||d.F.redirect(i.Navigation.LOGIN,{query:{reference:t}}),null}()})}},629120:function(e){e.exports={antiEllipsis:"style_antiEllipsis__Gn2gG",noSelect:"style_noSelect__FZWtU",antSelectOptionCommon:"style_ant-select-option-common__xhUpN",flexCenter:"style_flexCenter__WRbrJ",inputErrorMsg:"style_inputErrorMsg__omPtn",tree:"style_tree__Etvna",lightTree:"style_lightTree__Icd87",darkTree:"style_darkTree__5prR1",memberListContainer:"style_memberListContainer__RuL_n",memberListWrapper:"style_memberListWrapper__WT5P7",rcVirtualListHolderInner:"style_rc-virtual-list-holder-inner__fTaYF",selectItem:"style_selectItem__t1xK6",listItem:"style_listItem__PgvJe",lodingWrapper:"style_lodingWrapper__og_gd"}},38050:function(e){e.exports={noAccess:"style_noAccess__IkLNE",logo:"style_logo__EXQXf",noAccessImage:"style_noAccessImage__u04hh"}}}]);