(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2845],{302845:function(e,t,n){"use strict";n.r(t);var r=n(798788),o=n(745680),i=n(552322),a=n(323440),c=n(914463),s=n(223258),l=n(585421),d=n(202784),u=n(829051),_=n(301575),g=n.n(_),p=n(351253),f=function(e){return e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)};t.default=function(){var e=(0,d.useRef)(null),t=(0,u.useSelector)((function(e){return e.space.activeId})),n=(0,u.useSelector)((function(e){var t;return null===(t=e.billing)||void 0===t?void 0:t.subscription}))||{},_=n.product,h=n.recurringInterval,v=(0,d.useState)(!0),S=v[0],w=v[1],k=(0,l.Sy)(),x=(0,d.useState)(k.CLOUD_DISABLE_BILLING_UPGRADE),m=x[0],y=x[1];if((0,d.useEffect)((function(){if(e){var n=function(){var t,n;null===(t=e.current)||void 0===t||null===(n=t.contentWindow)||void 0===n||n.postMessage({msg:"fromVikaUpgrade",product:_,recurringInterval:h},"*")},i=function(e){if(e){var n=e.data,i=n.msg,l=n.pageType,d=n.grade,u=n.priceId;if("pageLoaded"===i&&w(!1),"toDowngrade"!==i||!d)return"toUpgrade"===i?d?void s.u_.info({title:(0,a.t)(a.Strings.upgrade),content:(0,a.t)(a.Strings.upgrade_content),hiddenCancelBtn:!1,okText:(0,a.t)(a.Strings.modal_upgrade_btn_txt,{grade:f(d)}),cancelText:(0,a.t)(a.Strings.cancel),zIndex:1100,onOk:(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.Api.checkoutOrder(t,u)];case 1:return e=r.sent(),n=e.data.url,location.href=n,[2]}}))}))}):void window.open("/space/".concat(t,"/upgrade"),"_blank","noopener,noreferrer"):void("changePeriod"!==i?("contactUs"===i&&(0,c.showUpgradeContactUs)(),l&&window.open("/space/".concat(t,"/upgrade?pageType=").concat(l),"_blank","noopener,noreferrer")):s.u_.warning({title:(0,a.t)(a.Strings.billing_interval),content:(0,a.t)(a.Strings.change_period_content),hiddenCancelBtn:!1,cancelText:(0,a.t)(a.Strings.cancel),zIndex:1100,onOk:(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.Api.checkoutOrder(t,u)];case 1:return e=r.sent(),n=e.data.url,location.href=n,[2]}}))}))}));s.u_.warning({title:(0,a.t)(a.Strings.downgrade),content:(0,a.t)(a.Strings.downgrade_content),hiddenCancelBtn:!1,okText:(0,a.t)(a.Strings.modal_downgrade_btn_txt,{grade:f(d)}),cancelText:(0,a.t)(a.Strings.cancel),zIndex:1100,onOk:(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.Api.checkoutOrder(t,u)];case 1:return e=r.sent(),n=e.data.url,location.href=n,[2]}}))}))})}},l=e.current;return null===l||void 0===l||l.addEventListener("load",n),window.addEventListener("message",i),function(){null===l||void 0===l||l.removeEventListener("load",n),window.removeEventListener("message",i)}}}),[t,_]),m)return c.Trial&&(0,i.jsx)(c.Trial,{setShowTrialModal:y,title:(0,a.t)(a.Strings.upgrade_space)});var E=location.origin+"/pricing/";return(0,i.jsxs)("div",{className:g().container,children:[S&&(0,i.jsxs)("div",{className:g().loading,children:[(0,i.jsx)(p.Skeleton,{width:"38%"}),(0,i.jsx)(p.Skeleton,{count:2}),(0,i.jsx)(p.Skeleton,{width:"61%"}),(0,i.jsx)(p.Skeleton,{width:"38%"}),(0,i.jsx)(p.Skeleton,{count:2}),(0,i.jsx)(p.Skeleton,{width:"61%"}),(0,i.jsx)(p.Skeleton,{width:"38%"}),(0,i.jsx)(p.Skeleton,{count:2}),(0,i.jsx)(p.Skeleton,{width:"61%"})]}),(0,i.jsx)("iframe",{src:E,ref:e})]})}},301575:function(e){e.exports={antiEllipsis:"style_antiEllipsis__FzE85",noSelect:"style_noSelect__vPMS3",antSelectOptionCommon:"style_ant-select-option-common__rrqkb",flexCenter:"style_flexCenter__CQ73s",inputErrorMsg:"style_inputErrorMsg__27BnV",tree:"style_tree__Xi4WT",lightTree:"style_lightTree__RJZgE",darkTree:"style_darkTree__qLF07",container:"style_container__F3Uxi",loading:"style_loading__1NqsY",header:"style_header__E1DB7",modalWrapper:"style_modalWrapper__ydAFW"}}}]);