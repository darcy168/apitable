exports.id = 8682;
exports.ids = [8682];
exports.modules = {

/***/ 65733:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _app_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23769);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var __jsx = react__WEBPACK_IMPORTED_MODULE_0__.createElement;


var SvgDatasheetIconTemplateFolder = function SvgDatasheetIconTemplateFolder(props) {
  return __jsx("svg", (0,_app_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)({
    viewBox: "0 0 16 16",
    xmlSpace: "preserve",
    width: "1em",
    height: "1em"
  }, props), __jsx("path", {
    d: "M13 3H7.4c-.3 0-.5-.1-.7-.3l-.4-.4c-.2-.2-.4-.3-.7-.3H3c-.6 0-1 .4-1 1v2h12V4c0-.6-.4-1-1-1zM2 13c0 .6.4 1 1 1h10c.6 0 1-.4 1-1V6H2v7z"
  }));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgDatasheetIconTemplateFolder);

/***/ }),

/***/ 64810:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _app_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23769);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

var __jsx = react__WEBPACK_IMPORTED_MODULE_0__.createElement;


var SvgSpaceIconCertified = function SvgSpaceIconCertified(props) {
  return __jsx("svg", (0,_app_node_modules_next_dist_compiled_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)({
    width: "1em",
    height: "1em",
    viewBox: "0 0 16 16"
  }, props), __jsx("path", {
    fillRule: "evenodd",
    d: "M8 2 3 4.5v3.917a4 4 0 0 0 1.706 3.277l2.72 1.905a1 1 0 0 0 1.147 0l2.72-1.905A4 4 0 0 0 13 8.417V4.5L8 2ZM6.53 7.47a.75.75 0 0 0-1.06 1.06l1.414 1.415a.75.75 0 0 0 1.06 0l2.829-2.829a.75.75 0 1 0-1.06-1.06L7.413 8.353 6.53 7.47Z",
    clipRule: "evenodd"
  }));
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SvgSpaceIconCertified);

/***/ }),

/***/ 48499:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__7_L70",
	"noSelect": "style_noSelect__m023q",
	"antSelectOptionCommon": "style_ant-select-option-common__5XfWH",
	"flexCenter": "style_flexCenter__j9Rak",
	"inputErrorMsg": "style_inputErrorMsg__wo5hB",
	"tree": "style_tree__Zp04G",
	"lightTree": "style_lightTree__UvS1R",
	"darkTree": "style_darkTree__zzshY",
	"treeWrapper": "style_treeWrapper__b61ei"
};


/***/ }),

/***/ 6415:
/***/ ((module) => {

// Exports
module.exports = {
	"memberInfoWrapper": "style_memberInfoWrapper__pgx6Z",
	"portrait": "style_portrait__Bjynm",
	"nameAndTag": "style_nameAndTag__fTc9U",
	"identityWrap": "style_identityWrap__BX85a",
	"identity": "style_identity__pXecI",
	"infoItem": "style_infoItem__5STg9",
	"infoTitle": "style_infoTitle__K0hK_",
	"infoDetail": "style_infoDetail___Vyba",
	"teamInfo": "style_teamInfo__RB9Yp",
	"emptyDetail": "style_emptyDetail__o8EXx",
	"nameItemContent": "style_nameItemContent__Pr17j",
	"memberName": "style_memberName__k3ESH",
	"editIcon": "style_editIcon__3TnDE",
	"input": "style_input__J8aAf",
	"err": "style_err__Az235",
	"antInput": "style_ant-input___58L_"
};


/***/ }),

/***/ 77738:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__Hi5PE",
	"noSelect": "style_noSelect__9DRHe",
	"antSelectOptionCommon": "style_ant-select-option-common__DPS6J",
	"flexCenter": "style_flexCenter___TGUK",
	"inputErrorMsg": "style_inputErrorMsg__KNMU2",
	"tree": "style_tree__TfrYO",
	"lightTree": "style_lightTree__n_TqA",
	"darkTree": "style_darkTree__syUkB",
	"addressList": "style_addressList__YpTW7",
	"splitLeft": "style_splitLeft__ccZA9",
	"leftContent": "style_leftContent__jihSe",
	"listWrapper": "style_listWrapper__zzcis",
	"filter": "style_filter__rcUI3",
	"inviteBtn": "style_inviteBtn__SLPMA",
	"menu": "style_menu__fxWR3",
	"searchItem": "style_searchItem__yyPzQ",
	"splitRight": "style_splitRight__U1FAw",
	"rightWrapper": "style_rightWrapper__fecs8",
	"teamTitle": "style_teamTitle__8I9DH",
	"title": "style_title__3MjrH",
	"memberWrapper": "style_memberWrapper__p0vKg",
	"memberList": "style_memberList__vazaX",
	"memberInfo": "style_memberInfo__vzIzV",
	"emptyImage": "style_emptyImage__bz_fp",
	"mobileBack": "style_mobileBack__5TIVb",
	"mobileContainer": "style_mobileContainer__HxSJT",
	"memberInfoDrawer": "style_memberInfoDrawer__mFT56"
};


/***/ }),

/***/ 34028:
/***/ ((module) => {

// Exports
module.exports = {
	"createSpaceWrapper": "style_createSpaceWrapper__HspM8",
	"upload": "style_upload__CfOtb",
	"tip": "style_tip__nOZPQ",
	"format": "style_format__PtCfU",
	"process": "style_process__tYUhV",
	"fileName": "style_fileName__O_x4Z",
	"success": "style_success__NCSNi",
	"successProgress": "style_successProgress__7JTrn",
	"failProgress": "style_failProgress__yl7zn",
	"fail": "style_fail__0M0tp",
	"cancelBtn": "style_cancelBtn__Ig3l7",
	"status": "style_status__3KRa4",
	"reloadBtn": "style_reloadBtn__PA8Tb"
};


/***/ }),

/***/ 26580:
/***/ ((module) => {

// Exports
module.exports = {
	"moveTo": "style_moveTo__41AwH",
	"title": "style_title__8ix80",
	"titleIcon": "style_titleIcon__DKT1M",
	"selectFolder": "style_selectFolder__oZwc4",
	"searchInput": "style_searchInput__0cynA",
	"wholeTips": "style_wholeTips__7a89O",
	"noWholeTips": "style_noWholeTips__si9pP",
	"switchWholeBtn": "style_switchWholeBtn__N6B71",
	"folderList": "style_folderList__MRgJH",
	"folderItem": "style_folderItem__4CmJa",
	"folderItemContent": "style_folderItemContent__AqIGL",
	"folderName": "style_folderName__SnW53",
	"scrollShadow": "style_scrollShadow__J_pQQ",
	"folderListNoTips": "style_folderListNoTips__HwhAI",
	"moveToMobile": "style_moveToMobile__u1Mkq",
	"mobileFooter": "style_mobileFooter__1qwAE",
	"mobileTitleBack": "style_mobileTitleBack__pPagT",
	"permissionSetBtn": "style_permissionSetBtn__RSA9N"
};


/***/ }),

/***/ 25132:
/***/ ((module) => {

// Exports
module.exports = {
	"membersDetail": "style_membersDetail__wX16Q",
	"container": "style_container__wzJzl",
	"title": "style_title__VKGSW",
	"scrollWrapper": "style_scrollWrapper__NKSUS"
};


/***/ }),

/***/ 14113:
/***/ ((module) => {

// Exports
module.exports = {
	"unitList": "style_unitList__v4mPM"
};


/***/ }),

/***/ 23386:
/***/ ((module) => {

// Exports
module.exports = {
	"title": "style_title__gldo6",
	"nodeType": "style_nodeType__f2ZhQ",
	"nodeInfo": "style_nodeInfo__P7GO3",
	"nodeName": "style_nodeName__QYkgl",
	"help": "style_help__iEPZ6",
	"permissionDrawer": "style_permissionDrawer__iwXvh",
	"permissionModal": "style_permissionModal__xOTgV",
	"helpBtn": "style_helpBtn__PeeF8"
};


/***/ }),

/***/ 44179:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__N4wil",
	"noSelect": "style_noSelect__ncr6S",
	"antSelectOptionCommon": "style_ant-select-option-common__Ui_wV",
	"flexCenter": "style_flexCenter__Q_0CC",
	"inputErrorMsg": "style_inputErrorMsg__SfAj6",
	"tree": "style_tree__wnu17",
	"lightTree": "style_lightTree__xiEWA",
	"darkTree": "style_darkTree__w2n4k",
	"catalogWrapper": "style_catalogWrapper__lLq9N",
	"workCatalog": "style_workCatalog__S9kWz",
	"title": "style_title__ThlTU",
	"opWrapper": "style_opWrapper__3m8VI",
	"iconItem": "style_iconItem__919gu",
	"treeWrapper": "style_treeWrapper__kep_g",
	"addButton": "style_addButton__N0Jg3",
	"text": "style_text__luxTa",
	"treeFill": "style_treeFill__D3vda",
	"shortcutMenu": "style_shortcutMenu__I_J6t",
	"menuItem": "style_menuItem__3xYPa",
	"addNodeBtn": "style_addNodeBtn__r54Qm",
	"inviteCardWrap": "style_inviteCardWrap__YtM53"
};


/***/ }),

/***/ 843:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__e9iPk",
	"noSelect": "style_noSelect__Cs8xo",
	"antSelectOptionCommon": "style_ant-select-option-common__oJ7Ww",
	"flexCenter": "style_flexCenter__rSDzS",
	"inputErrorMsg": "style_inputErrorMsg__0RMo3",
	"tree": "style_tree__s8hNk",
	"lightTree": "style_lightTree__DjGgq",
	"darkTree": "style_darkTree__ID78T",
	"leftContent": "style_leftContent__h35CW",
	"listWrapper": "style_listWrapper__J4b_6",
	"filter": "style_filter__Uicmo",
	"empty": "style_empty__DPl4c",
	"inviteBtnMobile": "style_inviteBtnMobile__DNUgR",
	"isSyncingMembers": "style_isSyncingMembers__JmALs",
	"menu": "style_menu__11HWP",
	"searchItem": "style_searchItem__bO1Y3",
	"searchInputWrapper": "style_searchInputWrapper__2RHrg",
	"searchInput": "style_searchInput__qK17q"
};


/***/ }),

/***/ 76587:
/***/ ((module) => {

// Exports
module.exports = {
	"templateCategoryBg": "style_templateCategoryBg__58vI4",
	"templateClass": "style_templateClass__maNjj",
	"templateCategory": "style_templateCategory__654B9",
	"title": "style_title__cpSip",
	"logo": "style_logo__ovHr2",
	"searchContainer": "style_searchContainer__N8A_k",
	"templateSearch": "style_templateSearch___0J4f",
	"subTitle": "style_subTitle__UY2KL",
	"categoryItem": "style_categoryItem__5B6I6",
	"categoryName": "style_categoryName__csp3M",
	"active": "style_active__OBdfE",
	"listContainer": "style_listContainer__KBmYr",
	"searchResult": "style_searchResult___gVch",
	"item": "style_item__sbBCQ",
	"nameContainer": "style_nameContainer__Q9NKU",
	"name": "style_name__CT5Z6",
	"tags": "style_tags__vp6rm",
	"tag": "style_tag___lCs5",
	"emptyList": "style_emptyList__7qJpy",
	"tip": "style_tip__c0djz",
	"officialSubTitle": "style_officialSubTitle__4tn_f",
	"officialTemplate": "style_officialTemplate__HqBSt",
	"officialTemplateList": "style_officialTemplateList__TM_p8",
	"spaceTemplate": "style_spaceTemplate__4HeiR",
	"activedCategory": "style_activedCategory__UUnqN",
	"activedCategoryMobile": "style_activedCategoryMobile__L9SSs",
	"closeBtn": "style_closeBtn__yOL_f",
	"albumName": "style_albumName__mjgLg"
};


/***/ }),

/***/ 57257:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__i_J8d",
	"noSelect": "style_noSelect__vseET",
	"antSelectOptionCommon": "style_ant-select-option-common__sC_mQ",
	"flexCenter": "style_flexCenter__fkOaZ",
	"inputErrorMsg": "style_inputErrorMsg__SqwE5",
	"tree": "style_tree__WBtoU",
	"lightTree": "style_lightTree__KQu0V",
	"darkTree": "style_darkTree__73cmR",
	"left": "style_left__L90yu",
	"categoryName": "style_categoryName__Owot9",
	"goBackWrapper": "style_goBackWrapper__SY93D",
	"creator": "style_creator__Xy8bC",
	"avatar": "style_avatar__Ay1bm",
	"nickName": "style_nickName__JWjQc",
	"spaceName": "style_spaceName__sRriC",
	"templateName": "style_templateName__FBuUb",
	"closeBtn": "style_closeBtn__MmD0B",
	"isPanelClose": "style_isPanelClose__BpeLf",
	"buttonGroup": "style_buttonGroup__2_wwI",
	"shareBtn": "style_shareBtn__eNPxy",
	"treeWrapper": "style_treeWrapper__HjQAT"
};


/***/ }),

/***/ 40050:
/***/ ((module) => {

// Exports
module.exports = {
	"favorite": "style_favorite__jPqbh",
	"empty": "style_empty__3ixOa",
	"emptyFavoritePng": "style_emptyFavoritePng__B9MLM",
	"tip": "style_tip__gwfL3",
	"emptyNodes": "style_emptyNodes__PRwPE",
	"errorTip": "style_errorTip__K_Ip8"
};


/***/ }),

/***/ 58895:
/***/ ((module) => {

// Exports
module.exports = {
	"spaceBaseInfoPopover": "style_spaceBaseInfoPopover__eIgLc",
	"spaceName": "style_spaceName__Q1AwZ",
	"metaInfo": "style_metaInfo__Y3kNu",
	"sepLine": "style_sepLine__DWGCe",
	"item": "style_item__sDKk_",
	"label": "style_label__QfhT2",
	"copy": "style_copy__5hOla"
};


/***/ }),

/***/ 68427:
/***/ ((module) => {

// Exports
module.exports = {
	"left": "style_left__R0AWZ",
	"spaceName": "style_spaceName__rzRRB",
	"logo": "style_logo___llkJ",
	"popover": "style_popover__Gq_1_"
};


/***/ }),

/***/ 68625:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__tlD_q",
	"noSelect": "style_noSelect__tjJsD",
	"antSelectOptionCommon": "style_ant-select-option-common__Ye0uo",
	"flexCenter": "style_flexCenter__GXKrF",
	"inputErrorMsg": "style_inputErrorMsg__Bx3bj",
	"tree": "style_tree__YRvuS",
	"lightTree": "style_lightTree__5tHgY",
	"darkTree": "style_darkTree__M6P_F",
	"workbenchSide": "style_workbenchSide____y0c",
	"header": "style_header__S8O6n",
	"search": "style_search__nWmfY",
	"searchBtn": "style_searchBtn__3zUuj",
	"groups": "style_groups__nEe5j",
	"groupName": "style_groupName__6Ho_V",
	"text": "style_text__SZ4Q5",
	"arrow": "style_arrow__syW8l",
	"active": "style_active__QRIXI",
	"favorite": "style_favorite__sBmvL",
	"catalog": "style_catalog__PnJfN",
	"fixedGroup": "style_fixedGroup__5B_Gm",
	"groupItem": "style_groupItem__rCrkK",
	"name": "style_name__xOuA0",
	"mainContainer": "style_mainContainer__99_EY",
	"btnContainer": "style_btnContainer__Uu6sH",
	"shortcutCreateBtn": "style_shortcutCreateBtn__LLAV1",
	"body": "style_body__kwPRs",
	"left": "style_left__OhzUL",
	"right": "style_right__NTSUn",
	"collapse": "style_collapse__9qrG_"
};


/***/ }),

/***/ 11338:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__Y0Mir",
	"noSelect": "style_noSelect__kX1qk",
	"antSelectOptionCommon": "style_ant-select-option-common__ju7dP",
	"flexCenter": "style_flexCenter__8nWoE",
	"inputErrorMsg": "style_inputErrorMsg__KC_Py",
	"tree": "style_tree__rcFtD",
	"lightTree": "style_lightTree__hr5Ps",
	"darkTree": "style_darkTree__w_7cA",
	"organization": "style_organization__k_cqA",
	"orgName": "style_orgName__F1qu3"
};


/***/ }),

/***/ 45660:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__sSz_H",
	"noSelect": "style_noSelect__Ec9NU",
	"antSelectOptionCommon": "style_ant-select-option-common__yd3ev",
	"flexCenter": "style_flexCenter____Z2K",
	"inputErrorMsg": "style_inputErrorMsg__BkUUZ",
	"tree": "style_tree__zsAEx",
	"lightTree": "style_lightTree__HWcmU",
	"darkTree": "style_darkTree__0yThB",
	"nodeContainer": "style_nodeContainer__JOiR7",
	"superiorPath": "style_superiorPath__2ykpk",
	"node": "style_node__P81Lc",
	"icon": "style_icon__3YmyY",
	"nodeName": "style_nodeName__vMf1R"
};


/***/ }),

/***/ 90540:
/***/ ((module) => {

// Exports
module.exports = {
	"hover": "style_hover__ruMqK",
	"searchWrapper": "style_searchWrapper__XdiC7",
	"fadeIn": "style_fadeIn__m7U5A",
	"searchContent": "style_searchContent__Tp5xE",
	"search": "style_search__quSBC",
	"searchInput": "style_searchInput__ol8Wi",
	"closeBtn": "style_closeBtn__wNahQ",
	"nodeList": "style_nodeList__Gjn1s",
	"emptyResult": "style_emptyResult__rD7O3",
	"tip": "style_tip__R5aUX",
	"title": "style_title__u9AQx",
	"modalHeader": "style_modalHeader__pAU9N",
	"titleSearchIcon": "style_titleSearchIcon__qNfwy",
	"modalWrapper": "style_modalWrapper__XwxMS",
	"tabWrapper": "style_tabWrapper__wAN9A",
	"typeTabItem": "style_typeTabItem__EMSdK",
	"typeTabItemActive": "style_typeTabItemActive__YpUXp",
	"defaultContent": "style_defaultContent__v2djl",
	"footerTips": "style_footerTips__LFnGB",
	"footerIconBox": "style_footerIconBox__Ts063",
	"footerTipsEsc": "style_footerTipsEsc__NG9Ex"
};


/***/ }),

/***/ 20106:
/***/ ((module) => {

// Exports
module.exports = {
	"memberTag": "style_memberTag__vrlOF",
	"primaryTag": "style_primaryTag__bR4HB",
	"subTag": "style_subTag__2hGvF",
	"inactiveTag": "style_inactiveTag__MS__h"
};


/***/ }),

/***/ 12318:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "corp_certified_tag_antiEllipsis__Gnw5Y",
	"noSelect": "corp_certified_tag_noSelect__UkFvY",
	"antSelectOptionCommon": "corp_certified_tag_ant-select-option-common__6R8lY",
	"flexCenter": "corp_certified_tag_flexCenter__gbGw_",
	"inputErrorMsg": "corp_certified_tag_inputErrorMsg__IOafF",
	"tree": "corp_certified_tag_tree__6pCPx",
	"lightTree": "corp_certified_tag_lightTree__4NjCx",
	"darkTree": "corp_certified_tag_darkTree__ByQMY",
	"tag": "corp_certified_tag_tag__AET42",
	"tagCorpCertified": "corp_certified_tag_tagCorpCertified__5J7Ld",
	"text": "corp_certified_tag_text__ltZo7",
	"tagCorpUncertified": "corp_certified_tag_tagCorpUncertified__MeTVO",
	"icon": "corp_certified_tag_icon__L9Yev"
};


/***/ }),

/***/ 28953:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__EkApo",
	"noSelect": "style_noSelect__Z4cw8",
	"antSelectOptionCommon": "style_ant-select-option-common__Y8kA3",
	"flexCenter": "style_flexCenter__YnipJ",
	"inputErrorMsg": "style_inputErrorMsg__P7oLg",
	"tree": "style_tree__ff0Rt",
	"lightTree": "style_lightTree__CY__2",
	"darkTree": "style_darkTree__5TG5W",
	"spaceSubTitle": "style_spaceSubTitle__524Wg",
	"inviteBtn": "style_inviteBtn__Dzogv",
	"spaceMenuTree": "style_spaceMenuTree__Ay1B4"
};


/***/ }),

/***/ 39470:
/***/ ((module) => {

// Exports
module.exports = {
	"antiEllipsis": "style_antiEllipsis__OXUWU",
	"noSelect": "style_noSelect__cckv3",
	"antSelectOptionCommon": "style_ant-select-option-common__kFVdV",
	"flexCenter": "style_flexCenter__a3UZs",
	"inputErrorMsg": "style_inputErrorMsg__knSnK",
	"tree": "style_tree__U2F7H",
	"lightTree": "style_lightTree__N4GhP",
	"darkTree": "style_darkTree__FZmUA",
	"permissionDesc": "style_permissionDesc__vFDDk",
	"titleTag": "style_titleTag__Pfsot",
	"tagTitleRight": "style_tagTitleRight__jCFRN",
	"perItem": "style_perItem__sOXs4",
	"perItemLeft": "style_perItemLeft__p_uDu",
	"perItemRight": "style_perItemRight__p5N6l",
	"panelHeader": "style_panelHeader__ksfwD",
	"collapse": "style_collapse__P6tmP",
	"permissionDescModal": "style_permissionDescModal__P87QG",
	"body": "style_body__J6Oyo"
};


/***/ }),

/***/ 54020:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/favorite.d8523dbe.png","height":78,"width":108,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAKlBMVEX7w1r+6L36tC76rRP6rRX5rRP+7s797s/////5rRT5rBP5rRT5qw/5rBPLAiTlAAAADnRSTlMBEhz6gD1XW0W+37+wYC+omJsAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAtSURBVAiZHcjHDQAwDMNASS7p+68b2HwdCDDRJfQajGuuUpgd9lvbJ4uCgPEBDGYAe+i1F0kAAAAASUVORK5CYII=","blurWidth":8,"blurHeight":6});

/***/ }),

/***/ 51326:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "u": () => (/* binding */ AddressTreeMenu)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12746);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48499);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(54106);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(36367);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common__WEBPACK_IMPORTED_MODULE_3__]);
pc_components_common__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 







const { TreeNode , DirectoryTree  } = antd__WEBPACK_IMPORTED_MODULE_6__/* .Tree */ .mp;
const AddressTreeMenu = (props)=>{
    const { listData , onSelect  } = props;
    const { teamId  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state)=>state.addressList.selectedTeamInfo);
    const dispatch = (0,pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_5__/* .useAppDispatch */ .T)();
    const renderTreeNode = (data)=>{
        if (!data || data.length === 0) {
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
        }
        return data.map((item)=>{
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(TreeNode, {
                title: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_3__/* .Tooltip */ .u, {
                    title: item.teamName,
                    placement: "bottomLeft",
                    textEllipsis: true,
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        children: item.teamName
                    })
                }),
                isLeaf: !item.hasChildren,
                children: item.children && item.children.length > 0 && renderTreeNode(item.children)
            }, item.teamId);
        });
    };
    const teamClick = (keys, event)=>{
        onSelect(keys, event);
    };
    const onExpand = (expandedKeys, info)=>{
        if (info.expanded && !info.node.children) {
            const teamId = expandedKeys[expandedKeys.length - 1];
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getSubTeam(teamId));
        }
    };
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().treeWrapper),
        children: listData.length > 0 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(DirectoryTree, {
            onSelect: teamClick,
            onExpand: onExpand,
            expandAction: false,
            selectedKeys: [
                teamId
            ],
            switcherIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_4__.TriangleRightFilled, {
                    size: 12
                })
            }),
            showIcon: false,
            children: renderTreeNode(listData)
        })
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 28522:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "u": () => (/* reexport safe */ _address_tree_menu__WEBPACK_IMPORTED_MODULE_0__.u)
/* harmony export */ });
/* harmony import */ var _address_tree_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51326);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_address_tree_menu__WEBPACK_IMPORTED_MODULE_0__]);
_address_tree_menu__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 54694:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "z": () => (/* binding */ expandMemberInfo)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12746);
/* harmony import */ var pc_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99000);
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7849);
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom_client__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _member_info__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(51719);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(77738);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_7__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_member_info__WEBPACK_IMPORTED_MODULE_6__]);
_member_info__WEBPACK_IMPORTED_MODULE_6__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 








const expandMemberInfo = ()=>{
    const div = document.createElement("div");
    document.body.appendChild(div);
    const root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_4__.createRoot)(div);
    function destroy() {
        root.unmount();
        if (div.parentNode) {
            div.parentNode.removeChild(div);
        }
    }
    function close() {
        setTimeout(()=>{
            destroy();
        }, 0);
    }
    function render() {
        setTimeout(()=>{
            root.render(/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_redux__WEBPACK_IMPORTED_MODULE_5__.Provider, {
                store: pc_store__WEBPACK_IMPORTED_MODULE_3__/* .store */ .h,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().memberInfoDrawer),
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__/* .Drawer */ .dy, {
                        placement: "right",
                        height: "100%",
                        width: "100%",
                        visible: true,
                        closable: false,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().mobileBack),
                                onClick: close,
                                children: [
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_2__.ChevronLeftOutlined, {
                                        color: "currentColor"
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.back)
                                    })
                                ]
                            }),
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_member_info__WEBPACK_IMPORTED_MODULE_6__/* .MemberInfo */ .b, {})
                        ]
                    })
                })
            }));
        });
    }
    render();
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 51719:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "b": () => (/* reexport safe */ _member_info__WEBPACK_IMPORTED_MODULE_0__.b)
/* harmony export */ });
/* harmony import */ var _member_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57291);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_member_info__WEBPACK_IMPORTED_MODULE_0__]);
_member_info__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 57291:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "b": () => (/* binding */ MemberInfo)
/* harmony export */ });
/* unused harmony export getIdentity */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85421);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(6415);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(54106);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(22829);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(12746);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(57398);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(ahooks__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var pc_components_space_manage_identity__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(4262);
/* harmony import */ var enterprise__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(14463);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_10__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common__WEBPACK_IMPORTED_MODULE_6__, pc_hooks__WEBPACK_IMPORTED_MODULE_7__]);
([pc_components_common__WEBPACK_IMPORTED_MODULE_6__, pc_hooks__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 











// @ts-ignore


const getIdentity = (memberInfo)=>{
    if (!memberInfo.isActive) return "inactive";
    if (memberInfo.isAdmin) return "subAdmin";
    if (memberInfo.isMainAdmin) return "mainAdmin";
    return "";
};
const MemberInfo = ()=>{
    const { memberInfo , selectedMemberInfo , user , spaceResource , spaceInfo  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state)=>({
            memberInfo: state.addressList.memberInfo,
            selectedMemberInfo: state.addressList.selectedTeamInfo,
            user: state.user.info,
            spaceResource: state.spacePermissionManage.spaceResource,
            spaceInfo: state.space.curSpaceInfo
        }), react_redux__WEBPACK_IMPORTED_MODULE_3__.shallowEqual);
    const { 0: inEditName , 1: setInEditName  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
    const { 0: nameLengthErr , 1: setNameLengthErr  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
    const [editIcon, { set: setEditIcon  }] = (0,ahooks__WEBPACK_IMPORTED_MODULE_8__.useToggle)(false);
    const { editMemberName , editOwnMemberNameInAddress  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_7__/* .useAddressRequest */ .Q5)();
    const env = (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_1__/* .getEnvVariables */ .Sy)();
    const editNameClick = ()=>{
        setInEditName(true);
    };
    const onPressEnter = (e)=>{
        if (nameLengthErr) {
            return;
        }
        setInEditName(false);
        setNameLengthErr(false);
        if (e.target.value === memberInfo.memberName || nameLengthErr) {
            return;
        }
        if (memberInfo.memberId === user.memberId) {
            editOwnMemberNameInAddress(memberInfo.memberId, e.target.value);
        } else {
            const teamIds = memberInfo.teams ? memberInfo.teams.map((item)=>item.teamId) : [];
            editMemberName({
                memberId: memberInfo.memberId,
                memberName: e.target.value,
                teamIds
            });
        }
    };
    const inputChange = (e)=>{
        if (e.target.value.length > _apitable_core__WEBPACK_IMPORTED_MODULE_4__.ConfigConstant.MEMBER_NAME_LENGTH) {
            !nameLengthErr && setNameLengthErr(true);
        } else {
            nameLengthErr && setNameLengthErr(false);
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{
        if (!user) {
            return;
        }
        const hasPerm = user.isAdmin && !user.isMainAdmin && spaceResource && spaceResource.permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.ConfigConstant.PermissionCode.MEMBER);
        const isBindSocial = spaceInfo && (0,enterprise__WEBPACK_IMPORTED_MODULE_11__.isSocialPlatformEnabled)?.(spaceInfo) && !(0,enterprise__WEBPACK_IMPORTED_MODULE_11__.isSocialFeiShu)?.(spaceInfo);
        if (!isBindSocial && (memberInfo.memberId === user.memberId || user.isMainAdmin || hasPerm)) {
            !editIcon && setEditIcon(true);
            return;
        }
        editIcon && setEditIcon(false);
    }, [
        memberInfo,
        editIcon,
        user,
        spaceResource,
        setEditIcon,
        spaceInfo
    ]);
    const identity = getIdentity(memberInfo);
    const { avatar , avatarColor , nickName , memberId , memberName , mobile , email , isMemberNameModified , teamData  } = memberInfo;
    const displayMemberName = (0,enterprise__WEBPACK_IMPORTED_MODULE_11__.getSocialWecomUnitName)?.({
        name: memberName,
        isModified: isMemberNameModified,
        spaceInfo
    }) || memberName;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().memberInfoWrapper),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().portrait),
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_6__/* .Avatar */ .qE, {
                    src: avatar,
                    avatarColor: avatarColor,
                    id: memberId,
                    title: nickName || memberName || (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.unnamed),
                    size: pc_components_common__WEBPACK_IMPORTED_MODULE_6__/* .AvatarSize.Size80 */ .DZ.Size80
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().nameAndTag),
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().nameName),
                    children: [
                        displayMemberName,
                        identity && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().identityWrap),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_space_manage_identity__WEBPACK_IMPORTED_MODULE_9__/* .Identity */ .i, {
                                type: identity,
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().identity)
                            })
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoItem),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoTitle),
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.nickname_in_space_short)
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoDetail),
                        children: [
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().nameItemContent),
                                children: [
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                        children: displayMemberName
                                    }),
                                    editIcon && !(0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.isIdassPrivateDeployment)() && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_6__/* .ButtonPlus.Icon */ .EE.Icon, {
                                        onClick: editNameClick,
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().editIcon),
                                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_10__.EditOutlined, {
                                            size: 12,
                                            color: "currentColor"
                                        })
                                    })
                                ]
                            }),
                            inEditName && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_6__/* .Tooltip */ .u, {
                                title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.member_err),
                                placement: "top",
                                visible: nameLengthErr,
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_13__/* .Input */ .II, {
                                    defaultValue: memberName,
                                    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().input), {
                                        [(_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().err)]: nameLengthErr
                                    }),
                                    size: "small",
                                    autoFocus: true,
                                    onChange: inputChange,
                                    onPressEnter: onPressEnter,
                                    onBlur: onPressEnter
                                })
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoItem),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoTitle),
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.team)
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoDetail),
                        children: teamData?.map((team)=>{
                            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().teamInfo)),
                                children: team.fullHierarchyTeamName || selectedMemberInfo.teamTitle
                            }, team.teamId);
                        })
                    })
                ]
            }),
            env.USER_BIND_PHONE_VISIBLE && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoItem),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoTitle),
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.phone_number)
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoDetail), {
                            [(_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().emptyDetail)]: !mobile
                        }),
                        children: mobile || "-"
                    })
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoItem),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoTitle),
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.email)
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().infoDetail), {
                            [(_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().emptyDetail)]: !email
                        }),
                        children: email || "-"
                    })
                ]
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 76876:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "g": () => (/* binding */ Catalog)
/* harmony export */ });
/* unused harmony export CatalogBase */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var pc_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99000);
/* harmony import */ var modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2302);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22829);
/* harmony import */ var pc_hooks_use_catalog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(64559);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(44179);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(92052);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(70220);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(64754);
/* harmony import */ var _common_side_workbench_side_workbench_side_context__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(49312);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(33196);
/* harmony import */ var pc_utils_dnd_manager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(34092);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__, pc_hooks__WEBPACK_IMPORTED_MODULE_4__, pc_hooks_use_catalog__WEBPACK_IMPORTED_MODULE_5__, _tree__WEBPACK_IMPORTED_MODULE_8__, pc_utils__WEBPACK_IMPORTED_MODULE_9__, _apitable_components__WEBPACK_IMPORTED_MODULE_10__, react_dnd__WEBPACK_IMPORTED_MODULE_12__, pc_utils_dnd_manager__WEBPACK_IMPORTED_MODULE_13__]);
([modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__, pc_hooks__WEBPACK_IMPORTED_MODULE_4__, pc_hooks_use_catalog__WEBPACK_IMPORTED_MODULE_5__, _tree__WEBPACK_IMPORTED_MODULE_8__, pc_utils__WEBPACK_IMPORTED_MODULE_9__, _apitable_components__WEBPACK_IMPORTED_MODULE_10__, react_dnd__WEBPACK_IMPORTED_MODULE_12__, pc_utils_dnd_manager__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 















const CatalogBase = ()=>{
    // Whether the node is loaded or not (expand the node)
    const { 0: isLoaded , 1: setIsLoaded  } = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false);
    // Type of operation to perform, 0 means add folder node, 1 means add file node, 2 means import excel
    const { 0: optType , 1: setOptType  } = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(null);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useDispatch)();
    const treeNodesMap = (0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state)=>state.catalogTree.treeNodesMap);
    const rootId = (0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state)=>state.catalogTree.rootId);
    const { setRightClickInfo , onSetContextMenu  } = (0,react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_common_side_workbench_side_workbench_side_context__WEBPACK_IMPORTED_MODULE_11__/* .WorkbenchSideContext */ .V);
    const activedNodeId = (0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state)=>_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Selectors.getNodeId(state));
    const { rootManageable  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_4__/* .useRootManageable */ .x5)();
    const { addTreeNode  } = (0,pc_hooks_use_catalog__WEBPACK_IMPORTED_MODULE_5__/* .useCatalog */ .r)();
    (0,pc_hooks__WEBPACK_IMPORTED_MODULE_4__/* .useWorkbenchSideSync */ .x3)();
    /* Shortcut keys for operations related to mounting/unmounting the directory tree */ (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{
        const eventBundle = new Map([
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__.ShortcutActionName.NewDatasheet,
                ()=>{
                    openCatalogPanel(()=>createNode());
                }
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__.ShortcutActionName.NewFolder,
                ()=>{
                    openCatalogPanel(()=>createNode(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.FOLDER));
                }
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__.ShortcutActionName.RenameNode,
                ()=>{
                    openCatalogPanel(()=>renameNode(activedNodeId));
                }
            ], 
        ]);
        eventBundle.forEach((cb, key)=>{
            modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__.ShortcutActionManager.bind(key, cb);
        });
        return ()=>{
            eventBundle.forEach((_cb, key)=>{
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_3__.ShortcutActionManager.unbind(key);
            });
        };
    });
    const createNode = (nodeType)=>{
        let parentId;
        if (!activedNodeId) {
            addTreeNode(rootId, nodeType);
            return;
        }
        const activeNode = treeNodesMap[activedNodeId];
        if (activeNode.type === _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.FOLDER) {
            parentId = activedNodeId;
        } else if (activeNode.type === _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.DATASHEET) {
            parentId = activeNode.parentId;
        }
        addTreeNode(parentId, nodeType);
    };
    (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{
        if (!isLoaded) {
            return;
        }
        setOptType(null);
        setIsLoaded(false);
    // eslint-disable-next-line
    }, [
        isLoaded,
        optType
    ]);
    const openCatalogPanel = (cb)=>{
        const state = pc_store__WEBPACK_IMPORTED_MODULE_2__/* .store.getState */ .h.getState();
        const sideBarVisible = state.space.sideBarVisible;
        !sideBarVisible && dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.StoreActions.setSideBarVisible(true));
        cb();
    };
    // rename node
    const renameNode = (nodeId)=>{
        if (!nodeId) {
            return;
        }
        dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.StoreActions.setEditNodeId(nodeId));
    };
    const rightClickHandler = (e, data)=>{
        e.preventDefault();
        const nodeId = data?.nodeId || rootId;
        const nodeType = data?.type || treeNodesMap[rootId].type;
        setRightClickInfo({
            id: nodeId,
            module: _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.Modules.CATALOG,
            contextMenuType: (0,pc_utils__WEBPACK_IMPORTED_MODULE_9__/* .getContextTypeByNodeType */ .jm)(nodeType),
            level: data?.props?.pos || "0"
        });
        onSetContextMenu(e);
    };
    if (!treeNodesMap[rootId]) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            style: {
                margin: "0 8px",
                width: "100%"
            },
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    width: "38%"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {}),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    width: "61%"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    width: "38%"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    count: 2
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    width: "61%"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    width: "38%"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {}),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_10__.Skeleton, {
                    width: "61%"
                })
            ]
        });
    }
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_14___default().catalogWrapper),
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_dnd__WEBPACK_IMPORTED_MODULE_12__.DndProvider, {
            manager: pc_utils_dnd_manager__WEBPACK_IMPORTED_MODULE_13__/* .dndH5Manager */ .$,
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_14___default().treeWrapper),
                onContextMenu: (event)=>{
                    if (rootManageable) {
                        rightClickHandler(event);
                    }
                },
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_tree__WEBPACK_IMPORTED_MODULE_8__/* .Tree */ .m, {
                    rightClick: rightClickHandler
                })
            })
        })
    });
};
const Catalog = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_6__.memo(CatalogBase);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 87838:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K": () => (/* binding */ ImportFile)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(12746);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54106);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(36367);
/* harmony import */ var pc_hooks_use_percent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(89101);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(70220);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(34028);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_12__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_5__, pc_utils__WEBPACK_IMPORTED_MODULE_8__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_5__, pc_utils__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 












const { Dragger  } = antd__WEBPACK_IMPORTED_MODULE_11__/* .Upload */ .gq;
let reqToken;
const ImportFile = ({ parentId , onCancel ,  })=>{
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_10__.useSelector)((state)=>state.space.activeId);
    const expandedKeys = (0,react_redux__WEBPACK_IMPORTED_MODULE_10__.useSelector)((state)=>state.catalogTree.expandedKeys);
    const { 0: uploadPercent , 1: setUploadPercent  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(0);
    const { 0: file , 1: setFile  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)();
    const { 0: errMsg , 1: setErrMsg  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)("");
    const { 0: isUploading , 1: setIsUploading  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(false);
    const { 0: isProcess , 1: setProcessing  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(false);
    const dispatch = (0,pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_6__/* .useAppDispatch */ .T)();
    const { percent , stop: stopPercent , start: startPercent  } = (0,pc_hooks_use_percent__WEBPACK_IMPORTED_MODULE_7__/* .usePercent */ .T)(60, 99, 1500);
    const { 0: isFail , 1: setIsFail  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PROGRESS_NORMAL);
    const onUploadProgress = (progressEvent)=>{
        if (!isUploading) {
            setIsUploading(true);
        }
        if (progressEvent.loaded / progressEvent.total === 1) {
            startPercent();
        }
        const value = Math.floor(progressEvent.loaded / progressEvent.total * 100 * 0.6);
        setUploadPercent(value);
    };
    const customRequest = (componentsData)=>{
        setFile(componentsData.file);
        uploadFile(componentsData.file);
    };
    const uploadFile = (curFile)=>{
        if (!spaceId) {
            return;
        }
        if ((0,pc_utils__WEBPACK_IMPORTED_MODULE_8__/* .byte2Mb */ .m_)(curFile.size) > 20) {
            pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Modal.danger */ .u_.danger({
                title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.no_access_space_title),
                content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.import_file_outside_limit)
            });
            return;
        }
        const formData = new FormData();
        formData.append("file", curFile);
        formData.append("parentId", parentId);
        formData.append("spaceId", spaceId);
        setProcessing(true);
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.importFile(formData, onUploadProgress, (c)=>{
            reqToken = c;
        }).then((res)=>{
            stopPercent();
            setProcessing(false);
            const { success , data , message  } = res.data;
            if (success) {
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.setExpandedKeys([
                    ...expandedKeys,
                    parentId
                ]));
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.addNode(data));
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getSpaceInfo(spaceId));
                pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_5__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.WORKBENCH, {
                    params: {
                        spaceId,
                        nodeId: data.nodeId
                    }
                });
                setTimeout(()=>{
                    onCancel();
                }, 3000);
            } else {
                setErrMsg(message);
                setIsFail(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PROGRESS_EXCEPTION);
            }
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.clearNode());
        }).catch(()=>{
            setProcessing(false);
            setIsFail(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PROGRESS_EXCEPTION);
            stopPercent();
        });
    };
    const handleReSelect = ()=>{
        setIsUploading(false);
        setProcessing(false);
        setUploadPercent(0);
        setIsFail(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PROGRESS_NORMAL);
    };
    const handleCancel = ()=>{
        if (!reqToken) {
            return;
        }
        reqToken();
        pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Message.success */ .v0.success({
            content: `${(0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.cancel)}${(0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.upload_success)}`
        });
        setUploadPercent(0);
        setFile(undefined);
        setIsUploading(false);
        stopPercent();
        setProcessing(false);
        setIsFail(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PROGRESS_NORMAL);
    };
    const failPage = ()=>{
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().fail),
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().failProgress),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.WarnOutlined, {
                        size: 40,
                        color: colors.errorColor
                    })
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().status),
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.import_failed)
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().tip),
                    children: errMsg
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.TextButton, {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().selectBtn),
                    onClick: handleReSelect,
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.reselect)
                })
            ]
        });
    };
    const successPage = ()=>{
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().success),
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().successProgress),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.CheckOutlined, {
                        size: 40,
                        color: colors.primaryColor
                    })
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().fileName),
                    children: file.name
                })
            ]
        });
    };
    const processPage = ()=>{
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().process),
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_11__/* .Progress */ .Ex, {
                    type: "circle",
                    percent: uploadPercent < 60 ? uploadPercent : percent,
                    strokeColor: colors.primaryColor,
                    width: 80
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().fileName),
                    children: file.name
                }),
                uploadPercent < 60 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().cancelBtn),
                    onClick: handleCancel,
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.import_canceled)
                })
            ]
        });
    };
    const handleClose = ()=>{
        if (isProcess) {
            return;
        }
        onCancel();
    };
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Modal */ .u_, {
        title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.import_file),
        width: 540,
        visible: true,
        footer: null,
        wrapClassName: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().createSpaceWrapper),
        bodyStyle: {
            width: "100%",
            height: "410px",
            padding: "24px"
        },
        maskClosable: false,
        onCancel: handleClose,
        centered: true,
        children: isUploading ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().upload),
            children: isProcess ? processPage() : isFail === _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PROGRESS_EXCEPTION ? failPage() : successPage()
        }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Dragger, {
            customRequest: customRequest,
            showUploadList: false,
            accept: ".xlsx,.xls,.csv",
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ImportOutlined, {
                        size: 50,
                        color: colors.fourthLevelText
                    })
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().tip),
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.invite_ousider_import_file_tip1)
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().format),
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.invite_ousider_import_file_tip3)
                })
            ]
        })
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 77093:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "K": () => (/* reexport safe */ _import_file__WEBPACK_IMPORTED_MODULE_0__.K)
/* harmony export */ });
/* harmony import */ var _import_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87838);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_import_file__WEBPACK_IMPORTED_MODULE_0__]);
_import_file__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 37823:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "g": () => (/* reexport safe */ _catalog__WEBPACK_IMPORTED_MODULE_0__.g)
/* harmony export */ });
/* harmony import */ var _catalog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(76876);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_catalog__WEBPACK_IMPORTED_MODULE_0__]);
_catalog__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 49537:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": () => (/* binding */ FolderItem)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54106);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22829);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26580);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_6__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__, pc_hooks__WEBPACK_IMPORTED_MODULE_5__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__, pc_hooks__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 






const FolderItem = (props)=>{
    const { folderId , folderName , icon , onClick , level  } = props;
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_5__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__/* .ScreenSize.md */ ._.md);
    const iconSize = isMobile ? 24 : 16;
    const fontVariant = isMobile ? "body1" : "body3";
    const levelVariant = isMobile ? "body3" : "body4";
    const Icon = icon ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Emoji */ .dy, {
        emoji: icon,
        size: iconSize,
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().folderItemIcon)
    }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_2__.FolderNormalFilled, {
        size: iconSize,
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().folderItemIcon)
    });
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().folderItem),
        onClick: ()=>onClick(folderId),
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().folderItemContent),
                children: [
                    Icon,
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().folderName),
                        variant: fontVariant,
                        ellipsis: true,
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                            dangerouslySetInnerHTML: {
                                __html: folderName
                            }
                        })
                    })
                ]
            }),
            level && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                color: colors.textCommonTertiary,
                variant: levelVariant,
                ellipsis: true,
                children: level
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 6492:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$": () => (/* reexport safe */ _move_to__WEBPACK_IMPORTED_MODULE_0__.$)
/* harmony export */ });
/* harmony import */ var _move_to__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8748);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_move_to__WEBPACK_IMPORTED_MODULE_0__]);
_move_to__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 8748:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$": () => (/* binding */ MoveTo)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99195);
/* harmony import */ var pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11156);
/* harmony import */ var pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(52341);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _select_folder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(72396);
/* harmony import */ var _title__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(74017);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(72932);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(26580);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var pc_components_common_t_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(59319);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__, pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_5__, _select_folder__WEBPACK_IMPORTED_MODULE_9__, _title__WEBPACK_IMPORTED_MODULE_10__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__]);
([pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__, pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_5__, _select_folder__WEBPACK_IMPORTED_MODULE_9__, _title__WEBPACK_IMPORTED_MODULE_10__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 













const MoveTo = (props)=>{
    const { nodeIds , onClose  } = props;
    const { 0: selectedNodeId , 1: setSelectedNodeId  } = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)();
    const { 0: parentList , 1: setParentList  } = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)([]);
    const { 0: confirmLoading , 1: setConfirmLoading  } = (0,react__WEBPACK_IMPORTED_MODULE_7__.useState)(false);
    const { nodeName , parentId , nodePermitSet  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>{
        const { nodeName , parentId , nodePermitSet  } = state.catalogTree.treeNodesMap[nodeIds[0]];
        return {
            nodeName,
            parentId,
            nodePermitSet
        };
    });
    const currentNodeId = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>state.pageParams.nodeId);
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useDispatch)();
    const backPreSelected = ()=>{
        setSelectedNodeId(parentList[parentList.length - 2].nodeId);
    };
    const getParentList = (folderId)=>{
        _apitable_core__WEBPACK_IMPORTED_MODULE_1__.Api.getParents(folderId).then((res)=>{
            const { data , success , message  } = res.data;
            if (!success) {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_6__/* .Message.error */ .v.error({
                    content: message
                });
                return;
            }
            setParentList(data);
        });
    };
    (0,react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(()=>{
        if (!selectedNodeId) {
            return;
        }
        getParentList(selectedNodeId);
    }, [
        selectedNodeId
    ]);
    const main = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_select_folder__WEBPACK_IMPORTED_MODULE_9__/* .SelectFolder */ .p, {
        selectedFolderId: selectedNodeId,
        selectedFolderParentList: parentList,
        onChange: setSelectedNodeId
    });
    const selectedNodeName = parentList.find((v)=>v.nodeId === selectedNodeId)?.nodeName;
    const moveTo = ()=>{
        const nodeId = nodeIds[0];
        if (!nodeId || !selectedNodeId) {
            return;
        }
        // selected nodeId is equal nodeId current parentId
        if (selectedNodeId === parentId) {
            pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_6__/* .Message.error */ .v.error({
                content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.move_to_error_equal_parent)
            });
            return;
        }
        const move = ()=>{
            setConfirmLoading(true);
            _apitable_core__WEBPACK_IMPORTED_MODULE_1__.Api.nodeMove(nodeId, selectedNodeId).then((res)=>{
                setConfirmLoading(false);
                const { data , success , message  } = res.data;
                if (!success) {
                    pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_6__/* .Message.error */ .v.error({
                        content: message
                    });
                    dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.StoreActions.setErr(message));
                    return;
                }
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.StoreActions.moveTo(nodeId, selectedNodeId, 0));
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.StoreActions.addNodeToMap(data));
                onClose && onClose();
                moveSuccess(nodeId);
            });
        };
        if (!nodePermitSet) {
            const modal = pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_5__.Modal.confirm({
                type: "warning",
                title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.set_permission_include_oneself_tips_title),
                content: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_t_component__WEBPACK_IMPORTED_MODULE_12__/* .TComponent */ .h, {
                    tkey: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.move_node_modal_content),
                    params: {
                        nodeSet: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().permissionSetBtn),
                            onClick: ()=>{
                                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.StoreActions.updatePermissionModalNodeId(nodeId));
                                modal.destroy();
                            },
                            children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.permission_setting)
                        })
                    }
                }),
                onOk: ()=>{
                    move();
                }
            });
            return;
        }
        move();
    };
    const moveSuccess = (nodeId)=>{
        const isDifferent = currentNodeId !== nodeId;
        pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_6__/* .Message.success */ .v.success({
            content: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.move_to_success),
                    isDifferent && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("i", {
                        onClick: ()=>pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__/* .Router.redirect */ .F.redirect(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Navigation.WORKBENCH, {
                                params: {
                                    nodeId: nodeId
                                }
                            }),
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.to_view_dashboard)
                    })
                ]
            })
        });
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__/* .ComponentDisplay */ .d, {
                minWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_5__.Modal, {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().moveTo),
                    title: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_title__WEBPACK_IMPORTED_MODULE_10__/* .Title */ .Dx, {
                        nodeName: nodeName
                    }),
                    visible: true,
                    centered: true,
                    onCancel: onClose,
                    okText: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.move),
                    confirmLoading: confirmLoading,
                    onOk: moveTo,
                    children: main
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__/* .ComponentDisplay */ .d, {
                maxWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_3__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_4__/* .Popup */ .G, {
                    open: true,
                    height: "90%",
                    onClose: onClose,
                    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().moveTo), (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().moveToMobile)),
                    title: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_title__WEBPACK_IMPORTED_MODULE_10__/* .MobileTitle */ .ML, {
                        showBackIcon: parentList.length > 1,
                        nodeName: selectedNodeId ? selectedNodeName : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.move_to),
                        onClick: backPreSelected
                    }),
                    footer: selectedNodeId && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_title__WEBPACK_IMPORTED_MODULE_10__/* .MobileFooter */ .bE, {
                        confirmLoading: confirmLoading,
                        onCancel: onClose,
                        onConfirm: moveTo
                    }),
                    children: main
                })
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 72396:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "p": () => (/* binding */ SelectFolder)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(57398);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ahooks__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1381);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(75914);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(22829);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _folder_item__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(49537);
/* harmony import */ var _select_folder_tips__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(23397);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(26580);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_13__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__, pc_hooks__WEBPACK_IMPORTED_MODULE_8__, _folder_item__WEBPACK_IMPORTED_MODULE_11__, _select_folder_tips__WEBPACK_IMPORTED_MODULE_12__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__, pc_hooks__WEBPACK_IMPORTED_MODULE_8__, _folder_item__WEBPACK_IMPORTED_MODULE_11__, _select_folder_tips__WEBPACK_IMPORTED_MODULE_12__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 













const SelectFolder = (props)=>{
    const { selectedFolderId , selectedFolderParentList , onChange  } = props;
    const rootId = (0,react_redux__WEBPACK_IMPORTED_MODULE_10__.useSelector)((state)=>state.catalogTree.rootId);
    const spaceName = (0,react_redux__WEBPACK_IMPORTED_MODULE_10__.useSelector)((state)=>state.user.info?.spaceName);
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_10__.useSelector)((state)=>state.space.activeId);
    const currentFolderId = selectedFolderId || rootId;
    const isWhole = Boolean(selectedFolderId);
    const { 0: recentlyBrowsedList , 1: setRecentlyBrowsedList  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)([]);
    const { 0: wholeList , 1: setWholeList  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)([]);
    const { 0: keyword , 1: setKeyword  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)();
    const { 0: searchList , 1: setSearchList  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)([]);
    const { 0: firstLoading , 1: setFirstLoading  } = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(true);
    const scrollShadowRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);
    const folderListRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_8__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__/* .ScreenSize.md */ ._.md);
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    (0,ahooks__WEBPACK_IMPORTED_MODULE_4__.useMount)(async ()=>{
        await _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.getRecentlyBrowsedFolder().then((res)=>{
            const { data , success , message  } = res.data;
            if (!success) {
                _apitable_components__WEBPACK_IMPORTED_MODULE_1__.Message.error({
                    content: message
                });
                return;
            }
            setRecentlyBrowsedList(data);
        });
        setFirstLoading(false);
        if (folderListRef.current) {
            const { clientHeight , scrollHeight , scrollTop  } = folderListRef.current;
            onScroll({
                height: clientHeight,
                scrollHeight,
                scrollTop
            });
        }
    });
    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(()=>{
        if (!isWhole || !currentFolderId) {
            return;
        }
        getWholeList(currentFolderId);
    }, [
        currentFolderId,
        isWhole
    ]);
    const getWholeList = (folderId)=>{
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.getChildNodeList(folderId, _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.FOLDER).then((res)=>{
            const { data , success , message  } = res.data;
            if (!success) {
                _apitable_components__WEBPACK_IMPORTED_MODULE_1__.Message.error({
                    content: message
                });
                return;
            }
            setWholeList(data);
        });
    };
    const getSearchList = (0,react__WEBPACK_IMPORTED_MODULE_9__.useMemo)(()=>{
        return lodash_throttle__WEBPACK_IMPORTED_MODULE_6___default()((spaceId, keyword)=>{
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.searchNode(spaceId, keyword).then((res)=>{
                const { data , success , message  } = res.data;
                if (!success) {
                    _apitable_components__WEBPACK_IMPORTED_MODULE_1__.Message.error({
                        content: message
                    });
                    return;
                }
                const folders = data.filter((node)=>node.type === _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.FOLDER);
                setSearchList(folders);
            });
        }, 500);
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(()=>{
        if (!keyword || !spaceId) {
            return;
        }
        getSearchList(spaceId, keyword);
    }, [
        spaceId,
        keyword,
        getSearchList
    ]);
    const onClickItem = (folderId)=>{
        setKeyword("");
        onChange(folderId);
    };
    const enterWhole = ()=>{
        onClickItem(rootId);
    };
    const onScroll = ({ scrollTop , height , scrollHeight  })=>{
        const shadowEle = scrollShadowRef.current;
        if (!shadowEle) return;
        if (scrollTop + height > scrollHeight - 10) {
            shadowEle.style.display = "none";
            return;
        }
        if (shadowEle.style.display === "block") {
            return;
        }
        shadowEle.style.display = "block";
    };
    const handleScroll = (e)=>{
        const ele = e.target;
        const { clientHeight , scrollHeight , scrollTop  } = ele;
        onScroll({
            height: clientHeight,
            scrollHeight,
            scrollTop
        });
    };
    const isShowSearchInput = !isMobile || isWhole;
    const isShowTips = !isMobile && !keyword;
    const showLevel = !isWhole || keyword;
    const isShowWholeButton = isMobile && !isWhole;
    const list = keyword ? searchList : isWhole ? wholeList : recentlyBrowsedList;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().selectFolder),
        children: [
            isShowSearchInput && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.TextInput, {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().searchInput),
                value: keyword,
                prefix: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.SearchOutlined, {}),
                placeholder: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.search),
                lineStyle: !isMobile,
                block: true,
                size: "small",
                onChange: (e)=>setKeyword(e.target.value)
            }),
            isShowTips && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_select_folder_tips__WEBPACK_IMPORTED_MODULE_12__/* .SelectFolderTips */ .R, {
                isWhole: isWhole,
                setIsWhole: enterWhole,
                data: selectedFolderParentList,
                onClick: onClickItem
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                ref: folderListRef,
                className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().folderList), !isShowTips && (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().folderListNoTips)),
                onScroll: handleScroll,
                children: [
                    firstLoading ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Box, {
                        height: "100%",
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "center",
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Loading, {})
                    }) : list.map((item)=>{
                        const { nodeId , nodeName , icon  } = item;
                        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_folder_item__WEBPACK_IMPORTED_MODULE_11__/* .FolderItem */ .I, {
                            folderId: nodeId,
                            folderName: nodeName,
                            icon: icon,
                            onClick: onClickItem,
                            level: showLevel ? `${spaceName} ${item.superiorPath}` : ""
                        }, nodeId);
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        ref: scrollShadowRef,
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().scrollShadow)
                    })
                ]
            }),
            isShowWholeButton && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.LinkButton, {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().switchWholeBtn),
                    color: colors.textCommonPrimary,
                    suffixIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ChevronRightOutlined, {
                        color: colors.textCommonPrimary
                    }),
                    onClick: enterWhole,
                    block: true,
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.view_full_catalog)
                })
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 23397:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "R": () => (/* binding */ SelectFolderTips)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var pc_components_common_horizontal_scroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(73635);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12746);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26580);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_5__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_horizontal_scroll__WEBPACK_IMPORTED_MODULE_4__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_horizontal_scroll__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 






const SelectFolderTips = (props)=>{
    const { isWhole , data , setIsWhole , onClick  } = props;
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const NoWholeTips = /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().noWholeTips),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                variant: "body4",
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.recently_used_files)
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.LinkButton, {
                color: colors.textCommonSecondary,
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().switchWholeBtn),
                underline: false,
                suffixIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ChevronRightOutlined, {
                    color: colors.textCommonTertiary
                }),
                onClick: ()=>setIsWhole(true),
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.view_full_catalog)
            })
        ]
    });
    const WholeTips = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().wholeTips),
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_horizontal_scroll__WEBPACK_IMPORTED_MODULE_4__/* .HorizontalScroll */ .Z, {
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_6__/* .Breadcrumb */ .aG, {
                children: data.map((breadItem)=>/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_6__/* .Breadcrumb.Item */ .aG.Item, {
                        onClick: ()=>onClick(breadItem.nodeId),
                        children: breadItem.nodeName
                    }, breadItem.nodeId))
            })
        })
    });
    return isWhole ? WholeTips : NoWholeTips;
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 74017:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Dx": () => (/* binding */ Title),
/* harmony export */   "ML": () => (/* binding */ MobileTitle),
/* harmony export */   "bE": () => (/* binding */ MobileFooter)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(26580);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_4__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_2__]);
_apitable_components__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 




const Title = (props)=>{
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_4___default().title),
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_2__.Typography, {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_4___default().titleFont),
            ellipsis: true,
            variant: "h6",
            children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.move_to_modal_title, {
                name: props.nodeName
            })
        })
    });
};
const MobileTitle = (props)=>{
    const { nodeName , showBackIcon , onClick  } = props;
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_2__.useThemeColors)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            showBackIcon && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_4___default().mobileTitleBack),
                onClick: onClick,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_1__.ChevronLeftOutlined, {
                    size: 24,
                    color: colors.textCommonTertiary
                })
            }),
            nodeName
        ]
    });
};
const MobileFooter = (props)=>{
    const { confirmLoading , onCancel , onConfirm  } = props;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_4___default().mobileFooter),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
                variant: "fill",
                size: "large",
                onClick: onCancel,
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.cancel)
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
                loading: confirmLoading,
                color: "primary",
                size: "large",
                onClick: onConfirm,
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.move_to)
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 29388:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* reexport safe */ _permission_settings_plus__WEBPACK_IMPORTED_MODULE_0__.N)
/* harmony export */ });
/* harmony import */ var _permission_settings_plus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98769);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_permission_settings_plus__WEBPACK_IMPORTED_MODULE_0__]);
_permission_settings_plus__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 69353:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "y": () => (/* reexport safe */ _permission__WEBPACK_IMPORTED_MODULE_0__.y)
/* harmony export */ });
/* harmony import */ var _permission__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41636);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_permission__WEBPACK_IMPORTED_MODULE_0__]);
_permission__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 52442:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (/* reexport safe */ _members_detail__WEBPACK_IMPORTED_MODULE_0__.Z)
/* harmony export */ });
/* harmony import */ var _members_detail__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23972);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_members_detail__WEBPACK_IMPORTED_MODULE_0__]);
_members_detail__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 23972:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (/* binding */ MembersDetail)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54106);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25132);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _unit_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29255);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99195);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common__WEBPACK_IMPORTED_MODULE_1__, _unit_item__WEBPACK_IMPORTED_MODULE_2__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_5__]);
([pc_components_common__WEBPACK_IMPORTED_MODULE_1__, _unit_item__WEBPACK_IMPORTED_MODULE_2__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 






const MembersDetail = ({ data , onCancel  })=>{
    const close = ()=>{
        onCancel();
    };
    const renderMemberList = ()=>{
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().scrollWrapper),
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().memberList),
                children: data.members.map(({ memberId , avatar , avatarColor , nickName , memberName , teams , role  })=>{
                    const isAdmin = Boolean(data.admins.find((item)=>item.memberId === memberId));
                    const isPermissionOpener = data.owner?.memberId === memberId;
                    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_unit_item__WEBPACK_IMPORTED_MODULE_2__/* .UnitItem */ .J, {
                        unit: {
                            id: memberId,
                            avatar,
                            avatarColor,
                            nickName,
                            name: memberName,
                            info: teams,
                            isTeam: false
                        },
                        identity: {
                            admin: isAdmin,
                            permissionOpener: isPermissionOpener
                        },
                        disabled: true,
                        role: role,
                        isAppointMode: data.extend,
                        isDetail: true
                    }, memberId);
                })
            })
        });
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__/* .ComponentDisplay */ .d, {
                minWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_1__/* .BaseModal */ .IX, {
                    footer: null,
                    onCancel: close,
                    width: 560,
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().membersDetail),
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().container),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().title),
                                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.share_and_permission_member_detail, {
                                        count: data.members.length
                                    })
                                }),
                                renderMemberList()
                            ]
                        })
                    })
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__/* .ComponentDisplay */ .d, {
                maxWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_4__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_5__/* .Popup */ .G, {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_6___default().permissionDrawer),
                    height: "90%",
                    open: true,
                    placement: "bottom",
                    title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.share_and_permission_member_detail, {
                        count: data.members.length
                    }),
                    onClose: close,
                    children: renderMemberList()
                })
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 41636:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "y": () => (/* binding */ Permission)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(57398);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ahooks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var modules_shared_apphook_trigger_commands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(37680);
/* harmony import */ var pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52341);
/* harmony import */ var pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11156);
/* harmony import */ var pc_components_field_permission_unit_permission_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(55484);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(22829);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(70220);
/* harmony import */ var pc_worker_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(64350);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _members_detail__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(52442);
/* harmony import */ var _permission_info_setting__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(71780);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(89399);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _unit_list__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(74441);
/* harmony import */ var enterprise__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(14463);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__, pc_components_field_permission_unit_permission_select__WEBPACK_IMPORTED_MODULE_7__, pc_hooks__WEBPACK_IMPORTED_MODULE_8__, pc_utils__WEBPACK_IMPORTED_MODULE_9__, _members_detail__WEBPACK_IMPORTED_MODULE_13__, _permission_info_setting__WEBPACK_IMPORTED_MODULE_14__, _unit_list__WEBPACK_IMPORTED_MODULE_15__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__, pc_components_field_permission_unit_permission_select__WEBPACK_IMPORTED_MODULE_7__, pc_hooks__WEBPACK_IMPORTED_MODULE_8__, pc_utils__WEBPACK_IMPORTED_MODULE_9__, _members_detail__WEBPACK_IMPORTED_MODULE_13__, _permission_info_setting__WEBPACK_IMPORTED_MODULE_14__, _unit_list__WEBPACK_IMPORTED_MODULE_15__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 
















// @ts-ignore

const Permission = ({ data  })=>{
    // Current operating mode
    const { 0: isAppointMode , 1: setIsAppointMode  } = (0,react__WEBPACK_IMPORTED_MODULE_11__.useState)(true);
    // Whether to display the View Member Details modal box
    const [isMemberDetail, { toggle: toggleIsMemberDetail  }] = (0,ahooks__WEBPACK_IMPORTED_MODULE_3__.useToggle)(false);
    const ownUnitId = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>state.user.info?.unitId);
    const { getNodeRoleListReq  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_8__/* .useCatalogTreeRequest */ .mF)();
    const { run: getNodeRoleMap , data: roleMap  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_8__/* .useRequest */ .QT)(()=>getNodeRoleListReq(data.nodeId));
    const treeNodesMap = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>state.catalogTree.treeNodesMap);
    const nodeAssignable = treeNodesMap[data.nodeId]?.permissions.nodeAssignable;
    const unitListScroll = (0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null);
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>state.space.activeId);
    const spaceInfo = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>state.space.curSpaceInfo);
    (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(()=>{
        if (!roleMap) {
            return;
        }
        setTimeout(()=>{
            if (roleMap.extend) {
                modules_shared_apphook_trigger_commands__WEBPACK_IMPORTED_MODULE_4__/* .TriggerCommands.open_guide_wizard */ .uj.open_guide_wizard?.(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.WizardIdConstant.PERMISSION_SETTING_EXTEND);
                return;
            }
            modules_shared_apphook_trigger_commands__WEBPACK_IMPORTED_MODULE_4__/* .TriggerCommands.open_guide_wizard */ .uj.open_guide_wizard?.(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.WizardIdConstant.PERMISSION_SETTING_OPENED);
        }, 0);
    }, [
        roleMap
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(()=>{
        if (roleMap && !isAppointMode !== roleMap.extend) {
            setIsAppointMode(!roleMap.extend);
        }
    // eslint-disable-next-line
    }, [
        roleMap
    ]);
    /**
   * Turn off inheritance mode of operation
   * If the permission settings are not currently enabled, you will need to manually invoke them before the following actions can be performed
   * 1. Add Roles
   * 2. Editorial roles
   * 3. Delete Role
   * 4. Batch update roles
   * @returns
   */ const disableRoleExtend = async ()=>{
        if (!roleMap?.extend) {
            return true;
        }
        const result = (0,enterprise__WEBPACK_IMPORTED_MODULE_16__.triggerUsageAlert)("nodePermissionNums", {
            usage: spaceInfo.nodeRoleNums + 1,
            alwaysAlert: true
        }, enterprise__WEBPACK_IMPORTED_MODULE_16__.SubscribeUsageTipType.Alert);
        if (result) {
            return false;
        }
        const res = await _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.disableRoleExtend(data.nodeId, true);
        const { success , message  } = res.data;
        if (!success) {
            pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.error */ .v.error({
                content: message
            });
            return false;
        }
        setIsAppointMode(true);
        (0,pc_worker_store__WEBPACK_IMPORTED_MODULE_10__/* .dispatch */ .W)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateTreeNodesMap(data.nodeId, {
            nodePermitSet: true
        }));
        (0,pc_worker_store__WEBPACK_IMPORTED_MODULE_10__/* .dispatch */ .W)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getSpaceInfo(spaceId, true));
        return success;
    };
    // Select member submission events
    const onSubmit = async (unitInfos, permission)=>{
        if (!unitInfos.length) {
            return;
        }
        const unitIds = unitInfos.map((item)=>item.unitId);
        const res = await disableRoleExtend();
        if (!res) {
            return;
        }
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.addRole(data.nodeId, unitIds, permission.value + "").then(async (res)=>{
            const { success , message  } = res.data;
            if (success) {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_add_success)
                });
                await getNodeRoleMap();
                scrollBottom();
            } else {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.error */ .v.error({
                    content: message
                });
            }
        });
    };
    const deleteUnit = (unitId)=>{
        const isOwn = ownUnitId === unitId;
        const onOk = async ()=>{
            const res = await disableRoleExtend();
            if (!res) {
                return;
            }
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.deleteRole(data.nodeId, unitId).then((res)=>{
                const { success  } = res.data;
                if (success) {
                    pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                        content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_delete_success)
                    });
                    getNodeRoleMap();
                    return;
                }
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.error */ .v.error({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_delete_failed)
                });
            });
        };
        pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__.Modal.confirm({
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.remove_permissions),
            content: isOwn ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.remove_own_permissions_desc) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.remove_permissions_desc),
            onOk
        });
    };
    const changeUnitRole = async (unitId, role)=>{
        const res = await disableRoleExtend();
        if (!res) {
            return;
        }
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.editRole(data.nodeId, unitId, role).then((res)=>{
            const { success  } = res.data;
            if (success) {
                getNodeRoleMap();
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_switch_succeed)
                });
            } else {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.error */ .v.error({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_switch_failed)
                });
            }
        });
    };
    const batchChangeUnitRole = async (role)=>{
        const res = await disableRoleExtend();
        if (!res) {
            return;
        }
        const unitIds = (roleMap?.roleUnits || []).map((v)=>v.unitId);
        if (!unitIds.length) {
            return;
        }
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.batchEditRole(data.nodeId, unitIds, role).then((res)=>{
            const { success  } = res.data;
            if (success) {
                getNodeRoleMap();
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_switch_succeed)
                });
            } else {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.error */ .v.error({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_switch_failed)
                });
            }
        });
    };
    const resetPermission = ()=>{
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.enableRoleExtend(data.nodeId).then((res)=>{
            const { success  } = res.data;
            if (success) {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_switch_succeed)
                });
                setIsAppointMode(false);
                (0,pc_worker_store__WEBPACK_IMPORTED_MODULE_10__/* .dispatch */ .W)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateTreeNodesMap(data.nodeId, {
                    nodePermitSet: false
                }));
                (0,pc_worker_store__WEBPACK_IMPORTED_MODULE_10__/* .dispatch */ .W)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getSpaceInfo(spaceId, true));
                getNodeRoleMap();
                return;
            }
            pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_switch_failed)
            });
        });
    };
    const batchDeleteRole = async ()=>{
        const res = await disableRoleExtend();
        if (!res) {
            return;
        }
        const unitIds = (roleMap?.roleUnits || []).map((v)=>v.unitId);
        if (!unitIds.length) {
            return;
        }
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.batchDeleteRole(data.nodeId, unitIds).then((res)=>{
            const { success  } = res.data;
            if (success) {
                pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.success */ .v.success({
                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_delete_success)
                });
                getNodeRoleMap();
                return;
            }
            pc_components_common_message_message__WEBPACK_IMPORTED_MODULE_5__/* .Message.error */ .v.error({
                content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_delete_failed)
            });
        });
    };
    if (!roleMap) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Box, {
            padding: "0 16px 24px",
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                    style: {
                        marginTop: 0
                    },
                    height: "16px"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                    count: 2,
                    height: "48px"
                })
            ]
        });
    }
    const scrollBottom = ()=>{
        if (unitListScroll.current) {
            unitListScroll.current.scrollTop = unitListScroll.current.scrollHeight;
        }
    };
    const adminAndOwnerUnitIds = [
        ...roleMap.admins.map((v)=>v.unitId),
        roleMap.owner?.unitId || ""
    ];
    const isRootNode = roleMap.belongRootFolder;
    const optionData = (0,pc_utils__WEBPACK_IMPORTED_MODULE_9__/* .permissionMenuData */ .mc)(data.type);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_17___default().permission),
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_17___default().permissionHeader),
                children: [
                    nodeAssignable && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_17___default().mainWrapper),
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_field_permission_unit_permission_select__WEBPACK_IMPORTED_MODULE_7__/* .UnitPermissionSelect */ .O, {
                            classNames: (_style_module_less__WEBPACK_IMPORTED_MODULE_17___default().permissionSelect),
                            permissionList: optionData,
                            onSubmit: onSubmit,
                            adminAndOwnerUnitIds: adminAndOwnerUnitIds
                        })
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_permission_info_setting__WEBPACK_IMPORTED_MODULE_14__/* .PermissionInfoSetting */ .d, {
                        members: roleMap.members,
                        isExtend: !isAppointMode,
                        resetPermission: resetPermission,
                        toggleIsMemberDetail: toggleIsMemberDetail,
                        defaultRole: optionData,
                        batchEditRole: batchChangeUnitRole,
                        batchDeleteRole: batchDeleteRole,
                        readonly: !nodeAssignable,
                        tipOptions: {
                            extendTips: isRootNode ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.inherit_permission_tip_root) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.inherit_permission_tip),
                            resetPopConfirmTitle: isRootNode ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.close_permission) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.reset_permission),
                            resetPopConfirmContent: isRootNode ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.close_permission_warning_content) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.reset_permission_content),
                            resetPermissionDesc: isRootNode ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.reset_permission_desc_root) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.reset_permission_desc)
                        }
                    })
                ]
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_17___default().scrollContainer),
                ref: unitListScroll,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_unit_list__WEBPACK_IMPORTED_MODULE_15__/* .UnitList */ .m, {
                    owner: roleMap.owner,
                    admins: roleMap.admins,
                    roleUnits: roleMap.roleUnits,
                    onDelete: deleteUnit,
                    onChange: changeUnitRole,
                    roleOptions: optionData,
                    isAppointMode: isAppointMode || isRootNode,
                    readonly: !nodeAssignable
                })
            }),
            isMemberDetail && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_members_detail__WEBPACK_IMPORTED_MODULE_13__/* .MembersDetail */ .Z, {
                data: roleMap,
                onCancel: toggleIsMemberDetail
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 74441:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "m": () => (/* reexport safe */ _unit_list__WEBPACK_IMPORTED_MODULE_0__.m)
/* harmony export */ });
/* harmony import */ var _unit_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(78019);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_unit_list__WEBPACK_IMPORTED_MODULE_0__]);
_unit_list__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 78019:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "m": () => (/* binding */ UnitList)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _unit_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29255);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14113);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_unit_item__WEBPACK_IMPORTED_MODULE_1__]);
_unit_item__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 



const UnitList = ({ roleUnits , admins , owner , roleOptions , readonly , isAppointMode , onDelete , onChange ,  })=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_3___default().unitList),
        children: [
            admins.map((admin)=>{
                const isPermissionOpener = Boolean(owner && owner.unitId === admin.unitId);
                return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_unit_item__WEBPACK_IMPORTED_MODULE_1__/* .UnitItem */ .J, {
                    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()({
                        [(_style_module_less__WEBPACK_IMPORTED_MODULE_3___default().unitItem)]: isAppointMode && roleUnits.length && !readonly
                    }),
                    unit: {
                        id: admin.unitId,
                        memberId: admin.memberId,
                        avatar: admin.avatar,
                        avatarColor: admin.avatarColor,
                        nickName: admin.nickName,
                        name: admin.memberName,
                        info: admin.teamData && admin.teamData.length > 0 ? admin.teamData[0].fullHierarchyTeamName || "" : "",
                        isMemberNameModified: admin.isMemberNameModified,
                        isTeam: false
                    },
                    role: "manager",
                    identity: {
                        admin: true,
                        permissionOpener: isPermissionOpener
                    },
                    roleOptions: roleOptions,
                    disabled: true,
                    allowRemove: false,
                    isAppointMode: isAppointMode
                }, admin.unitId);
            }),
            owner && admins.findIndex((admin)=>admin.unitId === owner.unitId) === -1 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_unit_item__WEBPACK_IMPORTED_MODULE_1__/* .UnitItem */ .J, {
                className: classnames__WEBPACK_IMPORTED_MODULE_2___default()({
                    [(_style_module_less__WEBPACK_IMPORTED_MODULE_3___default().unitItem)]: isAppointMode && roleUnits.length && !readonly
                }),
                unit: {
                    id: owner.unitId,
                    memberId: owner.memberId,
                    avatar: owner.avatar,
                    avatarColor: owner.avatarColor,
                    nickName: owner.nickName,
                    name: owner.memberName,
                    info: owner.teamData && owner.teamData.length > 0 ? owner.teamData[0].fullHierarchyTeamName || "" : "",
                    isMemberNameModified: owner.isMemberNameModified,
                    isTeam: false
                },
                role: "manager",
                identity: {
                    permissionOpener: true
                },
                roleOptions: roleOptions,
                disabled: true,
                allowRemove: false,
                isAppointMode: isAppointMode
            }, owner.unitId),
            roleUnits.map((unit)=>{
                const teamInfo = unit.teamData && unit.teamData.length > 0 ? unit.teamData[0].fullHierarchyTeamName || "" : "";
                return admins.findIndex((admins)=>admins.unitId === unit.unitId) === -1 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_unit_item__WEBPACK_IMPORTED_MODULE_1__/* .UnitItem */ .J, {
                    unit: {
                        id: unit.unitId,
                        memberId: unit.unitRefId || "",
                        avatar: unit.avatar,
                        avatarColor: unit.avatarColor,
                        nickName: unit.nickName,
                        name: unit.unitName,
                        info: teamInfo,
                        isTeam: unit.unitType !== 3
                    },
                    role: unit.role,
                    disabled: readonly,
                    onChange: onChange,
                    onRemove: onDelete,
                    roleOptions: roleOptions,
                    isAppointMode: isAppointMode
                }, unit.unitId);
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 98769:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* binding */ PermissionSettingsPlus)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11156);
/* harmony import */ var _permission__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(69353);
/* harmony import */ var pc_components_space_manage_workbench_permission_desc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47109);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(23386);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99195);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(75914);
/* harmony import */ var _tree_node_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(23403);
/* harmony import */ var pc_components_field_permission_permission_modal_header__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(67075);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(64754);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_3__, _permission__WEBPACK_IMPORTED_MODULE_4__, pc_components_space_manage_workbench_permission_desc__WEBPACK_IMPORTED_MODULE_5__, pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_6__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__, _tree_node_icon__WEBPACK_IMPORTED_MODULE_8__, pc_components_field_permission_permission_modal_header__WEBPACK_IMPORTED_MODULE_9__, _apitable_components__WEBPACK_IMPORTED_MODULE_11__]);
([pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_3__, _permission__WEBPACK_IMPORTED_MODULE_4__, pc_components_space_manage_workbench_permission_desc__WEBPACK_IMPORTED_MODULE_5__, pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_6__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__, _tree_node_icon__WEBPACK_IMPORTED_MODULE_8__, pc_components_field_permission_permission_modal_header__WEBPACK_IMPORTED_MODULE_9__, _apitable_components__WEBPACK_IMPORTED_MODULE_11__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 













const PermissionSettingsPlus = ({ data , visible , onClose  })=>{
    const { 0: permDescModalVisible , 1: setPermDescModalVisible  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_11__.useThemeColors)();
    if (!visible) {
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
    }
    const Title = ()=>{
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {
            content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.instruction_of_node_permission),
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().helpBtn),
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_10__.QuestionCircleOutlined, {
                    color: colors.textCommonTertiary,
                    onClick: ()=>setPermDescModalVisible(true),
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().infoIcon)
                })
            })
        });
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__/* .ComponentDisplay */ .d, {
                maxWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__/* .ScreenSize.md */ ._.md,
                children: visible && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_mobile_popup__WEBPACK_IMPORTED_MODULE_6__/* .Popup */ .G, {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().permissionDrawer),
                    height: "90%",
                    open: visible,
                    placement: "bottom",
                    title: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_field_permission_permission_modal_header__WEBPACK_IMPORTED_MODULE_9__/* .PermissionModalHeader */ .I, {
                        typeName: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.file),
                        targetName: data.name,
                        targetIcon: (0,_tree_node_icon__WEBPACK_IMPORTED_MODULE_8__/* .getNodeIcon */ .n)(data.icon, data.type, {
                            normalColor: colors.textCommonTertiary
                        }),
                        docIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Title, {})
                    }),
                    onClose: ()=>onClose(),
                    push: {
                        distance: 0
                    },
                    destroyOnClose: true,
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_permission__WEBPACK_IMPORTED_MODULE_4__/* .Permission */ .y, {
                        data: data
                    })
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__/* .ComponentDisplay */ .d, {
                minWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_7__/* .ScreenSize.md */ ._.md,
                children: visible && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_3__.Modal, {
                    visible: true,
                    title: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_field_permission_permission_modal_header__WEBPACK_IMPORTED_MODULE_9__/* .PermissionModalHeader */ .I, {
                        typeName: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.file),
                        targetName: data.name,
                        targetIcon: (0,_tree_node_icon__WEBPACK_IMPORTED_MODULE_8__/* .getNodeIcon */ .n)(data.icon, data.type, {
                            normalColor: colors.textCommonTertiary
                        }),
                        docIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Title, {})
                    }),
                    bodyStyle: {
                        padding: "0 0 24px 0"
                    },
                    width: 560,
                    onCancel: onClose,
                    destroyOnClose: true,
                    footer: null,
                    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_13___default().permissionModal), "permission_setting_class"),
                    centered: true,
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_permission__WEBPACK_IMPORTED_MODULE_4__/* .Permission */ .y, {
                                data: data
                            }),
                            permDescModalVisible && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_space_manage_workbench_permission_desc__WEBPACK_IMPORTED_MODULE_5__/* .PermissionDescModal */ .C, {
                                visible: true,
                                onCancel: ()=>setPermDescModalVisible(false)
                            })
                        ]
                    })
                })
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 92052:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "m": () => (/* reexport safe */ _tree__WEBPACK_IMPORTED_MODULE_0__.m)
/* harmony export */ });
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10217);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_tree__WEBPACK_IMPORTED_MODULE_0__]);
_tree__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 93967:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Y": () => (/* binding */ AddressSide)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(12746);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var pc_components_address_list_expand_member_info__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54694);
/* harmony import */ var pc_components_catalog_permission_settings_permission_select_unit_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28031);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(75914);
/* harmony import */ var enterprise__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(14463);
/* harmony import */ var pc_components_invite__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(51971);
/* harmony import */ var pc_components_organization_head__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(93589);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(22829);
/* harmony import */ var pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(36367);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(70220);
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(85421);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _address_list_address_tree_menu__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(28522);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(843);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(35487);
/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(posthog_js_react__WEBPACK_IMPORTED_MODULE_19__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_address_list_expand_member_info__WEBPACK_IMPORTED_MODULE_5__, pc_components_catalog_permission_settings_permission_select_unit_modal__WEBPACK_IMPORTED_MODULE_6__, pc_components_common__WEBPACK_IMPORTED_MODULE_7__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__, pc_components_invite__WEBPACK_IMPORTED_MODULE_9__, pc_components_organization_head__WEBPACK_IMPORTED_MODULE_10__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__, pc_hooks__WEBPACK_IMPORTED_MODULE_12__, pc_utils__WEBPACK_IMPORTED_MODULE_14__, _address_list_address_tree_menu__WEBPACK_IMPORTED_MODULE_18__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_address_list_expand_member_info__WEBPACK_IMPORTED_MODULE_5__, pc_components_catalog_permission_settings_permission_select_unit_modal__WEBPACK_IMPORTED_MODULE_6__, pc_components_common__WEBPACK_IMPORTED_MODULE_7__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__, pc_components_invite__WEBPACK_IMPORTED_MODULE_9__, pc_components_organization_head__WEBPACK_IMPORTED_MODULE_10__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__, pc_hooks__WEBPACK_IMPORTED_MODULE_12__, pc_utils__WEBPACK_IMPORTED_MODULE_14__, _address_list_address_tree_menu__WEBPACK_IMPORTED_MODULE_18__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 









// @ts-ignore














const AddressSide = ()=>{
    const { teamList , spaceId , userInfo  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_17__.useSelector)((state)=>({
            teamList: state.addressList.teamList,
            spaceId: state.space.activeId,
            userInfo: state.user.info
        }), react_redux__WEBPACK_IMPORTED_MODULE_17__.shallowEqual);
    const posthog = (0,posthog_js_react__WEBPACK_IMPORTED_MODULE_19__.usePostHog)();
    const { isAdmin  } = userInfo;
    const dispatch = (0,pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_13__/* .useAppDispatch */ .T)();
    const { getInviteStatus  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useUserRequest */ .CL)();
    const { data: inviteRes , loading  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useRequest */ .QT)(getInviteStatus);
    const { 0: inSearch , 1: setInSearch  } = (0,react__WEBPACK_IMPORTED_MODULE_16__.useState)(false);
    const spaceInfo = (0,react_redux__WEBPACK_IMPORTED_MODULE_17__.useSelector)((state)=>state.space.curSpaceInfo);
    (0,react__WEBPACK_IMPORTED_MODULE_16__.useEffect)(()=>{
        if (spaceInfo && !(0,enterprise__WEBPACK_IMPORTED_MODULE_20__.isSocialPlatformEnabled)?.(spaceInfo)) {
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Player.doTrigger(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Events.address_shown);
        }
    }, [
        spaceInfo
    ]);
    const { setSideBarVisible  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useSideBarVisible */ .xn)();
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__/* .ScreenSize.md */ ._.md);
    const teamClick = react__WEBPACK_IMPORTED_MODULE_16__.useCallback((teamId)=>{
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.readTeam(teamId).then((res)=>{
            const { success , data  } = res.data;
            if (success) {
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateSelectedTeamInfo({
                    teamTitle: data.teamName,
                    memberCount: data.memberCount,
                    teamId: data.teamId
                }));
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateMemberListPageNo(1));
            }
        });
        isMobile && setSideBarVisible(false);
        dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateMemberInfo({
            memberId: "",
            email: ""
        }));
        dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateMemberListPageNo(1));
    }, [
        isMobile,
        setSideBarVisible,
        dispatch
    ]);
    const memberClick = (memberId)=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.MEMBER_DETAIL, {
            params: {
                spaceId,
                memberId
            }
        });
        isMobile && (0,pc_components_address_list_expand_member_info__WEBPACK_IMPORTED_MODULE_5__/* .expandMemberInfo */ .z)();
        teamClick(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.ROOT_TEAM_ID);
        dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getMemberInfoData(memberId));
    };
    const { CUSTOM_SYNC_CONTACTS_LINKID =""  } = (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_15__/* .getEnvVariables */ .Sy)();
    const isSyncingMembers = CUSTOM_SYNC_CONTACTS_LINKID && isAdmin;
    const btnSize = isSyncingMembers ? "large" : "middle";
    const OperateButton = react__WEBPACK_IMPORTED_MODULE_16__.useMemo(()=>{
        if ((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.isIdassPrivateDeployment)()) {
            return;
        }
        if (inviteRes && !loading) {
            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    isSyncingMembers && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
                        color: "primary",
                        prefixIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.AddOutlined, {}),
                        id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ADDRESS_ID.INVITE_BTN,
                        className: classnames__WEBPACK_IMPORTED_MODULE_4___default()({
                            [(_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().inviteBtnMobile)]: isMobile
                        }),
                        onClick: ()=>{
                            (0,pc_components_catalog_permission_settings_permission_select_unit_modal__WEBPACK_IMPORTED_MODULE_6__/* .expandUnitModal */ .zz)({
                                source: pc_components_catalog_permission_settings_permission_select_unit_modal__WEBPACK_IMPORTED_MODULE_6__/* .SelectUnitSource.SyncMember */ .AU.SyncMember,
                                onSubmit: (values)=>{
                                    (0,enterprise__WEBPACK_IMPORTED_MODULE_20__.syncOrgMember)?.({
                                        values,
                                        linkId: CUSTOM_SYNC_CONTACTS_LINKID,
                                        userInfo
                                    });
                                },
                                isSingleSelect: false,
                                checkedList: []
                            });
                        },
                        size: btnSize,
                        style: {
                            display: "flex",
                            alignItems: "center"
                        },
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.poc_sync_members)
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
                        size: btnSize,
                        color: isSyncingMembers ? "default" : "primary",
                        prefixIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.UserAddOutlined, {}),
                        id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ADDRESS_ID.INVITE_BTN,
                        className: classnames__WEBPACK_IMPORTED_MODULE_4___default()({
                            [(_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().inviteBtnMobile)]: isMobile,
                            [(_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().isSyncingMembers)]: isSyncingMembers
                        }),
                        onClick: ()=>{
                            posthog?.capture(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.TrackEvents.InviteByContacts);
                            (0,pc_components_invite__WEBPACK_IMPORTED_MODULE_9__/* .expandInviteModal */ .Wu)({
                                resUpdate: ()=>teamClick(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.ROOT_TEAM_ID)
                            });
                        },
                        children: isSyncingMembers ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.other_invitation_rule) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.invite_member)
                    })
                ]
            });
        }
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().empty)
        });
    }, [
        loading,
        isMobile,
        teamClick,
        inviteRes,
        CUSTOM_SYNC_CONTACTS_LINKID,
        userInfo,
        isSyncingMembers,
        btnSize
    ]);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().leftContent),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_organization_head__WEBPACK_IMPORTED_MODULE_10__/* .OrganizationHead */ .v, {}),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__/* .ComponentDisplay */ .d, {
                minWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().searchItem),
                    children: [
                        (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.contacts),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                            onClick: (e)=>{
                                (0,pc_utils__WEBPACK_IMPORTED_MODULE_14__/* .stopPropagation */ .UW)(e);
                                setInSearch(true);
                            },
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.SearchOutlined, {})
                        })
                    ]
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__/* .ComponentDisplay */ .d, {
                maxWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().searchInputWrapper),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_22__/* .Input */ .II, {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().searchInput),
                        prefix: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.SearchOutlined, {}),
                        size: "small",
                        placeholder: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.search),
                        onClick: ()=>setInSearch(true)
                    })
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().listWrapper),
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        style: {
                            filter: inSearch ? _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.GLASS_FILTER : "none"
                        },
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().filter),
                        children: [
                            OperateButton,
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_21___default().menu),
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_address_list_address_tree_menu__WEBPACK_IMPORTED_MODULE_18__/* .AddressTreeMenu */ .u, {
                                    listData: teamList,
                                    onSelect: (keys)=>teamClick(keys[0]),
                                    inSearch: inSearch
                                })
                            })
                        ]
                    }),
                    inSearch && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_7__/* .SearchTeamAndMember */ .mr, {
                        setInSearch: (search)=>setInSearch(search),
                        teamClick: teamClick,
                        memberClick: memberClick
                    })
                ]
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 83893:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Y": () => (/* reexport safe */ _address_side__WEBPACK_IMPORTED_MODULE_0__.Y)
/* harmony export */ });
/* harmony import */ var _address_side__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93967);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_address_side__WEBPACK_IMPORTED_MODULE_0__]);
_address_side__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 26068:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "q": () => (/* binding */ CommonSide)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(71853);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var pc_components_space_manage_space_menu_tree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(72445);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _address_side__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(83893);
/* harmony import */ var _template_category_side__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54086);
/* harmony import */ var _template_detail_side_template_detail_side__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(76963);
/* harmony import */ var _workbench_side__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(71223);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_space_manage_space_menu_tree__WEBPACK_IMPORTED_MODULE_2__, _address_side__WEBPACK_IMPORTED_MODULE_4__, _template_category_side__WEBPACK_IMPORTED_MODULE_5__, _template_detail_side_template_detail_side__WEBPACK_IMPORTED_MODULE_6__, _workbench_side__WEBPACK_IMPORTED_MODULE_7__]);
([pc_components_space_manage_space_menu_tree__WEBPACK_IMPORTED_MODULE_2__, _address_side__WEBPACK_IMPORTED_MODULE_4__, _template_category_side__WEBPACK_IMPORTED_MODULE_5__, _template_detail_side_template_detail_side__WEBPACK_IMPORTED_MODULE_6__, _workbench_side__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 



// import styles from './style.module.less';
// import { SpaceMenuTree } from '../space_manage/space_menu_tree';




const CommonSide = ()=>{
    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();
    const user = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state)=>state.user.info);
    if (router.pathname.includes("management")) {
        return user && user.isAdmin ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_space_manage_space_menu_tree__WEBPACK_IMPORTED_MODULE_2__/* .SpaceMenuTree */ .b, {}) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {});
    }
    if (router.asPath.includes("workbench")) {
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_workbench_side__WEBPACK_IMPORTED_MODULE_7__/* .WorkbenchSide */ .T, {});
    }
    if (router.asPath.includes("org")) {
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_address_side__WEBPACK_IMPORTED_MODULE_4__/* .AddressSide */ .Y, {});
    }
    if (router.asPath.includes("template") && router.query["template_id"]) {
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_template_detail_side_template_detail_side__WEBPACK_IMPORTED_MODULE_6__/* .TemplateDetailSide */ .I, {});
    }
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_template_category_side__WEBPACK_IMPORTED_MODULE_5__/* .TemplateCategorySide */ .l, {});
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 40994:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "q": () => (/* reexport safe */ _common_side__WEBPACK_IMPORTED_MODULE_0__.q)
/* harmony export */ });
/* harmony import */ var _common_side__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26068);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_side__WEBPACK_IMPORTED_MODULE_0__]);
_common_side__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (CommonSide)));

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 54086:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "l": () => (/* reexport safe */ _template_category_side__WEBPACK_IMPORTED_MODULE_0__.l)
/* harmony export */ });
/* harmony import */ var _template_category_side__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80163);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_template_category_side__WEBPACK_IMPORTED_MODULE_0__]);
_template_category_side__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 80163:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "l": () => (/* binding */ TemplateCategorySide)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(57398);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ahooks__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(12746);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(96577);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(71853);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common_search_input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(41812);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(22829);
/* harmony import */ var pc_utils_keycode__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(15861);
/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(35487);
/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(posthog_js_react__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var static_icon_datasheet_datasheet_icon_template_folder_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(65733);
/* harmony import */ var static_icon_datasheet_empty_state_dark_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(84577);
/* harmony import */ var static_icon_datasheet_empty_state_light_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(17763);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(76587);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_20__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_8__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__, pc_components_common_search_input__WEBPACK_IMPORTED_MODULE_10__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__, pc_hooks__WEBPACK_IMPORTED_MODULE_12__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_8__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__, pc_components_common_search_input__WEBPACK_IMPORTED_MODULE_10__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__, pc_hooks__WEBPACK_IMPORTED_MODULE_12__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 





















const TemplateCategorySide = ()=>{
    const posthog = (0,posthog_js_react__WEBPACK_IMPORTED_MODULE_14__.usePostHog)();
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    /** official category list */ const { 0: categoryList , 1: setCategoryList  } = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)([]);
    const query = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useQuery */ .aM)();
    const { 0: keywords , 1: setKeywords  } = (0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(query.get("searchKey") || "");
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_16__.useSelector)((state)=>state.space.activeId);
    const categoryId = (0,react_redux__WEBPACK_IMPORTED_MODULE_16__.useSelector)((state)=>state.pageParams.categoryId);
    const { getTemplateCategoryReq , searchTemplateReq  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useTemplateRequest */ .Ts)();
    const { data: templateCategory  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useRequest */ .QT)(getTemplateCategoryReq);
    const { run: searchTemplate , data: searchTemplateResult , mutate  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useRequest */ .QT)(searchTemplateReq, {
        manual: true
    });
    const { templates , albums  } = searchTemplateResult || {};
    const { run: debouncedSearchTemplate  } = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__.useDebounceFn)(searchTemplate, {
        wait: 300
    });
    // Keep track of the keywords that have been reported to avoid duplication of buried reports
    const hasTrackSearchKeyWords = (0,react__WEBPACK_IMPORTED_MODULE_15__.useRef)("");
    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_7__.useRouter)();
    const themeName = (0,react_redux__WEBPACK_IMPORTED_MODULE_16__.useSelector)((state)=>state.theme);
    const SearchDefaultPng = themeName === _apitable_components__WEBPACK_IMPORTED_MODULE_1__.ThemeName.Light ? static_icon_datasheet_empty_state_light_png__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .Z : static_icon_datasheet_empty_state_dark_png__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .Z;
    (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(()=>{
        if (templateCategory) {
            setCategoryList([
                {
                    categoryCode: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.TEMPLATE_CHOICE_CATEGORY_ID,
                    categoryName: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.template_recommend_title)
                },
                ...templateCategory, 
            ]);
        }
    // eslint-disable-next-line
    }, [
        templateCategory
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(()=>{
        const newKeywords = keywords.trim();
        if (newKeywords) {
            debouncedSearchTemplate(newKeywords);
        } else {
            mutate({
                templates: [],
                albums: []
            });
        }
    // eslint-disable-next-line
    }, [
        keywords
    ]);
    const { setSideBarVisible  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useSideBarVisible */ .xn)();
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_12__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__/* .ScreenSize.md */ ._.md);
    const handleClick = (categoryId)=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TEMPLATE, {
            params: {
                spaceId,
                categoryId
            }
        });
        isMobile && setSideBarVisible(false);
    };
    const jumpOfficialWebsite = ()=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__/* .Router.newTab */ .F.newTab(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.HOME, {
            query: {
                home: 1
            }
        });
    };
    /**
   * Trigger burial points
   * Rules
   * 1. 2000ms after search results
   * 2. After clicking on the search results template
   * 3. Component Uninstallation
   * 4. Click to clear to report current results
   * 5. Input box enter
   */ const triggerTrack = (0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((keywords)=>{
        if (!keywords || hasTrackSearchKeyWords.current === keywords) {
            return;
        }
        hasTrackSearchKeyWords.current = keywords;
        console.log(`template keyword track: ${keywords}`);
        posthog?.capture(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.TrackEvents.TemplateSearchKeyword, {
            keyword: keywords
        });
    }, [
        posthog
    ]);
    const jumpTemplate = (categoryCode, templateId)=>{
        triggerTrack(keywords);
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TEMPLATE, {
            params: {
                spaceId,
                categoryId: categoryCode,
                templateId
            }
        });
    };
    const clearKeyword = ()=>{
        triggerTrack(keywords);
        setKeywords("");
        bindSearchQuery("");
    };
    const onSearchInputKeyDown = (e)=>{
        if (e.keyCode === pc_utils_keycode__WEBPACK_IMPORTED_MODULE_13__/* .KeyCode.Enter */ .VD.Enter) {
            triggerTrack(keywords);
        }
    };
    const bindSearchQuery = (keywords)=>{
        const urlObj = new URL(window.location.href);
        const searchParams = urlObj.searchParams;
        if (keywords) {
            searchParams.set("searchKey", keywords);
        } else {
            searchParams.delete("searchKey");
        }
        router.replace(urlObj.pathname + urlObj.search);
    };
    (0,ahooks__WEBPACK_IMPORTED_MODULE_4__.useUnmount)(()=>{
        triggerTrack(keywords);
    });
    const { run: debounceTriggerTrack  } = (0,ahooks__WEBPACK_IMPORTED_MODULE_4__.useDebounceFn)(triggerTrack, {
        wait: 2000
    });
    (0,react__WEBPACK_IMPORTED_MODULE_15__.useEffect)(()=>{
        debounceTriggerTrack(keywords);
    }, [
        debounceTriggerTrack,
        keywords
    ]);
    const openTemplateAlbumDetail = (albumId)=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_11__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TEMPLATE, {
            params: {
                spaceId,
                albumId,
                categoryId: "album"
            }
        });
    };
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().templateClass),
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().templateCategory), !spaceId && (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().templateCategoryBg)),
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().title),
                    children: [
                        !spaceId && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_21__/* .Tooltip */ .u, {
                            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.jump_official_website),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().logo),
                                onClick: jumpOfficialWebsite,
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_8__/* .Logo */ .TR, {
                                    theme: _apitable_components__WEBPACK_IMPORTED_MODULE_1__.ThemeName.Dark,
                                    size: "large",
                                    text: false
                                })
                            })
                        }),
                        (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.template_centre)
                    ]
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().searchContainer),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_search_input__WEBPACK_IMPORTED_MODULE_10__/* .SearchInput */ .M, {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().templateSearch),
                        keyword: keywords,
                        change: setKeywords,
                        size: "small",
                        onBlur: ()=>bindSearchQuery(keywords),
                        onKeyDown: onSearchInputKeyDown,
                        suffix: keywords && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                            onClick: clearKeyword,
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.CloseCircleFilled, {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().closeBtn)
                            })
                        })
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().listContainer),
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().officialTemplate),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().subTitle), (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().officialSubTitle)),
                                    variant: "h6",
                                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.official_template)
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().officialTemplateList),
                                    children: categoryList.map((category, index)=>/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().categoryItem), {
                                                [(_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().active)]: category.categoryCode === categoryId || !categoryId && index === 0,
                                                [(_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().activedCategoryMobile)]: isMobile
                                            }),
                                            onClick: ()=>handleClick(category.categoryCode),
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: classnames__WEBPACK_IMPORTED_MODULE_5___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().categoryName)),
                                                children: category.categoryName
                                            })
                                        }, index))
                                })
                            ]
                        }),
                        spaceId && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().spaceTemplate),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                    variant: "h6",
                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().subTitle),
                                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_template)
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()({
                                        [(_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().categoryItem)]: true,
                                        [(_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().active)]: "tpcprivate" === categoryId,
                                        [(_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().activedCategoryMobile)]: isMobile
                                    }),
                                    onClick: ()=>handleClick("tpcprivate"),
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().categoryName),
                                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.all)
                                    })
                                })
                            ]
                        }),
                        keywords && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().searchResult),
                            children: templates && templates.length > 0 || albums && albums.length > 0 ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                children: [
                                    templates && templates.length > 0 && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                        children: [
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.template)
                                            }),
                                            templates.map((item)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().item),
                                                    onClick: ()=>jumpTemplate(item.categoryCode || _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.TEMPLATE_UNCATEGORIZED, item.templateId),
                                                    children: [
                                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().nameContainer),
                                                            variant: "body2",
                                                            children: [
                                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(static_icon_datasheet_datasheet_icon_template_folder_svg__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .Z, {
                                                                    width: 16,
                                                                    height: 16,
                                                                    fill: colors.staticWhite0
                                                                }),
                                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().name),
                                                                    dangerouslySetInnerHTML: {
                                                                        __html: item.templateName
                                                                    }
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().tags),
                                                            variant: "body3",
                                                            children: item.tags.map((tag, index)=>/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().tag),
                                                                    dangerouslySetInnerHTML: {
                                                                        __html: tag
                                                                    }
                                                                }, index))
                                                        })
                                                    ]
                                                }, item.templateId))
                                        ]
                                    }),
                                    albums && albums.length > 0 && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                        children: [
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.album)
                                            }),
                                            albums?.map((item, index)=>/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().albumName),
                                                    onClick: ()=>openTemplateAlbumDetail(item.albumId),
                                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                                        dangerouslySetInnerHTML: {
                                                            __html: item.name
                                                        }
                                                    })
                                                }, index))
                                        ]
                                    })
                                ]
                            }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().emptyList),
                                children: [
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_image__WEBPACK_IMPORTED_MODULE_6___default()), {
                                        src: SearchDefaultPng,
                                        alt: "empty"
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().tip),
                                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.no_search_result)
                                    })
                                ]
                            })
                        })
                    ]
                })
            ]
        })
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 76963:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": () => (/* binding */ TemplateDetailSide)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(75914);
/* harmony import */ var enterprise__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(14463);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(22829);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(70220);
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(85421);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _template_centre_template_detail__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(26661);
/* harmony import */ var _template_centre_template_use_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(84143);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(57257);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_14__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__, pc_hooks__WEBPACK_IMPORTED_MODULE_7__, pc_utils__WEBPACK_IMPORTED_MODULE_8__, _template_centre_template_detail__WEBPACK_IMPORTED_MODULE_12__, _template_centre_template_use_button__WEBPACK_IMPORTED_MODULE_13__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__, pc_hooks__WEBPACK_IMPORTED_MODULE_7__, pc_utils__WEBPACK_IMPORTED_MODULE_8__, _template_centre_template_detail__WEBPACK_IMPORTED_MODULE_12__, _template_centre_template_use_button__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 





// @ts-ignore











const TemplateDetailSide = ()=>{
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const officialLogo = (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.integrateCdnHost)((0,pc_utils_env__WEBPACK_IMPORTED_MODULE_9__/* .getEnvVariables */ .Sy)().SYSTEM_CONFIGURATION_OFFICIAL_AVATAR);
    const categoryId = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.pageParams.categoryId);
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.space.activeId);
    const templateId = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.pageParams.templateId);
    const { spaceInfo  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_7__/* .useSpaceInfo */ .zX)(spaceId);
    const goBack = ()=>{
        const uncategorized = categoryId === _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.TEMPLATE_UNCATEGORIZED;
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TEMPLATE, {
            params: {
                spaceId,
                categoryId: uncategorized ? undefined : categoryId
            }
        });
    };
    const { sideBarVisible , setSideBarVisible  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_7__/* .useSideBarVisible */ .xn)();
    const templateDirectory = (0,react_redux__WEBPACK_IMPORTED_MODULE_11__.useSelector)((state)=>state.templateCentre.directory);
    const title = templateDirectory ? (0,enterprise__WEBPACK_IMPORTED_MODULE_15__.getSocialWecomUnitName)?.({
        name: templateDirectory.nickName,
        isModified: templateDirectory.isMemberNameModified,
        spaceInfo
    }) || templateDirectory.nickName : "";
    const isOfficial = categoryId !== "tpcprivate";
    const shareTemplate = ()=>{
        const { origin  } = window.location;
        (0,pc_utils__WEBPACK_IMPORTED_MODULE_8__/* .copy2clipBoard */ .eh)(`${origin}/template/${categoryId}/${templateId}`, ()=>pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Message.success */ .v0.success({
                content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.shared_link_copied)
            }));
    };
    const handleClick = ()=>{
        setSideBarVisible(!sideBarVisible);
    };
    const closeBtnClass = classnames__WEBPACK_IMPORTED_MODULE_3___default()({
        [(_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().closeBtn)]: true,
        [(_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().isPanelClose)]: !sideBarVisible
    });
    const closeBtnStyles = {};
    if (templateId) {
        closeBtnStyles.top = "26px";
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().left),
        style: {
            backgroundColor: spaceId ? "unset" : colors.blackBlue[900]
        },
        children: [
            !templateDirectory && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                style: {
                    padding: "0 16px",
                    width: "100%",
                    height: "100%"
                },
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().categoryName)
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().creator),
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                                image: true,
                                circle: true,
                                style: {
                                    width: "80px",
                                    height: "80px"
                                }
                            }),
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                                count: 2,
                                width: "100%"
                            })
                        ]
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                        count: 1,
                        width: "38%"
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                        count: 2
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                        count: 1,
                        width: "61%"
                    })
                ]
            }),
            templateDirectory && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().categoryName),
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().goBackWrapper),
                            onClick: goBack,
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_14__.ChevronLeftOutlined, {
                                    color: "currentColor"
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.template_go_back, {
                                        category: categoryId === _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.TEMPLATE_CHOICE_CATEGORY_ID ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.template_recommend_title) : templateDirectory.categoryName ? templateDirectory.categoryName : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_template)
                                    })
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().creator),
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Avatar */ .qE, {
                                size: pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .AvatarSize.Size80 */ .DZ.Size80,
                                id: templateDirectory.uuid || "VIKA",
                                title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.official_name),
                                src: templateDirectory.uuid ? templateDirectory.avatar : officialLogo,
                                type: pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .AvatarType.Member */ .fC.Member,
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().avatar)
                            }),
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().nickName),
                                children: templateDirectory.uuid ? title || templateDirectory.nickName : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.official_name)
                            }),
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().spaceName),
                                children: templateDirectory.uuid ? templateDirectory.spaceName : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.official_template_centre_description)
                            })
                        ]
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().templateName),
                        children: templateDirectory.templateName
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().treeWrapper),
                        children: templateDirectory.nodeTree && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_template_centre_template_detail__WEBPACK_IMPORTED_MODULE_12__/* .NodeTree */ .yf, {
                            nodeTree: templateDirectory.nodeTree
                        })
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_16___default().buttonGroup),
                        children: [
                            (!(0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.isIdassPrivateDeployment)() || spaceId) && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_template_centre_template_use_button__WEBPACK_IMPORTED_MODULE_13__/* .TemplateUseButton */ .d, {
                                id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.TEMPLATE_CENTER_ID.USE_TEMPLATE_BTN,
                                style: {
                                    width: "200px"
                                }
                            }),
                            isOfficial && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.LinkButton, {
                                underline: false,
                                onClick: shareTemplate,
                                style: {
                                    color: colors.blackBlue[50],
                                    marginTop: 16
                                },
                                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.copy_template_share_link)
                            })
                        ]
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__/* .ComponentDisplay */ .d, {
                        minWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__/* .ScreenSize.md */ ._.md,
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Tooltip */ .u, {
                            title: !sideBarVisible ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.expand_pane) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.hide_pane),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: closeBtnClass,
                                style: closeBtnStyles,
                                onClick: handleClick,
                                children: !sideBarVisible ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_14__.Collapse2OpenOutlined, {
                                    size: 16
                                }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_14__.Collapse2Outlined, {
                                    size: 16
                                })
                            })
                        })
                    })
                ]
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 10346:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "r": () => (/* binding */ Favorite)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(96577);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var pc_components_catalog_tree_node_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(38471);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common_tree_view__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3008);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22829);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(70220);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var static_icon_workbench_catalogue_favorite_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(54020);
/* harmony import */ var _workbench_side_context__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(49312);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(40050);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_15__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_catalog_tree_node_item__WEBPACK_IMPORTED_MODULE_5__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__, pc_components_common_tree_view__WEBPACK_IMPORTED_MODULE_7__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__, pc_hooks__WEBPACK_IMPORTED_MODULE_9__, pc_utils__WEBPACK_IMPORTED_MODULE_10__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_catalog_tree_node_item__WEBPACK_IMPORTED_MODULE_5__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__, pc_components_common_tree_view__WEBPACK_IMPORTED_MODULE_7__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__, pc_hooks__WEBPACK_IMPORTED_MODULE_9__, pc_utils__WEBPACK_IMPORTED_MODULE_10__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 
















const FavoriteBase = ()=>{
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useDispatch)();
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>state.space.activeId);
    const activeNodeId = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Selectors.getNodeId(state));
    const { favoriteTreeNodeIds: _favoriteTreeNodeIds , favoriteDelNodeId , favoriteEditNodeId , favoriteLoading , favoriteExpandedKeys , treeNodesMap ,  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>({
            favoriteTreeNodeIds: state.catalogTree.favoriteTreeNodeIds,
            favoriteDelNodeId: state.catalogTree.favoriteDelNodeId,
            favoriteEditNodeId: state.catalogTree.favoriteEditNodeId,
            favoriteLoading: state.catalogTree.favoriteLoading,
            favoriteExpandedKeys: state.catalogTree.favoriteExpandedKeys,
            treeNodesMap: state.catalogTree.treeNodesMap
        }), react_redux__WEBPACK_IMPORTED_MODULE_12__.shallowEqual);
    const { moveFavoriteNodeReq  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useCatalogTreeRequest */ .mF)();
    const { run: moveFavoriteNode  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useRequest */ .QT)(moveFavoriteNodeReq, {
        manual: true
    });
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__/* .ScreenSize.md */ ._.md);
    const { setRightClickInfo , onSetContextMenu  } = (0,react__WEBPACK_IMPORTED_MODULE_11__.useContext)(_workbench_side_context__WEBPACK_IMPORTED_MODULE_14__/* .WorkbenchSideContext */ .V);
    const treeViewRef = (0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null);
    const favoriteTreeNodeIds = (0,react__WEBPACK_IMPORTED_MODULE_11__.useMemo)(()=>[
            ...new Set(_favoriteTreeNodeIds)
        ], [
        _favoriteTreeNodeIds
    ]);
    const expandHandler = (nodeIds)=>{
        dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.setExpandedKeys(nodeIds, _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE));
    };
    const onContextMenu = (e)=>{
        e.stopPropagation();
        e.preventDefault();
    };
    const renderTreeItem = (children, parentNode = null, level = "0")=>{
        const leafNodes = new Set([
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.DATASHEET,
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.FORM,
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.DASHBOARD,
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.MIRROR, 
        ]);
        return children.map((nodeId, index)=>{
            const nodeInfo = treeNodesMap[nodeId];
            if (nodeInfo == null) return null;
            const { type , children , hasChildren , errType  } = nodeInfo;
            const pos = `${level}-${index}`;
            const deleteNodeInfo = favoriteDelNodeId.split(",");
            const editingNodeInfo = favoriteEditNodeId.split(",");
            const deleting = deleteNodeInfo[0] === pos && deleteNodeInfo[1] === nodeId;
            const editing = editingNodeInfo[0] === pos && editingNodeInfo[1] === nodeId;
            const operating = deleting || editing;
            const classNames = classnames__WEBPACK_IMPORTED_MODULE_3___default()({
                operationBg: operating
            });
            const nodeItemProps = {
                editing,
                deleting,
                node: nodeInfo,
                from: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE,
                actived: nodeId === activeNodeId,
                level: pos,
                hasChildren: hasChildren,
                expanded: favoriteExpandedKeys.includes(nodeId)
            };
            if (type === _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.FOLDER) {
                return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_tree_view__WEBPACK_IMPORTED_MODULE_7__/* .TreeItem */ .kf, {
                    nodeId: nodeId,
                    label: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_tree_node_item__WEBPACK_IMPORTED_MODULE_5__/* .NodeItem */ .n, {
                        ...nodeItemProps
                    }),
                    pos: pos,
                    data: nodeInfo,
                    className: classNames,
                    draggable: !operating,
                    children: errType !== _apitable_core__WEBPACK_IMPORTED_MODULE_2__.NodeErrorType.ChildNodes ? hasChildren && children.length ? renderTreeItem(children, nodeId, pos) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().emptyNodes),
                        onContextMenu: onContextMenu,
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.empty_nodes)
                    }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().emptyNodes), (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().errorTip)),
                        onContextMenu: onContextMenu,
                        onClick: ()=>{
                            treeViewRef.current?.setLoadingNodeId(nodeId);
                            loadData(nodeId).then(()=>{
                                treeViewRef.current?.setLoadingNodeId("");
                            });
                        },
                        children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.request_tree_node_error_tips)
                    })
                }, nodeId);
            }
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_tree_view__WEBPACK_IMPORTED_MODULE_7__/* .TreeItem */ .kf, {
                nodeId: nodeId,
                label: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_tree_node_item__WEBPACK_IMPORTED_MODULE_5__/* .NodeItem */ .n, {
                    ...nodeItemProps
                }),
                parentNode: parentNode,
                pos: pos,
                data: nodeInfo,
                className: classNames,
                draggable: !operating,
                isLeaf: leafNodes.has(type)
            }, nodeId);
        });
    };
    const loadData = (nodeId)=>{
        if (!treeNodesMap[nodeId]?.hasChildren) {
            return new Promise((resolve)=>{
                resolve(false);
            });
        }
        return dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getChildNode(nodeId));
    };
    const rightClickHandler = (e, data)=>{
        e.preventDefault();
        e.stopPropagation();
        const menuType = (0,pc_utils__WEBPACK_IMPORTED_MODULE_10__/* .getContextTypeByNodeType */ .jm)(data.type);
        setRightClickInfo({
            id: data.nodeId,
            module: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE,
            contextMenuType: menuType,
            level: data.pos
        });
        onSetContextMenu(e);
    };
    const selectNodeHandler = (e, selectedKeys)=>{
        if (favoriteEditNodeId) {
            return;
        }
        const isOpenNewTab = (0,pc_utils__WEBPACK_IMPORTED_MODULE_10__/* .shouldOpenInNewTab */ .or)(e);
        if (typeof selectedKeys === "string" && (selectedKeys !== activeNodeId || isOpenNewTab)) {
            isMobile && dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.setSideBarVisible(false));
            const params = {
                spaceId,
                nodeId: selectedKeys
            };
            isOpenNewTab ? pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__/* .Router.newTab */ .F.newTab(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.WORKBENCH, {
                params
            }) : pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.WORKBENCH, {
                params
            });
        }
    };
    const dropHandler = (info)=>{
        const { dragNodeId , dropNodeId , dropPosition  } = info;
        if (favoriteTreeNodeIds.findIndex((nodeId)=>[
                dropNodeId,
                dragNodeId
            ].includes(nodeId)) === -1 || !dropPosition || dragNodeId === dropNodeId) {
            return;
        }
        if (dropPosition === -1) {
            const index = favoriteTreeNodeIds.findIndex((id)=>id === dropNodeId);
            const prevNodeId = favoriteTreeNodeIds[index - 1] || "";
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.moveFavoriteNode(dragNodeId, prevNodeId));
            moveFavoriteNode(dragNodeId, prevNodeId);
        } else {
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.moveFavoriteNode(dragNodeId, dropNodeId));
            moveFavoriteNode(dragNodeId, dropNodeId);
        }
    };
    if (favoriteLoading) {
        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            style: {
                margin: "0 8px",
                width: "100%"
            },
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                    width: "38%"
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {}),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Skeleton, {
                    width: "61%"
                })
            ]
        });
    }
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().favorite),
        children: favoriteTreeNodeIds.length ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_tree_view__WEBPACK_IMPORTED_MODULE_7__/* .TreeView */ .LQ, {
            module: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE,
            expandedKeys: favoriteExpandedKeys,
            onExpand: expandHandler,
            loadData: loadData,
            onRightClick: rightClickHandler,
            onSelect: selectNodeHandler,
            selectedKeys: activeNodeId ? [
                activeNodeId
            ] : [],
            onDrop: dropHandler,
            draggable: true,
            children: renderTreeItem(favoriteTreeNodeIds)
        }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().empty),
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().emptyFavoritePng),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_image__WEBPACK_IMPORTED_MODULE_4___default()), {
                        src: static_icon_workbench_catalogue_favorite_png__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z,
                        alt: "empty favorite",
                        width: 60,
                        height: 44
                    })
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().tip),
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.favorite_empty_tip1)
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().tip),
                    children: [
                        (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.favorite_empty_tip2),
                        "~"
                    ]
                })
            ]
        })
    });
};
const Favorite = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_11__.memo(FavoriteBase);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 85487:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "r": () => (/* reexport safe */ _favorite__WEBPACK_IMPORTED_MODULE_0__.r)
/* harmony export */ });
/* harmony import */ var _favorite__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10346);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_favorite__WEBPACK_IMPORTED_MODULE_0__]);
_favorite__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 71223:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "T": () => (/* reexport safe */ _workbench_side__WEBPACK_IMPORTED_MODULE_0__.T)
/* harmony export */ });
/* harmony import */ var _workbench_side__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73220);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_workbench_side__WEBPACK_IMPORTED_MODULE_0__]);
_workbench_side__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 90786:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* reexport safe */ _space_info__WEBPACK_IMPORTED_MODULE_0__.A)
/* harmony export */ });
/* harmony import */ var _space_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14933);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_space_info__WEBPACK_IMPORTED_MODULE_0__]);
_space_info__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 20117:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* reexport safe */ _space_info_popover__WEBPACK_IMPORTED_MODULE_0__.c)
/* harmony export */ });
/* harmony import */ var _space_info_popover__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85190);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_space_info_popover__WEBPACK_IMPORTED_MODULE_0__]);
_space_info_popover__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 85190:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ SpaceInfoPopover)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pc_components_space_manage_space_info_components_basic_info_corp_certified_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98636);
/* harmony import */ var pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18062);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(58895);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_avatar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47917);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64754);
/* harmony import */ var enterprise__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(14463);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(70220);
/* harmony import */ var pc_components_space_manage_space_info_interface__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(78240);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_space_manage_space_info_components_basic_info_corp_certified_tag__WEBPACK_IMPORTED_MODULE_1__, pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_2__, pc_components_common__WEBPACK_IMPORTED_MODULE_3__, pc_components_common_avatar__WEBPACK_IMPORTED_MODULE_4__, _apitable_components__WEBPACK_IMPORTED_MODULE_7__, pc_utils__WEBPACK_IMPORTED_MODULE_9__]);
([pc_components_space_manage_space_info_components_basic_info_corp_certified_tag__WEBPACK_IMPORTED_MODULE_1__, pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_2__, pc_components_common__WEBPACK_IMPORTED_MODULE_3__, pc_components_common_avatar__WEBPACK_IMPORTED_MODULE_4__, _apitable_components__WEBPACK_IMPORTED_MODULE_7__, pc_utils__WEBPACK_IMPORTED_MODULE_9__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 









// @ts-ignore




const SpaceInfoPopover = ()=>{
    const { spaceInfo , spaceId , userInfo , subscription , spaceFeatures  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state)=>({
            spaceInfo: state.space.curSpaceInfo,
            spaceId: state.space.activeId || "",
            userInfo: state.user.info,
            subscription: state.billing?.subscription,
            spaceFeatures: state.space.spaceFeatures
        }), react_redux__WEBPACK_IMPORTED_MODULE_5__.shallowEqual);
    const level = subscription ? subscription.product.toLowerCase() : pc_components_space_manage_space_info_interface__WEBPACK_IMPORTED_MODULE_10__/* .LevelType.Bronze */ .s9.Bronze;
    const { spaceLevelTag: { label  }  } = pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_2__/* .SpaceLevelInfo */ .mS[level] || pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_2__/* .SpaceLevelInfo.bronze */ .mS.bronze;
    const basicCert = !!spaceFeatures && spaceFeatures.certification === "basic";
    const isSocialEnabled = !!spaceInfo && (0,enterprise__WEBPACK_IMPORTED_MODULE_11__.isSocialPlatformEnabled)?.(spaceInfo);
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_7__.useThemeColors)();
    if (!spaceInfo || !userInfo) return null;
    const { ownerName , isOwnerNameModified  } = spaceInfo;
    const displayOwnerName = (0,enterprise__WEBPACK_IMPORTED_MODULE_11__.getSocialWecomUnitName)?.({
        name: ownerName,
        isModified: isOwnerNameModified,
        spaceInfo
    }) || ownerName;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().spaceBaseInfoPopover),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_3__/* .Avatar */ .qE, {
                title: spaceInfo.spaceName,
                size: pc_components_common_avatar__WEBPACK_IMPORTED_MODULE_4__/* .AvatarSize.Size40 */ .DZ.Size40,
                id: userInfo.spaceId,
                src: spaceInfo.spaceLogo,
                type: pc_components_common_avatar__WEBPACK_IMPORTED_MODULE_4__/* .AvatarType.Space */ .fC.Space
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_3__/* .Tooltip */ .u, {
                title: spaceInfo.spaceName,
                placement: "top",
                textEllipsis: true,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().spaceName),
                    children: spaceInfo.spaceName
                })
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().metaInfo),
                children: [
                    label,
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        style: {
                            display: userInfo.isAdmin ? undefined : "none"
                        },
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_space_manage_space_info_components_basic_info_corp_certified_tag__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z, {
                            certified: basicCert,
                            isSocialEnabled: isSocialEnabled,
                            spaceId: spaceId
                        })
                    })
                ]
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().sepLine)
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_7__.Typography, {
                variant: "body3",
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().item),
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().label),
                        children: [
                            (0,_apitable_core__WEBPACK_IMPORTED_MODULE_6__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_6__.Strings.primary_admin),
                            ""
                        ]
                    }),
                    displayOwnerName
                ]
            }),
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_7__.Typography, {
                variant: "body3",
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().item),
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().label),
                        children: [
                            (0,_apitable_core__WEBPACK_IMPORTED_MODULE_6__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_6__.Strings.space_id),
                            ""
                        ]
                    }),
                    spaceId,
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        onClick: ()=>(0,pc_utils__WEBPACK_IMPORTED_MODULE_9__/* .copy2clipBoard */ .eh)(spaceId, ()=>pc_components_common__WEBPACK_IMPORTED_MODULE_3__/* .Message.success */ .v0.success({
                                    content: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_6__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_6__.Strings.copy_success)
                                })),
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.CopyOutlined, {
                            size: 16,
                            color: colors.textCommonPrimary,
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_12___default().copy)
                        })
                    })
                ]
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 14933:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ SpaceInfo)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12746);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(75914);
/* harmony import */ var pc_components_organization_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(93589);
/* harmony import */ var pc_components_space_manage_space_info_interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78240);
/* harmony import */ var pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18062);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _space_info_popover__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(20117);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68427);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_7__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__, pc_components_organization_head__WEBPACK_IMPORTED_MODULE_2__, pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_4__, _space_info_popover__WEBPACK_IMPORTED_MODULE_6__]);
([pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__, pc_components_organization_head__WEBPACK_IMPORTED_MODULE_2__, pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_4__, _space_info_popover__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 








const Content = ()=>{
    const subscription = (0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state)=>state.billing?.subscription, react_redux__WEBPACK_IMPORTED_MODULE_5__.shallowEqual);
    const level = subscription ? subscription.product.toLowerCase() : pc_components_space_manage_space_info_interface__WEBPACK_IMPORTED_MODULE_3__/* .LevelType.Bronze */ .s9.Bronze;
    const { spaceLevelTag: { logo  } ,  } = pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_4__/* .SpaceLevelInfo */ .mS[level] || pc_components_space_manage_space_info_utils__WEBPACK_IMPORTED_MODULE_4__/* .SpaceLevelInfo.bronze */ .mS.bronze;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_organization_head__WEBPACK_IMPORTED_MODULE_2__/* .OrganizationHead */ .v, {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().spaceName),
                hideTooltip: true
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().logo),
                children: logo
            })
        ]
    });
};
const SpaceInfo = ()=>{
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__/* .ComponentDisplay */ .d, {
                minWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_8__/* .Popover */ .J2, {
                    trigger: "hover",
                    placement: "bottomLeft",
                    align: {
                        offset: [
                            10,
                            0
                        ]
                    },
                    content: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_space_info_popover__WEBPACK_IMPORTED_MODULE_6__/* .SpaceInfoPopover */ .c, {}),
                    overlayClassName: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().popover),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().left),
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Content, {})
                    })
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__/* .ComponentDisplay */ .d, {
                maxWidthCompatible: pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_1__/* .ScreenSize.md */ ._.md,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().left),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Content, {})
                })
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 73220:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "T": () => (/* binding */ WorkbenchSide)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(12746);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2302);
/* harmony import */ var pc_components_catalog_generate_template__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(61725);
/* harmony import */ var pc_components_catalog_import_file__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(77093);
/* harmony import */ var pc_components_catalog_move_to__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6492);
/* harmony import */ var pc_components_catalog_node_context_menu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(74162);
/* harmony import */ var pc_components_catalog_permission_settings_plus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(29388);
/* harmony import */ var pc_components_quick_search__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(18369);
/* harmony import */ var pc_components_catalog_share__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(70460);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(69294);
/* harmony import */ var pc_components_datasheet_search_panel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(92071);
/* harmony import */ var pc_components_form_panel_form_tab_tool_bar_share_modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(11951);
/* harmony import */ var pc_components_invite_invite_outsider__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(40754);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(72932);
/* harmony import */ var pc_events_notification_verification__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(41875);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(22829);
/* harmony import */ var pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(36367);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(70220);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var _catalog__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(37823);
/* harmony import */ var _favorite__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(85487);
/* harmony import */ var _space_info__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(90786);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(68625);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var _workbench_side_context__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(49312);
/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(35487);
/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(posthog_js_react__WEBPACK_IMPORTED_MODULE_30__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__, pc_components_catalog_generate_template__WEBPACK_IMPORTED_MODULE_6__, pc_components_catalog_import_file__WEBPACK_IMPORTED_MODULE_7__, pc_components_catalog_move_to__WEBPACK_IMPORTED_MODULE_8__, pc_components_catalog_node_context_menu__WEBPACK_IMPORTED_MODULE_9__, pc_components_catalog_permission_settings_plus__WEBPACK_IMPORTED_MODULE_10__, pc_components_quick_search__WEBPACK_IMPORTED_MODULE_11__, pc_components_catalog_share__WEBPACK_IMPORTED_MODULE_12__, pc_components_common__WEBPACK_IMPORTED_MODULE_13__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_14__, pc_components_common_tooltip__WEBPACK_IMPORTED_MODULE_15__, pc_components_datasheet_search_panel__WEBPACK_IMPORTED_MODULE_16__, pc_components_form_panel_form_tab_tool_bar_share_modal__WEBPACK_IMPORTED_MODULE_17__, pc_components_invite_invite_outsider__WEBPACK_IMPORTED_MODULE_18__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_19__, pc_events_notification_verification__WEBPACK_IMPORTED_MODULE_20__, pc_hooks__WEBPACK_IMPORTED_MODULE_21__, pc_utils__WEBPACK_IMPORTED_MODULE_23__, _catalog__WEBPACK_IMPORTED_MODULE_26__, _favorite__WEBPACK_IMPORTED_MODULE_27__, _space_info__WEBPACK_IMPORTED_MODULE_28__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__, pc_components_catalog_generate_template__WEBPACK_IMPORTED_MODULE_6__, pc_components_catalog_import_file__WEBPACK_IMPORTED_MODULE_7__, pc_components_catalog_move_to__WEBPACK_IMPORTED_MODULE_8__, pc_components_catalog_node_context_menu__WEBPACK_IMPORTED_MODULE_9__, pc_components_catalog_permission_settings_plus__WEBPACK_IMPORTED_MODULE_10__, pc_components_quick_search__WEBPACK_IMPORTED_MODULE_11__, pc_components_catalog_share__WEBPACK_IMPORTED_MODULE_12__, pc_components_common__WEBPACK_IMPORTED_MODULE_13__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_14__, pc_components_common_tooltip__WEBPACK_IMPORTED_MODULE_15__, pc_components_datasheet_search_panel__WEBPACK_IMPORTED_MODULE_16__, pc_components_form_panel_form_tab_tool_bar_share_modal__WEBPACK_IMPORTED_MODULE_17__, pc_components_invite_invite_outsider__WEBPACK_IMPORTED_MODULE_18__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_19__, pc_events_notification_verification__WEBPACK_IMPORTED_MODULE_20__, pc_hooks__WEBPACK_IMPORTED_MODULE_21__, pc_utils__WEBPACK_IMPORTED_MODULE_23__, _catalog__WEBPACK_IMPORTED_MODULE_26__, _favorite__WEBPACK_IMPORTED_MODULE_27__, _space_info__WEBPACK_IMPORTED_MODULE_28__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

































const { Panel  } = antd__WEBPACK_IMPORTED_MODULE_31__/* .Collapse */ .UO;
const WorkbenchSide = ()=>{
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const { 0: rightClickInfo , 1: setRightClickInfo  } = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)(null);
    const { contextMenu , onSetContextMenu , onCancelContextMenu  } = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useContextMenu)();
    const { 0: activeKey , 1: setActiveKey  } = (0,react__WEBPACK_IMPORTED_MODULE_24__.useState)([]);
    const { panelVisible , panelInfo , onChange , setPanelInfo , setPanelVisible  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useSearchPanel */ .J_)();
    const { spaceId , treeNodesMap , rootId , activeNodeId , permissionModalNodeId , shareModalNodeId , saveAsTemplateModalNodeId , importModalNodeId , loading , err , moveToNodeIds  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_25__.useSelector)((state)=>{
        return {
            spaceId: state.space.activeId,
            treeNodesMap: state.catalogTree.treeNodesMap,
            rootId: state.catalogTree.rootId,
            activeNodeId: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Selectors.getNodeId(state),
            permissionModalNodeId: state.catalogTree.permissionModalNodeId,
            shareModalNodeId: state.catalogTree.shareModalNodeId,
            saveAsTemplateModalNodeId: state.catalogTree.saveAsTemplateModalNodeId,
            importModalNodeId: state.catalogTree.importModalNodeId,
            loading: state.catalogTree.loading,
            err: state.catalogTree.err,
            moveToNodeIds: state.catalogTree.moveToNodeIds
        };
    }, _apitable_core__WEBPACK_IMPORTED_MODULE_2__.shallowEqual);
    const isFormShare = /fom\w+/.test(shareModalNodeId);
    const activedNodeId = (0,react_redux__WEBPACK_IMPORTED_MODULE_25__.useSelector)((state)=>_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Selectors.getNodeId(state));
    const { getTreeDataReq  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useCatalogTreeRequest */ .mF)();
    const { run: getTreeData  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useRequest */ .QT)(getTreeDataReq, {
        manual: true
    });
    const { getPositionNodeReq  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useCatalogTreeRequest */ .mF)();
    const { run: getPositionNode  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useRequest */ .QT)(getPositionNodeReq, {
        manual: true
    });
    const { getInviteStatus  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useUserRequest */ .CL)();
    const { data: inviteStatus  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useRequest */ .QT)(getInviteStatus);
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_21__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_14__/* .ScreenSize.md */ ._.md);
    const dispatch = (0,pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_22__/* .useAppDispatch */ .T)();
    const posthog = (0,posthog_js_react__WEBPACK_IMPORTED_MODULE_30__.usePostHog)();
    const userInfo = (0,react_redux__WEBPACK_IMPORTED_MODULE_25__.useSelector)((state)=>state.user.info);
    const spaceFeatures = (0,react_redux__WEBPACK_IMPORTED_MODULE_25__.useSelector)((state)=>state.space.spaceFeatures);
    const spacePermissions = (0,react_redux__WEBPACK_IMPORTED_MODULE_25__.useSelector)((state)=>state.spacePermissionManage.spaceResource?.permissions);
    const isSpaceAdmin = spacePermissions && spacePermissions.includes("MANAGE_WORKBENCH");
    const rootManageable = userInfo?.isMainAdmin || isSpaceAdmin || spaceFeatures?.rootManageable;
    (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(()=>{
        const eventBundle = new Map([
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__.ShortcutActionName.Permission,
                ()=>{
                    activeNodeId && treeNodesMap[activeNodeId] && dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updatePermissionModalNodeId(activeNodeId));
                }, 
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__.ShortcutActionName.Share,
                ()=>{
                    activeNodeId && treeNodesMap[activeNodeId] && dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateShareModalNodeId(activeNodeId));
                }, 
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__.ShortcutActionName.SaveAsTemplate,
                ()=>{
                    dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateSaveAsTemplateModalNodeId(activeNodeId || ""));
                }, 
            ], 
        ]);
        eventBundle.forEach((cb, key)=>{
            modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__.ShortcutActionManager.bind(key, cb);
        });
        return ()=>{
            eventBundle.forEach((_cb, key)=>{
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_5__.ShortcutActionManager.unbind(key);
            });
        };
    });
    (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(()=>{
        const handleClose = ()=>{
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.setErr(""));
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.initCatalogTree());
            getTreeData();
        };
        if (err) {
            pc_components_common__WEBPACK_IMPORTED_MODULE_13__/* .Modal.error */ .u_.error({
                title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.kindly_reminder),
                content: err,
                okText: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.refresh_manually),
                onCancel: handleClose,
                onOk: handleClose
            });
        }
    // eslint-disable-next-line
    }, [
        err,
        dispatch
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(()=>{
        if (!activeNodeId || !rootId) {
            return;
        }
        const activeNode = treeNodesMap[activeNodeId];
        if (activeNode && treeNodesMap[activeNode.parentId]) {
            const parentNodeId = activeNode.parentId;
            if (treeNodesMap[parentNodeId]?.children.length) {
                dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.collectionNodeAndExpand(activeNodeId));
                return;
            }
        }
        getPositionNode(activeNodeId);
    // eslint-disable-next-line
    }, [
        activeNodeId,
        rootId
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(()=>{
        const defaultActiveKeyString = localStorage.getItem("vika_workbench_active_key");
        const defaultActiveKey = defaultActiveKeyString ? JSON.parse(defaultActiveKeyString) : [
            _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.CATALOG
        ];
        setActiveKey(defaultActiveKey);
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_24__.useEffect)(()=>{
        if (activedNodeId && !treeNodesMap[activedNodeId] && !loading) {
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.getNodeInfo(activedNodeId));
        }
    // eslint-disable-next-line
    }, [
        loading,
        activeNodeId
    ]);
    const changeHandler = (key)=>{
        setActiveKey(key);
        localStorage.setItem("vika_workbench_active_key", JSON.stringify(key));
    };
    const jumpTrash = ()=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_19__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TRASH, {
            params: {
                spaceId
            }
        });
    };
    const jumpSpaceTemplate = ()=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_19__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TEMPLATE, {
            params: {
                spaceId,
                categoryId: "tpcprivate"
            }
        });
    };
    const openDefaultMenu = (e)=>{
        e.stopPropagation();
        setRightClickInfo({
            id: rootId,
            module: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.CATALOG,
            contextMenuType: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.ContextMenuType.DEFAULT,
            level: "0"
        });
        onSetContextMenu(e);
    };
    const openDatasheetPanel = (visible, info)=>{
        setPanelVisible(visible);
        setPanelInfo(info);
    };
    const openCatalog = ()=>{
        if (!activeKey.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.CATALOG)) {
            changeHandler([
                ...activeKey,
                _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.CATALOG
            ]);
        }
    };
    const openFavorite = ()=>{
        if (!activeKey.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE)) {
            changeHandler([
                ...activeKey,
                _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE
            ]);
        }
    };
    const providerValue = (0,react__WEBPACK_IMPORTED_MODULE_24__.useMemo)(()=>({
            rightClickInfo,
            setRightClickInfo,
            openFavorite,
            onSetContextMenu
        }), [
        rightClickInfo,
        setRightClickInfo,
        onSetContextMenu,
        activeKey,
        setActiveKey
    ]);
    const permissionCommitRemindStatus = (0,react_redux__WEBPACK_IMPORTED_MODULE_25__.useSelector)((state)=>state.catalogTree.permissionCommitRemindStatus);
    function onClosePermissionSettingModal() {
        dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updatePermissionModalNodeId(""));
        if (permissionCommitRemindStatus) {
            (0,pc_events_notification_verification__WEBPACK_IMPORTED_MODULE_20__/* .sendRemind */ .HC)();
            dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.setPermissionCommitRemindStatus(false));
        }
    }
    const PermissionSettingsMain = pc_components_catalog_permission_settings_plus__WEBPACK_IMPORTED_MODULE_10__/* .PermissionSettingsPlus */ .N;
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_workbench_side_context__WEBPACK_IMPORTED_MODULE_29__/* .WorkbenchSideContext.Provider */ .V.Provider, {
        value: providerValue,
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().workbenchSide),
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().header),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_space_info__WEBPACK_IMPORTED_MODULE_28__/* .SpaceInfo */ .A, {}),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().search),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.IconButton, {
                                shape: "square",
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().searchBtn),
                                icon: _apitable_icons__WEBPACK_IMPORTED_MODULE_3__.SearchOutlined,
                                onClick: (e)=>{
                                    (0,pc_utils__WEBPACK_IMPORTED_MODULE_23__/* .stopPropagation */ .UW)(e);
                                    (0,pc_components_quick_search__WEBPACK_IMPORTED_MODULE_11__/* .expandSearch */ .i)();
                                }
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().groups),
                    style: {
                        paddingRight: isMobile ? "12px" : "0"
                    },
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().mainContainer),
                        id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.WORKBENCH_SIDE_ID.NODE_WRAPPER,
                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_31__/* .Collapse */ .UO, {
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().collapse),
                            onChange: changeHandler,
                            activeKey: activeKey,
                            ghost: true,
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Panel, {
                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().favorite),
                                    header: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().groupName),
                                        children: [
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.StarFilled, {
                                                color: colors.warningColor
                                            }),
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().text),
                                                variant: "h9",
                                                color: colors.secondLevelText,
                                                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.favorite)
                                            }),
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ChevronUpOutlined, {
                                                className: classnames__WEBPACK_IMPORTED_MODULE_4___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().arrow), {
                                                    [(_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().active)]: activeKey.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE)
                                                })
                                            })
                                        ]
                                    }),
                                    showArrow: false,
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().scrollContainer),
                                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_favorite__WEBPACK_IMPORTED_MODULE_27__/* .Favorite */ .r, {})
                                    })
                                }, _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.FAVORITE),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Panel, {
                                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().catalog),
                                    header: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().groupName),
                                        children: [
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.FolderNormalFilled, {
                                                color: colors.primaryColor
                                            }),
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().text),
                                                variant: "h9",
                                                color: colors.secondLevelText,
                                                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.catalog)
                                            }),
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ChevronUpOutlined, {
                                                className: classnames__WEBPACK_IMPORTED_MODULE_4___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().arrow), {
                                                    [(_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().active)]: activeKey.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.CATALOG)
                                                })
                                            })
                                        ]
                                    }),
                                    extra: rootManageable ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.IconButton, {
                                        style: {
                                            margin: "4px 10px 0 0"
                                        },
                                        onClick: openDefaultMenu,
                                        icon: _apitable_icons__WEBPACK_IMPORTED_MODULE_3__.AddOutlined,
                                        id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.WORKBENCH_SIDE_ID.ADD_NODE_BTN
                                    }) : null,
                                    showArrow: false,
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().scrollContainer),
                                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_catalog__WEBPACK_IMPORTED_MODULE_26__/* .Catalog */ .g, {})
                                    })
                                }, _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.Modules.CATALOG)
                            ]
                        })
                    })
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().fixedGroup),
                    children: [
                        !isMobile && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_tooltip__WEBPACK_IMPORTED_MODULE_15__/* .Tooltip */ .u, {
                            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.trash),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().groupItem),
                                onClick: jumpTrash,
                                id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.WORKBENCH_SIDE_ID.RECYCLE_BIN,
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.DeleteFilled, {
                                    color: colors.rc04
                                })
                            })
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_tooltip__WEBPACK_IMPORTED_MODULE_15__/* .Tooltip */ .u, {
                            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.workbench_side_space_template),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().groupItem),
                                onClick: jumpSpaceTemplate,
                                id: _apitable_core__WEBPACK_IMPORTED_MODULE_2__.WORKBENCH_SIDE_ID.TO_SPACE_TEMPLATE,
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.PlanetOutlined, {
                                    color: colors.rc02
                                })
                            })
                        }),
                        inviteStatus && !(0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.isIdassPrivateDeployment)() && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_tooltip__WEBPACK_IMPORTED_MODULE_15__/* .Tooltip */ .u, {
                            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.invite_friends),
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_32___default().groupItem),
                                onClick: ()=>{
                                    posthog?.capture(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.TrackEvents.InviteByWorkbench);
                                    (0,pc_components_invite_invite_outsider__WEBPACK_IMPORTED_MODULE_18__/* .expandInviteModal */ .Wu)();
                                },
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.UserAddOutlined, {
                                    color: colors.primaryColor
                                })
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_node_context_menu__WEBPACK_IMPORTED_MODULE_9__/* .NodeContextMenu */ .T3, {
                    openDatasheetPanel: openDatasheetPanel,
                    onHidden: ()=>{
                        setRightClickInfo(null);
                        onCancelContextMenu();
                    },
                    contextMenu: contextMenu,
                    openCatalog: openCatalog
                }),
                saveAsTemplateModalNodeId && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_generate_template__WEBPACK_IMPORTED_MODULE_6__/* .GenerateTemplate */ .M, {
                    nodeId: saveAsTemplateModalNodeId,
                    onCancel: ()=>dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateSaveAsTemplateModalNodeId(""))
                }),
                importModalNodeId && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_import_file__WEBPACK_IMPORTED_MODULE_7__/* .ImportFile */ .K, {
                    parentId: importModalNodeId,
                    onCancel: ()=>dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateImportModalNodeId(""))
                }),
                panelVisible && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_datasheet_search_panel__WEBPACK_IMPORTED_MODULE_16__/* .SearchPanel */ .E, {
                    folderId: panelInfo.folderId,
                    subColumnType: pc_components_datasheet_search_panel__WEBPACK_IMPORTED_MODULE_16__/* .SubColumnType.View */ .Z.View,
                    activeDatasheetId: panelInfo?.datasheetId || "",
                    setSearchPanelVisible: setPanelVisible,
                    onChange: onChange
                }),
                isFormShare && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_form_panel_form_tab_tool_bar_share_modal__WEBPACK_IMPORTED_MODULE_17__/* .ShareModal */ .V, {
                    formId: shareModalNodeId,
                    visible: Boolean(shareModalNodeId),
                    onClose: ()=>dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateShareModalNodeId(""))
                }),
                !isFormShare && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_share__WEBPACK_IMPORTED_MODULE_12__/* .Share */ .m, {
                    nodeId: shareModalNodeId,
                    onClose: ()=>dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateShareModalNodeId(""))
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(PermissionSettingsMain, {
                    data: {
                        nodeId: permissionModalNodeId,
                        type: treeNodesMap[permissionModalNodeId]?.type,
                        icon: treeNodesMap[permissionModalNodeId]?.icon,
                        name: treeNodesMap[permissionModalNodeId]?.nodeName
                    },
                    visible: Boolean(permissionModalNodeId),
                    onClose: onClosePermissionSettingModal
                }),
                moveToNodeIds && moveToNodeIds.length > 0 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_catalog_move_to__WEBPACK_IMPORTED_MODULE_8__/* .MoveTo */ .$, {
                    nodeIds: moveToNodeIds,
                    onClose: ()=>dispatch(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.StoreActions.updateMoveToNodeIds([]))
                })
            ]
        })
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 93589:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "v": () => (/* reexport safe */ _organization_head__WEBPACK_IMPORTED_MODULE_0__.v)
/* harmony export */ });
/* harmony import */ var _organization_head__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56787);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_organization_head__WEBPACK_IMPORTED_MODULE_0__]);
_organization_head__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 56787:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "v": () => (/* binding */ OrganizationHead)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11338);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _common_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69294);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_tooltip__WEBPACK_IMPORTED_MODULE_2__]);
_common_tooltip__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 





const OrganizationHead = ({ className , hideTooltip =false  })=>{
    const spaceName = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state)=>state.user.info?.spaceName);
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_4___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().organization), className),
        children: hideTooltip ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().orgName),
            children: spaceName
        }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_common_tooltip__WEBPACK_IMPORTED_MODULE_2__/* .Tooltip */ .u, {
            title: spaceName,
            textEllipsis: true,
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().orgName),
                children: spaceName
            })
        })
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 63726:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* binding */ DefaultContent)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(90540);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_3__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__]);
_apitable_components__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];





const DefaultContent = ()=>{
    const theme = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.theme);
    const defaultImg = theme === _apitable_components__WEBPACK_IMPORTED_MODULE_1__.ThemeName.Light ? _apitable_core__WEBPACK_IMPORTED_MODULE_3__.Settings.quick_search_default_light.value : _apitable_core__WEBPACK_IMPORTED_MODULE_3__.Settings.quick_search_default_dark.value;
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_4___default().defaultContent),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Box, {
                padding: "12px 19px 9px",
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("img", {
                    src: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.integrateCdnHost)(defaultImg),
                    alt: "search"
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                style: {
                    paddingBottom: 8
                },
                align: "center",
                variant: "h7",
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.quick_search_title)
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                variant: "body3",
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_3__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_3__.Strings.quick_search_intro)
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 66877:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "e": () => (/* binding */ FooterTips)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var modules_shared_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(88627);
/* harmony import */ var modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2302);
/* harmony import */ var modules_shared_shortcut_key_keybinding_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(38466);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(90540);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_8__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);









const FooterTips = (props)=>{
    const { shortcutEsc  } = props;
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const getFont = (str)=>{
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
            variant: "body4",
            color: colors.textCommonTertiary,
            children: str
        });
    };
    if (shortcutEsc) {
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
            className: classnames__WEBPACK_IMPORTED_MODULE_4___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerTips), (_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerTipsEsc)),
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Space, {
                size: 8,
                children: (0,modules_shared_shortcut_key_keybinding_config__WEBPACK_IMPORTED_MODULE_7__/* .getShortcutKeyString */ .kS)(modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionName.SearchNode).split(modules_shared_browser__WEBPACK_IMPORTED_MODULE_5__/* .browser */ .X?.is("Windows") ? " + " : " ").map((v, key)=>{
                    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerIconBox),
                        children: getFont(v)
                    }, key);
                })
            })
        });
    }
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerTips),
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Space, {
                size: 16,
                children: [
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Space, {
                        size: 8,
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerIconBox),
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.UpAndDownOutlined, {
                                    size: 12,
                                    color: colors.textCommonTertiary
                                })
                            }),
                            getFont((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_shortcut_select))
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Space, {
                        size: 8,
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerIconBox),
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.EnterOutlined, {
                                    size: 12,
                                    color: colors.textCommonTertiary
                                })
                            }),
                            getFont((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_shortcut_open))
                        ]
                    }),
                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Space, {
                        size: 8,
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_8___default().footerIconBox),
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.EscOutlined, {
                                    size: 12,
                                    color: colors.textCommonTertiary
                                })
                            }),
                            getFont((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_shortcut_esc))
                        ]
                    })
                ]
            }),
            getFont((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_shortcut_tab))
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 18369:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "i": () => (/* reexport safe */ _quick_search__WEBPACK_IMPORTED_MODULE_0__.i)
/* harmony export */ });
/* harmony import */ var _quick_search__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20461);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_quick_search__WEBPACK_IMPORTED_MODULE_0__]);
_quick_search__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 38163:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ ModalWrapper)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11156);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(90540);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(64754);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22829);
/* harmony import */ var _common_component_display__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(75914);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_1__, _apitable_components__WEBPACK_IMPORTED_MODULE_2__, pc_hooks__WEBPACK_IMPORTED_MODULE_5__, _common_component_display__WEBPACK_IMPORTED_MODULE_6__]);
([pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_1__, _apitable_components__WEBPACK_IMPORTED_MODULE_2__, pc_hooks__WEBPACK_IMPORTED_MODULE_5__, _common_component_display__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);








const Title = ()=>{
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_2__.useThemeColors)();
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().modalHeader),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.SearchOutlined, {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().titleSearchIcon),
                color: colors.textCommonPrimary
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_2__.Typography, {
                variant: "h6",
                color: colors.textCommonPrimary,
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_4__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Strings.quick_search_title)
            })
        ]
    });
};
const ModalWrapper = (props)=>{
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_5__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(_common_component_display__WEBPACK_IMPORTED_MODULE_6__/* .ScreenSize.md */ ._.md);
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_1__.Modal, {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_7___default().modalWrapper),
        open: true,
        onCancel: props.onCancel,
        closeIcon: null,
        destroyOnClose: true,
        width: isMobile ? "90%" : "60%",
        footer: null,
        centered: true,
        zIndex: 1000,
        title: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Title, {}),
        children: props.children
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 99564:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* reexport safe */ _node__WEBPACK_IMPORTED_MODULE_0__.N)
/* harmony export */ });
/* harmony import */ var _node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17638);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_node__WEBPACK_IMPORTED_MODULE_0__]);
_node__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 17638:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* binding */ Node)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(45660);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(23403);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__]);
_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 





const Node = (props)=>{
    const { node , onMouseDown  } = props;
    const spaceName = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.user.info?.spaceName);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().nodeContainer), props.className),
        "data-node-id": node.nodeId,
        "data-node-type": node.type,
        onMouseUp: onMouseDown,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().node),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().icon),
                        children: (0,_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__/* .getNodeIcon */ .n)(node.icon, node.type, {
                            emojiSize: 16
                        })
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().nodeName),
                        dangerouslySetInnerHTML: {
                            __html: node.nodeName
                        }
                    })
                ]
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_5___default().superiorPath),
                children: node.superiorPath || spaceName
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 20461:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "i": () => (/* binding */ expandSearch)
/* harmony export */ });
/* unused harmony export clearExpandModal */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7849);
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom_client__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58097);
/* harmony import */ var _sentry_nextjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(64754);
/* harmony import */ var pc_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99000);
/* harmony import */ var _search_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(71496);
/* harmony import */ var _modal_wrapper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(38163);
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(76028);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_5__, _search_base__WEBPACK_IMPORTED_MODULE_7__, _modal_wrapper__WEBPACK_IMPORTED_MODULE_8__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_5__, _search_base__WEBPACK_IMPORTED_MODULE_7__, _modal_wrapper__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 









function clearExpandModal() {
    const container = document.querySelectorAll(`.${_const__WEBPACK_IMPORTED_MODULE_9__/* .EXPAND_SEARCH */ .R}`);
    if (container.length) {
        container.forEach((item)=>{
            (0,react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot)(item).unmount();
            item.parentElement.removeChild(item);
        });
    }
}
const WrapperWithTheme = (props)=>{
    const cacheTheme = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Selectors.getTheme);
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_5__.ThemeProvider, {
        theme: cacheTheme,
        children: props.children
    });
};
const expandSearch = ()=>{
    let container = document.querySelector(`.${_const__WEBPACK_IMPORTED_MODULE_9__/* .EXPAND_SEARCH */ .R}`);
    if (container) {
        // createRoot should only create one time;
        return;
    }
    container = document.createElement("div");
    container.classList.add(_const__WEBPACK_IMPORTED_MODULE_9__/* .EXPAND_SEARCH */ .R);
    document.body.appendChild(container);
    const root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot)(container);
    const onCancel = ()=>{
        root.unmount();
        clearExpandModal();
    };
    root.render(/*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_redux__WEBPACK_IMPORTED_MODULE_3__.Provider, {
        store: pc_store__WEBPACK_IMPORTED_MODULE_6__/* .store */ .h,
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(WrapperWithTheme, {
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_modal_wrapper__WEBPACK_IMPORTED_MODULE_8__/* .ModalWrapper */ .A, {
                onCancel: onCancel,
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__.ErrorBoundary, {
                    onError: ()=>{
                        clearExpandModal();
                        setTimeout(()=>_apitable_core__WEBPACK_IMPORTED_MODULE_4__.Api.keepTabbar({}), 500);
                    },
                    beforeCapture: (scope)=>{
                        scope.setTag("catcher", "expandSearchCrash");
                    },
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_search_base__WEBPACK_IMPORTED_MODULE_7__/* .SearchBase */ .N, {
                        closeSearch: onCancel
                    })
                })
            })
        })
    }));
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 71496:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* binding */ SearchBase)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(12746);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1381);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(96577);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2302);
/* harmony import */ var modules_shared_shortcut_key_keybinding_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(38466);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(75914);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(22829);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(70220);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var static_icon_datasheet_empty_state_dark_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(84577);
/* harmony import */ var static_icon_datasheet_empty_state_light_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(17763);
/* harmony import */ var _node__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(99564);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(90540);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _type_tab__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(97378);
/* harmony import */ var _default_content__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(63726);
/* harmony import */ var _footer_tips__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(66877);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_9__, pc_hooks__WEBPACK_IMPORTED_MODULE_10__, pc_utils__WEBPACK_IMPORTED_MODULE_11__, _node__WEBPACK_IMPORTED_MODULE_16__, _default_content__WEBPACK_IMPORTED_MODULE_18__, _footer_tips__WEBPACK_IMPORTED_MODULE_19__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_9__, pc_hooks__WEBPACK_IMPORTED_MODULE_10__, pc_utils__WEBPACK_IMPORTED_MODULE_11__, _node__WEBPACK_IMPORTED_MODULE_16__, _default_content__WEBPACK_IMPORTED_MODULE_18__, _footer_tips__WEBPACK_IMPORTED_MODULE_19__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);























let reqToken;
const shouldOpenInNewTab = (e)=>{
    // Press and hold meta or click with the middle mouse button to open the table in a new tab.
    return Boolean(e.metaKey || e.button && e.button === 1);
};
const SearchBase = ({ className , closeSearch  })=>{
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const { 0: keyword , 1: setKeyword  } = (0,react__WEBPACK_IMPORTED_MODULE_12__.useState)("");
    const { 0: dataNodeList , 1: setDataNodeList  } = (0,react__WEBPACK_IMPORTED_MODULE_12__.useState)([]);
    const { 0: tabType , 1: setTabType  } = (0,react__WEBPACK_IMPORTED_MODULE_12__.useState)(_type_tab__WEBPACK_IMPORTED_MODULE_17__/* .TabNodeType.ALL_TYPE */ .f6.ALL_TYPE);
    const { 0: currentIndex , 1: setCurrentIndex  } = (0,react__WEBPACK_IMPORTED_MODULE_12__.useState)(-1);
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null);
    const listContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null);
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>state.space.activeId);
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_10__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_8__/* .ScreenSize.md */ ._.md);
    const ref = (0,react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null);
    const nodeList = tabType === _type_tab__WEBPACK_IMPORTED_MODULE_17__/* .TabNodeType.ALL_TYPE */ .f6.ALL_TYPE ? dataNodeList : dataNodeList.filter((v)=>v.type === tabType);
    const totalSearchResultItemsCount = nodeList.length;
    (0,react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(()=>{
        const eventBundle = new Map([
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionName.QuickSearchEnter,
                ()=>{
                    jumpNode(nodeList[currentIndex].nodeId);
                }
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionName.QuickSearchUp,
                ()=>{
                    setCurrentIndex((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.getArrayLoopIndex)(totalSearchResultItemsCount, currentIndex, -1));
                    focusIntoView("up");
                }
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionName.QuickSearchDown,
                ()=>{
                    setCurrentIndex((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.getArrayLoopIndex)(totalSearchResultItemsCount, currentIndex, +1));
                    focusIntoView("down");
                }
            ],
            [
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionName.QuickSearchTab,
                ()=>{
                    const tabTypeIndex = _type_tab__WEBPACK_IMPORTED_MODULE_17__/* .nodeTypeList.findIndex */ .a.findIndex((v)=>v.type === tabType);
                    const nextTabType = tabTypeIndex < _type_tab__WEBPACK_IMPORTED_MODULE_17__/* .nodeTypeList.length */ .a.length - 1 ? _type_tab__WEBPACK_IMPORTED_MODULE_17__/* .nodeTypeList */ .a[tabTypeIndex + 1].type : _type_tab__WEBPACK_IMPORTED_MODULE_17__/* .TabNodeType.ALL_TYPE */ .f6.ALL_TYPE;
                    setTabType(nextTabType);
                }
            ], 
        ]);
        eventBundle.forEach((cb, key)=>{
            modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionManager.bind(key, cb);
        });
        return ()=>{
            eventBundle.forEach((_cb, key)=>{
                modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionManager.unbind(key);
            });
        };
    });
    (0,react__WEBPACK_IMPORTED_MODULE_12__.useEffect)(()=>{
        inputRef.current?.focus();
    }, []);
    const themeName = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__.useSelector)((state)=>state.theme);
    const EmptyResultIcon = themeName === _apitable_components__WEBPACK_IMPORTED_MODULE_1__.ThemeName.Light ? static_icon_datasheet_empty_state_light_png__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .Z : static_icon_datasheet_empty_state_dark_png__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z;
    const focusIntoView = lodash_throttle__WEBPACK_IMPORTED_MODULE_4___default()((direction)=>{
        setTimeout(()=>{
            // Follow the active item scrolled to the list
            if (listContainerRef?.current) {
                const viewPortHeight = listContainerRef.current.clientHeight;
                const activeElem = listContainerRef.current.querySelector(".active");
                const activeElemHeight = activeElem.clientHeight;
                const top = activeElem.offsetTop - listContainerRef.current.scrollTop;
                const inViewPort = top > activeElemHeight && top + activeElemHeight < viewPortHeight;
                !inViewPort && activeElem && activeElem.scrollIntoView(direction === "up");
            }
        }, 16);
    }, 16);
    const handleSubmit = ()=>{
        getNodeList(keyword);
    };
    const getNodeList = lodash_throttle__WEBPACK_IMPORTED_MODULE_4___default()((val)=>{
        if (reqToken) {
            reqToken();
        }
        _apitable_core__WEBPACK_IMPORTED_MODULE_2__.Api.findNode(val, (c)=>reqToken = c).then((res)=>{
            const { data , success  } = res.data;
            if (success) {
                setDataNodeList(data);
            }
        }).catch(()=>{
            console.log("Capture cancellation requests");
        });
    }, 500);
    const handleChange = (e)=>{
        const val = e.target.value;
        setKeyword(val);
        if (!val) {
            reqToken();
            setDataNodeList([]);
            setCurrentIndex(-1);
            return;
        }
        getNodeList(val);
        setTabType(_type_tab__WEBPACK_IMPORTED_MODULE_17__/* .TabNodeType.ALL_TYPE */ .f6.ALL_TYPE);
    };
    const clearKeyword = (e)=>{
        e.stopPropagation();
        e.nativeEvent.stopImmediatePropagation();
        setKeyword("");
        setCurrentIndex(-1);
    };
    const handleKeyDown = (e)=>{
        if (e.keyCode === pc_utils__WEBPACK_IMPORTED_MODULE_11__/* .KeyCode.Esc */ .VD.Esc) {
            setKeyword("");
        }
    };
    const handleNodeClick = (e)=>{
        const nodeId = (0,pc_utils__WEBPACK_IMPORTED_MODULE_11__/* .getElementDataset */ .aY)(e.currentTarget, "nodeId");
        jumpNode(nodeId, shouldOpenInNewTab(e));
    };
    const jumpNode = (nodeId, openInNewTab)=>{
        if (!nodeId) {
            return;
        }
        const params = {
            spaceId,
            nodeId
        };
        openInNewTab ? pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_9__/* .Router.newTab */ .F.newTab(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.WORKBENCH, {
            params
        }) : pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_9__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.WORKBENCH, {
            params
        });
        setKeyword("");
        closeSearch();
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().searchWrapper), className),
        ref: ref,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().searchContent),
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_21__/* .Form */ .l0, {
                        onFinish: handleSubmit,
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().search),
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.TextInput, {
                            ref: inputRef,
                            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().searchInput),
                            size: "small",
                            placeholder: isMobile ? (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_placeholder) : (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.search_node_pleaseholder, {
                                shortcutKey: (0,modules_shared_shortcut_key_keybinding_config__WEBPACK_IMPORTED_MODULE_7__/* .getShortcutKeyString */ .kS)(modules_shared_shortcut_key__WEBPACK_IMPORTED_MODULE_6__.ShortcutActionName.SearchNode)
                            }),
                            autoFocus: true,
                            lineStyle: true,
                            value: keyword,
                            onChange: handleChange,
                            onKeyDown: handleKeyDown,
                            suffix: keyword && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                onClick: clearKeyword,
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().closeBtn),
                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                                    variant: "body4",
                                    color: colors.textBrandDefault,
                                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.clear)
                                })
                            })
                        })
                    }),
                    keyword && dataNodeList.length > 0 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_type_tab__WEBPACK_IMPORTED_MODULE_17__/* .TypeTab */ .B7, {
                        nodeType: tabType,
                        onChange: setTabType
                    }),
                    !keyword && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_default_content__WEBPACK_IMPORTED_MODULE_18__/* .DefaultContent */ .N, {}),
                    !totalSearchResultItemsCount && keyword && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().emptyResult),
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_image__WEBPACK_IMPORTED_MODULE_5___default()), {
                                src: EmptyResultIcon,
                                alt: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_not_found)
                            }),
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().tip),
                                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.quick_search_not_found)
                            })
                        ]
                    }),
                    keyword && totalSearchResultItemsCount > 0 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().nodeList),
                        onClick: handleNodeClick,
                        style: {
                            background: "transparent"
                        },
                        ref: listContainerRef,
                        children: nodeList.map((node)=>{
                            const nodeClasses = nodeList[currentIndex]?.nodeId === node.nodeId ? `${(_style_module_less__WEBPACK_IMPORTED_MODULE_20___default().hover)} active` : "";
                            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_node__WEBPACK_IMPORTED_MODULE_16__/* .Node */ .N, {
                                node: node,
                                onMouseDown: handleNodeClick,
                                className: nodeClasses
                            }, node.nodeId);
                        })
                    })
                ]
            }),
            !isMobile && !(keyword && dataNodeList.length < 1) && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_footer_tips__WEBPACK_IMPORTED_MODULE_19__/* .FooterTips */ .e, {
                shortcutEsc: !keyword
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 97378:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "B7": () => (/* binding */ TypeTab),
/* harmony export */   "a": () => (/* binding */ nodeTypeList),
/* harmony export */   "f6": () => (/* binding */ TabNodeType)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(90540);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_3__);




var TabNodeType;
(function(TabNodeType) {
    TabNodeType[TabNodeType["ALL_TYPE"] = -1] = "ALL_TYPE";
    TabNodeType[TabNodeType["DASHBOARD"] = _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.DASHBOARD] = "DASHBOARD";
    TabNodeType[TabNodeType["DATASHEET"] = _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.DATASHEET] = "DATASHEET";
    TabNodeType[TabNodeType["FOLDER"] = _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.FOLDER] = "FOLDER";
    TabNodeType[TabNodeType["FORM"] = _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.FORM] = "FORM";
    TabNodeType[TabNodeType["MIRROR"] = _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.MIRROR] = "MIRROR";
})(TabNodeType || (TabNodeType = {}));
const nodeTypeList = [
    {
        name: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.all),
        type: TabNodeType.ALL_TYPE
    },
    {
        name: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.datasheet),
        type: _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.DATASHEET
    },
    {
        name: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.folder),
        type: _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.FOLDER
    },
    {
        name: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.view_form),
        type: _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.FORM
    },
    {
        name: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.mirror),
        type: _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.MIRROR
    },
    {
        name: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_1__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_1__.Strings.dashboard),
        type: _apitable_core__WEBPACK_IMPORTED_MODULE_1__.ConfigConstant.NodeType.DASHBOARD
    }, 
];
const TypeTab = (props)=>{
    const { nodeType =TabNodeType.ALL_TYPE  } = props;
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_3___default().tabWrapper),
        children: nodeTypeList.map(({ name , type  })=>{
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_3___default().typeTabItem), {
                    [(_style_module_less__WEBPACK_IMPORTED_MODULE_3___default().typeTabItemActive)]: nodeType === type
                }),
                onClick: ()=>{
                    props.onChange?.(type);
                },
                children: name
            }, type);
        })
    });
};


/***/ }),

/***/ 4262:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "i": () => (/* reexport */ Identity)
});

// EXTERNAL MODULE: external "react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(20997);
// EXTERNAL MODULE: external "react"
var external_react_ = __webpack_require__(16689);
// EXTERNAL MODULE: ../core/dist/index.js
var dist = __webpack_require__(23440);
// EXTERNAL MODULE: external "classnames"
var external_classnames_ = __webpack_require__(59003);
var external_classnames_default = /*#__PURE__*/__webpack_require__.n(external_classnames_);
// EXTERNAL MODULE: ./src/pc/components/space_manage/identity/style.module.less
var style_module = __webpack_require__(20106);
var style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);
;// CONCATENATED MODULE: ./src/pc/components/space_manage/identity/identity.tsx
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 




const Identity = ({ type , className , style  })=>{
    const classes = external_classnames_default()((style_module_default()).memberTag, {
        [(style_module_default()).primaryTag]: type === "mainAdmin",
        [(style_module_default()).subTag]: type === "subAdmin",
        [(style_module_default()).inactiveTag]: type === "inactive"
    }, className);
    const getName = ()=>{
        switch(type){
            case "mainAdmin":
                return (0,dist.t)(dist.Strings.primary_admin);
            case "subAdmin":
                return (0,dist.t)(dist.Strings.admin);
            case "inactive":
                return (0,dist.t)(dist.Strings.added_not_yet);
            default:
                return "";
        }
    };
    return /*#__PURE__*/ jsx_runtime_.jsx("span", {
        className: classes,
        style: style,
        children: getName()
    });
};

;// CONCATENATED MODULE: ./src/pc/components/space_manage/identity/index.ts
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 


/***/ }),

/***/ 98636:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54106);
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(85421);
/* harmony import */ var static_icon_space_space_icon_certified_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64810);
/* harmony import */ var _corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12318);
/* harmony import */ var _corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(39762);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 








const CorpCertifiedTag = ({ certified , isSocialEnabled , spaceId  })=>{
    if (isSocialEnabled) {
        return null;
    }
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: certified ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(CertifiedTag, {}) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(UncertifiedTag, {
            spaceId: spaceId
        })
    });
};
const CertifiedTag = ()=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", {
        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()((_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().tag), (_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().tagCorpCertified)),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                className: (_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().icon),
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(static_icon_space_space_icon_certified_svg__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z, {
                    fill: _apitable_components__WEBPACK_IMPORTED_MODULE_1__.colorVars.fc0
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                className: (_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().text),
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_corp_certified)
            })
        ]
    });
const UncertifiedTag = ({ spaceId  })=>{
    const formUrl = (0,_helper__WEBPACK_IMPORTED_MODULE_7__/* .buildSpaceCertSheetUrl */ .s)(spaceId);
    if ((0,pc_utils_env__WEBPACK_IMPORTED_MODULE_5__/* .isMobileApp */ .k)() || !(0,pc_utils_env__WEBPACK_IMPORTED_MODULE_5__/* .getEnvVariables */ .Sy)().SPACE_ENTERPRISE_CERTIFICATION_FORM_URL) {
        return null;
    }
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_4__/* .Tooltip */ .u, {
        title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_corp_uncertified_tooltip),
        placement: "top",
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("a", {
            className: classnames__WEBPACK_IMPORTED_MODULE_3___default()((_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().tag), (_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().tagCorpUncertified)),
            href: formUrl,
            target: "_blank",
            rel: "noopener noreferrer",
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                    className: (_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().icon),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(static_icon_space_space_icon_certified_svg__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z, {
                        fill: _apitable_components__WEBPACK_IMPORTED_MODULE_1__.colorVars.fc3
                    })
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                    className: (_corp_certified_tag_module_less__WEBPACK_IMPORTED_MODULE_8___default().text),
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_corp_uncertified)
                })
            ]
        })
    });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CorpCertifiedTag);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 39762:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "s": () => (/* binding */ buildSpaceCertSheetUrl)
/* harmony export */ });
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85421);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 
const buildSpaceCertSheetUrl = (spaceId)=>{
    const formUrlTemplate = (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_0__/* .getEnvVariables */ .Sy)().SPACE_OVERVIEW_SOCIAL_AD_URL;
    return formUrlTemplate.replace("{spaceId}", spaceId);
};


/***/ }),

/***/ 72445:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "b": () => (/* reexport safe */ _space_menu_tree__WEBPACK_IMPORTED_MODULE_0__.b)
/* harmony export */ });
/* harmony import */ var _space_menu_tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81005);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_space_menu_tree__WEBPACK_IMPORTED_MODULE_0__]);
_space_menu_tree__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 81005:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "b": () => (/* binding */ SpaceMenuTree)
/* harmony export */ });
/* unused harmony export getSpaceNavList */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(12746);
/* harmony import */ var enterprise__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(14463);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(46517);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(71853);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(75914);
/* harmony import */ var pc_components_organization_head__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(93589);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22829);
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(85421);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(28953);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_15__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__, pc_components_organization_head__WEBPACK_IMPORTED_MODULE_7__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__, pc_hooks__WEBPACK_IMPORTED_MODULE_9__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__, pc_components_organization_head__WEBPACK_IMPORTED_MODULE_7__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__, pc_hooks__WEBPACK_IMPORTED_MODULE_9__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 




// @ts-ignore












const { TreeNode , DirectoryTree  } = antd__WEBPACK_IMPORTED_MODULE_13__/* .Tree */ .mp;
const SPACE_INFO_KEY = "overview";
const DEFAULT_PATH_KEY = SPACE_INFO_KEY;
const getPathKey = (menuTree, pathname)=>{
    const pathList = pathname.split("/");
    const pathKey = pathList[pathList.length - 1];
    if (menuTree.find((item)=>item.key === pathKey || item.children && item.children.find((item)=>item.key === pathKey))) {
        return [
            pathKey
        ];
    }
    return [
        DEFAULT_PATH_KEY
    ];
};
const getSpaceNavList = (isMainAdmin, permissions, marketplaceDisable, isSelfVika)=>(0,lodash__WEBPACK_IMPORTED_MODULE_4__.compact)([
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_info),
            key: SPACE_INFO_KEY,
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.DashboardOutlined, {}),
            valid: true,
            routeAddress: "/overview"
        },
        enterprise__WEBPACK_IMPORTED_MODULE_14__.Log && {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_log_title),
            key: "log",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.LogOutlined, {}),
            valid: isMainAdmin && (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)().SPACE_LOGS_VISIBLE,
            routeAddress: "/log"
        },
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.view_permission_description),
            key: "workbench",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.WorkbenchOutlined, {}),
            valid: (isMainAdmin || permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PermissionCode.WORKBENCH)) && (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)().SPACE_PERMISSION_OVERVIEW_VISIBLE,
            routeAddress: "/workbench"
        },
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.upgrade_space),
            key: "upgrade",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.RocketOutlined, {}),
            valid: Boolean(isSelfVika && !(0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .isMobileApp */ .k)() && (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)().SPACE_UPGRADE_PAGE_VISIBLE),
            routeAddress: "/upgrade"
        },
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.organization_and_role),
            key: "addressManage",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.DepartmentOutlined, {}),
            valid: isMainAdmin || permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PermissionCode.TEAM) || permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PermissionCode.MEMBER) || permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PermissionCode.MANAGE_ROLE),
            children: [
                {
                    routeAddress: "/managemember",
                    title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.members_setting),
                    key: "managemember",
                    valid: true
                },
                {
                    routeAddress: "/role",
                    title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.tab_role),
                    key: "role",
                    valid: permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PermissionCode.MANAGE_ROLE) && (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)().SPACE_ROLE_VISIBLE
                },
                {
                    title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.share_permisson_model_space_admin),
                    key: "manager",
                    valid: isMainAdmin,
                    routeAddress: "/manager"
                }, 
            ]
        },
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_and_security),
            key: "security",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ShieldCheckOutlined, {}),
            valid: (isMainAdmin || permissions.includes(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.PermissionCode.SECURITY)) && (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)().SPACE_SECURITY_PAGE_VISIBLE,
            routeAddress: "/security"
        },
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_manage_menu_social),
            key: "marketing",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.ManageApplicationOutlined, {}),
            valid: isMainAdmin && !marketplaceDisable && !(0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .isMobileApp */ .k)() && Boolean(enterprise__WEBPACK_IMPORTED_MODULE_14__.Marketing),
            routeAddress: "/marketing"
        },
        {
            title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.admin_test_function),
            key: "test-function",
            icon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.TestOutlined, {}),
            routeAddress: "/test-function",
            valid: (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)().SPACE_EXPERIMENTAL_FEATURES_VISIBLE
        }, 
    ]);
const SpaceMenuTree = ()=>{
    const { spaceId , spaceResource , userInfo , appType  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_12__.useSelector)((state)=>({
            spaceId: state.space.activeId || "",
            spaceResource: state.spacePermissionManage.spaceResource,
            userInfo: state.user.info,
            appType: state.space.curSpaceInfo?.social.appType
        }), react_redux__WEBPACK_IMPORTED_MODULE_12__.shallowEqual);
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_6__/* .ScreenSize.md */ ._.md);
    const { SPACE_INTEGRATION_PAGE_VISIBLE  } = (0,pc_utils_env__WEBPACK_IMPORTED_MODULE_10__/* .getEnvVariables */ .Sy)();
    const { 0: menuTree , 1: setMenuTree  } = (0,react__WEBPACK_IMPORTED_MODULE_11__.useState)([]);
    const onSelect = (key)=>{
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_8__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.SPACE_MANAGE, {
            params: {
                spaceId,
                pathInSpace: key[0]
            }
        });
    };
    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)();
    const selectedKeys = getPathKey(menuTree, router.pathname);
    (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(()=>{
        if (!spaceResource) {
            return;
        }
        const { mainAdmin , permissions  } = spaceResource;
        const navList = getSpaceNavList(mainAdmin, permissions, !SPACE_INTEGRATION_PAGE_VISIBLE, appType == null);
        if (isMobile) {
            setMenuTree(navList.slice(0, 1));
            return;
        }
        setMenuTree(navList);
    }, [
        spaceResource,
        SPACE_INTEGRATION_PAGE_VISIBLE,
        appType,
        isMobile
    ]);
    const renderTreeNode = (data)=>{
        if (!spaceResource || !data || !data.length) {
            return null;
        }
        return data.map((item)=>{
            if (!enterprise__WEBPACK_IMPORTED_MODULE_14__/* .isEnterprise */ .ko && [
                "upgrade",
                "security"
            ].includes(item.key)) {
                return [];
            }
            if (userInfo && userInfo.isDelSpace && item.key !== SPACE_INFO_KEY) {
                return [];
            }
            if (!item.valid) {
                return [];
            }
            if (item.children && item.children.length) {
                return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(TreeNode, {
                    title: item.title,
                    selectable: false,
                    icon: item.icon,
                    children: renderTreeNode(item.children)
                }, item.key);
            }
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(TreeNode, {
                title: item.title,
                icon: item.icon,
                className: item.icon ? (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().noIcon) : "",
                isLeaf: true
            }, item.key);
        });
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().spaceMenuTree),
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_organization_head__WEBPACK_IMPORTED_MODULE_7__/* .OrganizationHead */ .v, {}),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_components__WEBPACK_IMPORTED_MODULE_1__.Typography, {
                variant: "h8",
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_15___default().spaceSubTitle),
                children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space_setting)
            }),
            spaceResource && menuTree.length > 0 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(DirectoryTree, {
                onSelect: onSelect,
                switcherIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.TriangleRightFilled, {
                        size: 12
                    })
                }),
                // defaultSelectedKeys={[SPACE_INFO_KEY]}
                showIcon: true,
                expandAction: false,
                selectedKeys: selectedKeys,
                defaultExpandAll: true,
                children: renderTreeNode(menuTree)
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 47109:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C": () => (/* reexport safe */ _permission_desc__WEBPACK_IMPORTED_MODULE_0__.C)
/* harmony export */ });
/* harmony import */ var _permission_desc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23866);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_permission_desc__WEBPACK_IMPORTED_MODULE_0__]);
_permission_desc__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 23866:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C": () => (/* binding */ PermissionDescModal)
/* harmony export */ });
/* unused harmony export PermissionDesc */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(12746);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var pc_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70220);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(59003);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(39470);
/* harmony import */ var _style_module_less__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_style_module_less__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11156);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64754);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pc_utils__WEBPACK_IMPORTED_MODULE_3__, pc_components_common__WEBPACK_IMPORTED_MODULE_5__, pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__, _apitable_components__WEBPACK_IMPORTED_MODULE_7__]);
([pc_utils__WEBPACK_IMPORTED_MODULE_3__, pc_components_common__WEBPACK_IMPORTED_MODULE_5__, pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__, _apitable_components__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 










const { Panel  } = antd__WEBPACK_IMPORTED_MODULE_9__/* .Collapse */ .UO;
const colorArr = [
    _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.rc02,
    _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.rc01,
    _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.successColor,
    _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.rc07
];
const tagTitles = [
    {
        text: `${(0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.space)}/${(0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.share_permisson_model_node_owner)}`,
        color: colorArr[0]
    },
    {
        text: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.can_control),
        color: colorArr[1]
    },
    {
        text: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.can_edit),
        color: colorArr[2]
    },
    {
        text: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.can_updater),
        color: colorArr[0]
    },
    {
        text: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.can_read),
        color: colorArr[3]
    }, 
];
const PermissionDesc = ({ style  })=>{
    const renderTag = (arr)=>{
        if (!arr.length) {
            return;
        }
        return arr.map((item)=>{
            const baseStyle = {
                background: (0,pc_utils__WEBPACK_IMPORTED_MODULE_3__/* .hexToRGB */ .$W)(item.color || _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.rowSelectedBg, item.color ? 0.1 : 0.6),
                color: item.color || _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.secondLevelText
            };
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().titleTag),
                style: baseStyle,
                children: item.text
            }, item.text);
        });
    };
    const renderCollapse = ()=>{
        let config;
        try {
            config = JSON.parse((0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_config_in_workbench_page));
        } catch (e) {
            console.warn(e);
        }
        if (!config) {
            return;
        }
        return config.map((per)=>{
            const { title , detail , key  } = per;
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(Panel, {
                header: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().panelHeader),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.TriangleRightFilled, {}),
                        title
                    ]
                }),
                children: detail.map((item)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_9__/* .Row */ .X2, {
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().perItem),
                        children: [
                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_9__/* .Col */ .JX, {
                                span: 7,
                                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().perItemLeft),
                                children: item.title
                            }),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_9__/* .Col */ .JX, {
                                span: 17,
                                className: classnames__WEBPACK_IMPORTED_MODULE_4___default()((_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().tagTitleRight), (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().perItemRight)),
                                children: [
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.CheckOutlined, {
                                        color: item.permissions.includes(0) ? colorArr[0] : _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.lineColor
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.CheckOutlined, {
                                        color: item.permissions.includes(1) ? colorArr[1] : _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.lineColor
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.CheckOutlined, {
                                        color: item.permissions.includes(2) ? colorArr[2] : _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.lineColor
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.CheckOutlined, {
                                        color: item.permissions.includes(3) ? colorArr[0] : _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.lineColor
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.CheckOutlined, {
                                        color: item.permissions.includes(4) ? colorArr[3] : _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.lineColor
                                    })
                                ]
                            })
                        ]
                    }, item.title))
            }, key);
        });
    };
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().permissionDesc),
        style: style,
        children: [
            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_9__/* .Row */ .X2, {
                children: [
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_9__/* .Col */ .JX, {
                        span: 7,
                        children: renderTag([
                            {
                                text: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings["function"])
                            }
                        ])
                    }),
                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_9__/* .Col */ .JX, {
                        span: 17,
                        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().tagTitleRight),
                        children: renderTag(tagTitles)
                    })
                ]
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().collapse),
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(antd__WEBPACK_IMPORTED_MODULE_9__/* .Collapse */ .UO, {
                    ghost: true,
                    bordered: false,
                    defaultActiveKey: [
                        0,
                        1
                    ],
                    children: renderCollapse()
                })
            })
        ]
    });
};
const PermissionDescModal = (props)=>{
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common_modal_modal_modal__WEBPACK_IMPORTED_MODULE_6__.Modal, {
        title: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            children: [
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                    children: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.view_permission_description)
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(pc_components_common__WEBPACK_IMPORTED_MODULE_5__/* .Tooltip */ .u, {
                    title: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.permission_setting_tip),
                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("a", {
                            href: (0,_apitable_core__WEBPACK_IMPORTED_MODULE_2__.t)(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Strings.set_permission_modal_help),
                            target: "_blank",
                            rel: "noreferror noreferrer",
                            style: {
                                display: "flex"
                            },
                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_8__.QuestionCircleOutlined, {
                                size: 16,
                                color: _apitable_components__WEBPACK_IMPORTED_MODULE_7__.colorVars.thirdLevelText
                            })
                        })
                    })
                })
            ]
        }),
        maskClosable: true,
        footer: null,
        width: 876,
        centered: true,
        className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().permissionDescModal),
        destroyOnClose: true,
        ...props,
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
            className: (_style_module_less__WEBPACK_IMPORTED_MODULE_10___default().body),
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(PermissionDesc, {})
        })
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 26661:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "yf": () => (/* reexport safe */ _node_tree__WEBPACK_IMPORTED_MODULE_1__.y)
/* harmony export */ });
/* harmony import */ var _template_detail__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(79167);
/* harmony import */ var _node_tree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(84725);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_template_detail__WEBPACK_IMPORTED_MODULE_0__, _node_tree__WEBPACK_IMPORTED_MODULE_1__]);
([_template_detail__WEBPACK_IMPORTED_MODULE_0__, _node_tree__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 


/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = ((/* unused pure expression or super */ null && (TemplateDetail)));

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 84725:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "y": () => (/* binding */ NodeTree)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65846);
/* harmony import */ var _apitable_icons__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(12746);
/* harmony import */ var pc_components_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(23403);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(75914);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(22829);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_8__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__, pc_hooks__WEBPACK_IMPORTED_MODULE_7__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__, pc_hooks__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 









const { DirectoryTree , TreeNode  } = antd__WEBPACK_IMPORTED_MODULE_9__/* .Tree */ .mp;
const NodeTree = (props)=>{
    const colors = (0,_apitable_components__WEBPACK_IMPORTED_MODULE_1__.useThemeColors)();
    const { nodeTree  } = props;
    const nodeId = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Selectors.getNodeId(state));
    const { templateId , categoryId  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>state.pageParams);
    const spaceId = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>state.space.activeId);
    const { screenIsAtMost  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_7__/* .useResponsive */ .Fs)();
    const isMobile = screenIsAtMost(pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_5__/* .ScreenSize.md */ ._.md);
    const { setSideBarVisible  } = (0,pc_hooks__WEBPACK_IMPORTED_MODULE_7__/* .useSideBarVisible */ .xn)();
    if (!nodeTree) {
        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
    }
    function onSelect(selectedKeys) {
        const [dsId] = selectedKeys;
        pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_6__/* .Router.push */ .F.push(_apitable_core__WEBPACK_IMPORTED_MODULE_2__.Navigation.TEMPLATE, {
            params: {
                spaceId,
                templateId,
                categoryId,
                nodeId: dsId
            }
        });
        isMobile && setSideBarVisible(false);
    }
    const renderNode = (node, colors)=>{
        if (!node || !node.length) {
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
        }
        return node.map((item)=>{
            const icon = (0,pc_components_catalog_tree_node_icon__WEBPACK_IMPORTED_MODULE_4__/* .getNodeIcon */ .n)(item.icon, item.type, {
                size: 16,
                emojiSize: 18,
                actived: item.nodeId === nodeId,
                normalColor: colors.defaultBg
            });
            if (item.type === _apitable_core__WEBPACK_IMPORTED_MODULE_2__.ConfigConstant.NodeType.FOLDER) {
                return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(TreeNode, {
                    title: item.nodeName,
                    style: {
                        width: "100%"
                    },
                    icon: icon,
                    children: renderNode(item.children, colors)
                }, item.nodeId);
            }
            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(TreeNode, {
                title: item.nodeName,
                style: {
                    width: "100%"
                },
                isLeaf: true,
                icon: icon
            }, item.nodeId);
        });
    };
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(DirectoryTree, {
        defaultExpandAll: true,
        onSelect: onSelect,
        switcherIcon: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_apitable_icons__WEBPACK_IMPORTED_MODULE_3__.TriangleDownFilled, {
                size: 12
            })
        }),
        selectedKeys: [
            nodeId
        ],
        expandAction: false,
        children: renderNode([
            nodeTree
        ], colors)
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 79167:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
/* unused harmony export TemplateDetail */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _apitable_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64754);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23440);
/* harmony import */ var _apitable_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apitable_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(57398);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ahooks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var dingtalk_design_libs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(89208);
/* harmony import */ var dingtalk_design_libs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dingtalk_design_libs__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var dingtalk_jsapi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(34210);
/* harmony import */ var dingtalk_jsapi__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dingtalk_jsapi__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(46517);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(71853);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var pc_components_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(54106);
/* harmony import */ var pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(75914);
/* harmony import */ var pc_components_common_side__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(40994);
/* harmony import */ var pc_components_dashboard_panel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(53732);
/* harmony import */ var pc_components_datasheet_pane__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(33707);
/* harmony import */ var pc_components_folder_showcase__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(26116);
/* harmony import */ var pc_components_form_panel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(16096);
/* harmony import */ var pc_components_mirror_mirror_route__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(90211);
/* harmony import */ var pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(72932);
/* harmony import */ var pc_hooks__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(22829);
/* harmony import */ var pc_hooks_use_app_dispatch__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(36367);
/* harmony import */ var pc_utils_env__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(85421);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(6022);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var react_split_pane__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(74312);
/* harmony import */ var react_split_pane__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(react_split_pane__WEBPACK_IMPORTED_MODULE_22__);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_8__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__, pc_components_common_side__WEBPACK_IMPORTED_MODULE_10__, pc_components_dashboard_panel__WEBPACK_IMPORTED_MODULE_11__, pc_components_datasheet_pane__WEBPACK_IMPORTED_MODULE_12__, pc_components_folder_showcase__WEBPACK_IMPORTED_MODULE_13__, pc_components_form_panel__WEBPACK_IMPORTED_MODULE_14__, pc_components_mirror_mirror_route__WEBPACK_IMPORTED_MODULE_15__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_16__, pc_hooks__WEBPACK_IMPORTED_MODULE_17__]);
([_apitable_components__WEBPACK_IMPORTED_MODULE_1__, pc_components_common__WEBPACK_IMPORTED_MODULE_8__, pc_components_common_component_display__WEBPACK_IMPORTED_MODULE_9__, pc_components_common_side__WEBPACK_IMPORTED_MODULE_10__, pc_components_dashboard_panel__WEBPACK_IMPORTED_MODULE_11__, pc_components_datasheet_pane__WEBPACK_IMPORTED_MODULE_12__, pc_components_folder_showcase__WEBPACK_IMPORTED_MODULE_13__, pc_components_form_panel__WEBPACK_IMPORTED_MODULE_14__, pc_components_mirror_mirror_route__WEBPACK_IMPORTED_MODULE_15__, pc_components_route_manager_router__WEBPACK_IMPORTED_MODULE_16__, pc_hooks__WEBPACK_IMPORTED_MODULE_17__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 














// @ts-ignore










const _SplitPane = (/* unused pure expression or super */ null && (SplitPane));
const TemplateDetail = ()=>{
    const colors = useThemeColors();
    const router = useRouter();
    const { sideBarVisible: _sideBarVisible  } = useSideBarVisible();
    const pageParams = useSelector((state)=>state.pageParams);
    const { datasheetId , folderId , templateId , categoryId , formId , dashboardId , mirrorId  } = pageParams;
    const spaceId = useSelector((state)=>state.space.activeId);
    const activeNodeId = useSelector((state)=>Selectors.getNodeId(state));
    const { getTemplateDirectoryReq  } = useTemplateRequest();
    const { run: getTemplateDirectory  } = useRequest(getTemplateDirectoryReq, {
        manual: true
    });
    const templateDirectory = useSelector((state)=>state.templateCentre.directory);
    const dispatch = useAppDispatch();
    const query = useQuery();
    const appId = query.get("appId") || "";
    const corpId = query.get("corpId") || "";
    const purchaseToken = query.get("purchaseToken") || "";
    const isSkuPage = isDingtalkSkuPage?.(purchaseToken);
    const sideBarVisible = !isSkuPage && _sideBarVisible;
    const { screenIsAtMost  } = useResponsive();
    const isMobile = screenIsAtMost(ScreenSize.md);
    useMount(()=>{
        Player.doTrigger(Events.template_detail_shown);
        openSku();
    });
    useUnmount(()=>{
        dispatch(StoreActions.updateTemplateDirectory(null));
    });
    useEffect(()=>{
        if (!templateId) {
            return;
        }
        // Whether it is a space template
        const isPrivate = categoryId === "tpcprivate";
        getTemplateDirectory(templateId, isPrivate, categoryId);
        // Use the spaceId of the official template space in the configuration table under the official template to query
        if (templateId && categoryId !== "tpcprivate" && isEnterprise) {
            dispatch(StoreActions.fetchMarketplaceApps(getEnvVariables().TEMPLATE_SPACE_ID));
        }
    }, [
        templateId,
        getTemplateDirectory,
        categoryId,
        dispatch,
        spaceId
    ]);
    useEffect(()=>{
        if (mirrorId || activeNodeId) {
            return;
        }
        const routerTemplateId = get(router.query, "template_id.0");
        const nodeId = datasheetId || activeNodeId || templateDirectory?.nodeTree.nodeId || "";
        if (!nodeId) {
            return;
        }
        Router.replace(Navigation.TEMPLATE, {
            params: {
                spaceId,
                categoryId,
                templateId: templateId || routerTemplateId,
                nodeId: nodeId
            }
        });
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [
        mirrorId,
        categoryId,
        datasheetId,
        spaceId,
        templateDirectory,
        templateId,
        activeNodeId
    ]);
    const getComponent = ()=>{
        if (!templateDirectory || !templateId) {
            return;
        }
        if (mirrorId) {
            return /*#__PURE__*/ _jsx(MirrorRoute, {});
        } else if (datasheetId) {
            return /*#__PURE__*/ _jsx(DataSheetPane, {});
        } else if (formId) {
            return /*#__PURE__*/ _jsx(FormPanel, {});
        } else if (dashboardId) {
            return /*#__PURE__*/ _jsx(DashboardPanel, {});
        } else if (folderId) {
            const parentNode = findNode([
                templateDirectory.nodeTree
            ], folderId);
            const childNodes = (parentNode && parentNode.children) ?? [];
            return /*#__PURE__*/ _jsx(FolderShowcase, {
                nodeInfo: {
                    icon: templateDirectory.nodeTree.icon,
                    name: templateDirectory.nodeTree.nodeName,
                    id: templateDirectory.nodeTree.nodeId
                },
                readOnly: true,
                childNodes: childNodes
            });
        }
        return;
    };
    const localSize = localStorage.getItem("splitPos");
    let defaultSize = localSize ? parseInt(localSize, 10) : 280;
    defaultSize = templateId ? 320 : defaultSize;
    // In the Dingtalk, open the trial pop-up window, open it and jump to the home page to try
    const openSku = ()=>{
        if (!isSkuPage || !corpId || !purchaseToken) return;
        openTryoutSku({
            corpId,
            appId: appId ? Number(appId) : undefined,
            token: purchaseToken
        }).then((res)=>{
            const { action , corpId  } = res;
            if (action === "ok") {
                const url = new URL(window.location.origin);
                url.pathname = "/user/dingtalk/social_bind_space";
                url.searchParams.set("corpId", corpId);
                url.searchParams.set("suiteId", "19704002");
                url.searchParams.set("ddtab", "true");
                if (isMobile) {
                    dd.biz.util.openLink({
                        url: url.href
                    }).then(()=>dd.biz.navigation.close({}));
                } else {
                    window.location.href = url.href;
                }
            }
        }).catch((err)=>{
            console.warn(err);
        });
    };
    const MainComponent = ()=>{
        if (!templateDirectory) {
            return /*#__PURE__*/ _jsx(Loading, {});
        }
        return /*#__PURE__*/ _jsx("div", {
            className: styles.right,
            style: {
                borderLeft: !sideBarVisible ? `16px solid ${colors.blackBlue[900]}` : ""
            },
            onClick: openSku,
            children: /*#__PURE__*/ _jsx("div", {
                className: styles.content,
                style: {
                    pointerEvents: isSkuPage ? "none" : "auto"
                },
                children: templateDirectory && getComponent()
            })
        });
    };
    return /*#__PURE__*/ _jsxs("div", {
        id: AutoTestID.TEMPLATE_DETAIL_CONTAINER,
        className: styles.templateDetailWrapper,
        children: [
            /*#__PURE__*/ _jsx(ComponentDisplay, {
                minWidthCompatible: ScreenSize.md,
                children: /*#__PURE__*/ _jsxs(_SplitPane, {
                    split: "vertical",
                    minSize: templateId ? 320 : 280,
                    defaultSize: defaultSize,
                    maxSize: 800,
                    style: {
                        overflow: "hidden"
                    },
                    size: !sideBarVisible ? 0 : defaultSize,
                    allowResize: sideBarVisible,
                    resizerStyle: {
                        backgroundColor: colors.blackBlue[900]
                    },
                    children: [
                        isSkuPage ? /*#__PURE__*/ _jsx("div", {}) : /*#__PURE__*/ _jsx(CommonSide, {}),
                        MainComponent()
                    ]
                })
            }),
            /*#__PURE__*/ _jsx(ComponentDisplay, {
                maxWidthCompatible: ScreenSize.md,
                children: /*#__PURE__*/ _jsx("div", {
                    className: styles.mobile,
                    children: MainComponent()
                })
            })
        ]
    });
};

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 89101:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "T": () => (/* binding */ usePercent)
/* harmony export */ });
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57398);
/* harmony import */ var ahooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ahooks__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/**
 * APITable <https://github.com/apitable/apitable>
 * Copyright (C) 2022 APITable Ltd. <https://apitable.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ 

const usePercent = (startValue = 0, endValue = 100, delay = 1000, options)=>{
    // Progress values
    const { 0: percent , 1: setPercent  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(startValue);
    // Whether to start the countdown
    const { 0: isStart , 1: setIsStart  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    (0,ahooks__WEBPACK_IMPORTED_MODULE_0__.useInterval)(()=>{
        if (percent === endValue) {
            setIsStart(false);
            return;
        }
        setPercent(percent + 1);
    }, isStart ? delay : undefined, options);
    return {
        percent,
        start: ()=>setIsStart(true),
        stop: ()=>setIsStart(false),
        reset: ()=>{
            setPercent(startValue);
            setIsStart(false);
        }
    };
};


/***/ })

};
;